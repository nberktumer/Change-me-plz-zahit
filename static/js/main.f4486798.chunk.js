(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports={addNodeDialogButtonContainer:"AddNodeDialog_addNodeDialogButtonContainer__1tDnI",addNodeDialogBody:"AddNodeDialog_addNodeDialogBody__375vP"}},147:function(e,t,n){e.exports={diagramLayer:"CanvasPanel_diagramLayer__2ntH1",srdDemoCanvas:"CanvasPanel_srdDemoCanvas__1zBET"}},289:function(e,t,n){e.exports=n(522)},34:function(e,t,n){e.exports={rectangleNode:"BaseFlow_rectangleNode__2mYnm","rectangleNode--selected":"BaseFlow_rectangleNode--selected__NG69M",rectangleNodeTitle:"BaseFlow_rectangleNodeTitle__2QFu2",rectangleNodeInfo:"BaseFlow_rectangleNodeInfo__316U-",fa:"BaseFlow_fa__2iI4L",rectangleNodeName:"BaseFlow_rectangleNodeName__3KtLw",rectangleNodePorts:"BaseFlow_rectangleNodePorts__3S0xh",rectangleNodeIn:"BaseFlow_rectangleNodeIn__1HTAg",rectangleNodeOut:"BaseFlow_rectangleNodeOut__1hphi",editIcon:"BaseFlow_editIcon__2HJ6V",nodePropertiesWindow:"BaseFlow_nodePropertiesWindow__3q-7G"}},44:function(e,t,n){e.exports={App:"Home_App__8yp_q",homeApp:"Home_homeApp__2TiDk",paneContent:"Home_paneContent__gFQu5",diagramLayer:"Home_diagramLayer__3tPiI",srdDemoCanvas:"Home_srdDemoCanvas__1fvp5",propertiesPanel:"Home_propertiesPanel__2F0Ya",languageSelector:"Home_languageSelector__2qUng",underline:"Home_underline__2cEvf",homeLogoText:"Home_homeLogoText__5dAfy",homeContainer:"Home_homeContainer__2E3Sq"}},514:function(e,t,n){},522:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(18),r=n.n(o),l=n(2),c=n(3),s=n(7),u=n(5),d=n(8),h=n(44),p=n.n(h),f=n(33),v=n(95),m=n.n(v),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:m.a.tray},this.props.children)}}]),t}(a.Component);b.defaultProps={};var y,g,O,w,C,I,N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{borderColor:this.props.color},draggable:!0,onDragStart:function(t){t.dataTransfer.setData("storm-diagram-node",JSON.stringify(e.props.model))},className:m.a.trayItem},this.props.name)}}]),t}(i.a.Component);!function(e){e[e.JAVA=0]="JAVA",e[e.KOTLIN=1]="KOTLIN"}(y||(y={})),function(e){e.INT="Int",e.STRING="String",e.BOOLEAN="Boolean",e.DOUBLE="Double",e.MAIN_ARG="MainArg"}(g||(g={})),function(e){e.ADDITION="Addition",e.SUBTRACTION="Subtraction",e.MULTIPLICATION="Multiplication",e.DIVISION="Division",e.ROOT="Root"}(O||(O={})),function(e){e.INITIAL="Initial",e.IF="If",e.WHILE="While",e.FOR="For",e.INPUT="Input",e.OUTPUT="Output",e.ARITHMETIC="Arithmetic",e.ASSIGNMENT="Assignment",e.RANDOM="Random",e.DATA_CLASS="DataClass"}(w||(w={})),function(e){e.EQUALS="Equals",e.NOT_EQUALS="NotEquals",e.GREATER_THAN="GreaterThan",e.GREATER_THAN_OR_EQUALS="GreaterThanOrEquals",e.LESS_THAN="LessThan",e.LESS_THAN_OR_EQUALS="LessThanOrEquals"}(C||(C={})),function(e){e.AND="&&",e.OR="||"}(I||(I={}));var T={PROGRAMMING_LANGUAGE:y.KOTLIN,ROOT_FOLDER_NAME:"src",SAVE_EXTENSION:"flowie"},k={IF:"rgb(0, 192, 255)",WHILE:"rgb(192, 0, 255)",VARIABLE:"rgb(255, 192, 0)",ARITHMETIC:"rgb(192, 255, 0)",FOR:"rgb(255, 0, 192)",INITIAL:"rgb(0, 255, 192)",RANDOM:"rgb(192, 255, 192)",DATA_CLASS:"rgb(192, 192, 255)"},j=30,E=n(219),F=n.n(E),S=n(225),L=(n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(S.a,{handleWidth:!0,handleHeight:!0,refreshRate:300,refreshMode:"throttle",render:function(t){var n=t.width,a=t.height;return i.a.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(F.a,{mode:"javascript",theme:"tomorrow_night",name:"blah2",fontSize:14,height:a-40+"px",width:n+"px",wrapEnabled:!0,value:e.props.code,setOptions:{dragEnabled:!1,readOnly:!0,highlightActiveLine:!1,useWorker:!1}}))}})}}]),t}(a.Component));L.defaultProps={language:T.PROGRAMMING_LANGUAGE,code:void 0};var D,A=n(100),x=(n(362),function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"UID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),e}()),M=n(221),P=new(n.n(M).a)({en:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",constant:"Constant",constantValue:"Constant Value",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output",file:"File",save:"Save",load:"Load",new:"New",fileReadError:"Could not read file",variableExists:"Variable name already exists!",variableFirstCharacterError:"First character of the variable name must be an alphabetic character!",classFirstCharacterError:"First character of the class name must be a capital alphabetic character!",variableContainsInvalidCharacters:"Variable name contains invalid characters!",classContainsInvalidCharacters:"Class name contains invalid characters!",conditionType:"Condition Type",invalid:"Invalid",nextFlow:"Next Flow",random:"Random",minValue:"Minimum Value",maxValue:"Maximum Value",properties:"Properties",newProject:"New Project",loadProject:"Load Project",projectName:"Project Name",createProject:"Create Project",cancel:"Cancel",create:"Create",newClass:"New Class",newDataClass:"New Data Class",newPackage:"New Package",newFunction:"New Function",dataClass:"Data Class"},tr:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",constant:"Constant",constantValue:"Constant Value",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output",file:"File",save:"Save",load:"Load",new:"New",fileReadError:"Could not read file",variableExists:"Variable name already exists!",variableFirstCharacterError:"First character of the variable name must be an alphabetic character!",classFirstCharacterError:"First character of the class name must be a capital alphabetic character!",variableContainsInvalidCharacters:"Variable name contains invalid characters!",classContainsInvalidCharacters:"Class name contains invalid characters!",conditionType:"Condition Type",invalid:"Invalid",nextFlow:"Next Flow",random:"Random",minValue:"Minimum Value",maxValue:"Maximum Value",properties:"Properties",newProject:"New Project",loadProject:"Load Project",projectName:"Project Name",createProject:"Create Project",cancel:"Cancel",create:"Create",newClass:"New Class",newDataClass:"New Data Class",newPackage:"New Package",newFunction:"New Function",dataClass:"Data Class"}}),_=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"save",value:function(e,t){var n=new Blob([t],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var a=window.document.createElement("a");a.href=window.URL.createObjectURL(n),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},{key:"load",value:function(e,t){var n=window.document.createElement("input");n.type="file",n.accept=".".concat(T.SAVE_EXTENSION),n.onchange=function(n){if(n.target.files){var a=n.target.files[0];a||t(P.fileReadError);var i=new FileReader;i.onerror=function(){t(P.fileReadError)},i.onload=function(t){var n=t.target.result;e(n)},i.readAsText(a)}else t(P.fileReadError)},n.click()}}]),e}(),V=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"arithmeticOperation",value:function(e){switch(e){case O.ADDITION:return"+";case O.SUBTRACTION:return"-";case O.MULTIPLICATION:return"*";case O.DIVISION:return"/";case O.ROOT:return"root";default:return"UNKNOWN"}}},{key:"booleanOperation",value:function(e){switch(e){case C.GREATER_THAN:return">";case C.GREATER_THAN_OR_EQUALS:return">=";case C.LESS_THAN:return"<";case C.LESS_THAN_OR_EQUALS:return"<=";case C.EQUALS:return"==";case C.NOT_EQUALS:return"!=";default:return"UNKNOWN"}}}]),e}(),R=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"validateVariableName",value:function(e,t){return 0===e.length?"":t.find(function(t){return t.name===e})?P.variableExists:e.charAt(0).match(/[a-z]/i)?e.match(/^(?!-)(?!.*-)[A-Za-z0-9-_]+$/)?"":P.variableContainsInvalidCharacters:P.variableFirstCharacterError}},{key:"validateClassName",value:function(e){return e.charAt(0).match(/[A-Z]/i)?e.match(/^(?!-)(?!.*-)[A-Za-z]+$/)?"":P.classContainsInvalidCharacters:P.classFirstCharacterError}}]),e}(),U=function e(t,n,a,i,o){Object(l.a)(this,e),this.id=void 0,this.filename=void 0,this.json=void 0,this.isDir=void 0,this.isMainClass=void 0,this.children=void 0,this.id=x.UID(),this.filename=t,this.json=n,this.isDir=a,this.isMainClass=i,this.children=o},H=i.a.createContext({project:new U("","",!1,!1,[])}),B=H.Provider,z=H.Consumer,G=n(6),J=n(15),W=n.n(J),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).nodeMap={},n.newClass=function(){n.props.onNewClass(n.state.itemPath),n.setState({currentTarget:null,itemPath:""})},n.newDataClass=function(){n.props.onNewDataClass(n.state.itemPath),n.setState({currentTarget:null,itemPath:""})},n.newFunction=function(){n.setState({currentTarget:null,itemPath:""})},n.newPackage=function(){n.props.onNewPackage(n.state.itemPath),n.setState({currentTarget:null,itemPath:""})},n.onDoubleClick=function(e){n.props.onDoubleClickListener(e)},n.renderTree=function(e,t){return n.nodeMap[e.id]=W.a.merge(e,{path:t?"".concat(t,"/").concat(e.filename):e.filename}),e.isDir?i.a.createElement(A.a,{icon:i.a.createElement(G.p,{style:{fontSize:16}},"folder"),title:e.filename,key:e.id,isLeaf:!1},e.children.map(function(t){return n.renderTree(t,n.nodeMap[e.id].path)})):i.a.createElement(A.a,{icon:i.a.createElement(G.p,{style:{fontSize:16}},"insert_drive_file"),title:e.filename,key:e.id,isLeaf:!0})},n.state={itemPath:"",currentTarget:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(z,null,function(t){return i.a.createElement("div",{style:{color:"white"}},i.a.createElement(G.r,{id:"simple-menu",anchorEl:e.state.currentTarget,open:Boolean(e.state.currentTarget),onClose:function(){return e.setState({currentTarget:null})}},i.a.createElement(G.s,{onClick:function(){return e.newPackage()}},P.newPackage),i.a.createElement(G.s,{onClick:function(){return e.newClass()}},P.newFunction),i.a.createElement(G.s,{onClick:function(){return e.newDataClass()}},P.newDataClass)),i.a.createElement(A.b,{defaultExpandAll:!0,selectable:!1,onMouseEnter:function(t){t.event.target&&t.event.target.addEventListener("dblclick",function(){return e.onDoubleClick(e.nodeMap[t.node.props.eventKey])})},onMouseLeave:function(t){t.event.target&&t.event.target.removeEventListener("dblclick",function(){return e.onDoubleClick(e.nodeMap[t.node.props.eventKey])})},onRightClick:function(t){t.node.props.isLeaf||e.setState({currentTarget:t.event.currentTarget,itemPath:e.nodeMap[t.node.props.eventKey].path})}},e.renderTree(t.project)))})}}]),t}(a.Component),q=n(62),K=n.n(q),Y=n(145),Z=n.n(Y),$=n(16),X=n(26);!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(D||(D={}));var ee,te=function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"srd-default-port",e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getClassName",value:function(){return Object($.a)(Object(u.a)(t.prototype),"getClassName",this).call(this)+(this.props.model.portType.location===D.LEFT?this.bem("--in"):this.bem("--out"))}},{key:"render",value:function(){var e=a.createElement(X.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),t=a.createElement("div",{className:"name"},this.props.model.label);return a.createElement("div",this.getProps(),this.props.model.portType.location===D.LEFT?e:t,this.props.model.portType.location===D.LEFT?t:e)}}]),t}(X.BaseWidget),ne=function(e){function t(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,n,"default",o))).portType=void 0,a.label=void 0,a.onLinkChangedListener=void 0,a.targetPortChangedListener=function(e){var n=e.entity;null!=!e.port&&e.port instanceof t&&null!=n.sourcePort&&n.sourcePort.canLinkToPort(e.port)&&e.port.onLinkChangedListener()},a.entityRemovedListener=function(e){var t=e.entity;null!=t.getTargetPort()&&t.getTargetPort().onLinkChangedListener()},a.portType=e,a.label=i||n,a.onLinkChangedListener=function(){},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.portType=e.portType,this.label=e.label}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{portType:this.portType,label:this.label})}},{key:"link",value:function(e){var t=this.createLinkModel();return t.setSourcePort(this),t.setTargetPort(e),t}},{key:"getMaximumLinks",value:function(){return this.maximumLinks?this.maximumLinks:1/0}},{key:"canLinkToPort",value:function(e){return!(Object.keys(e.getLinks()).length>e.getMaximumLinks()||Object.keys(this.getLinks()).length>this.getMaximumLinks())&&(e.getNode()!==this.getNode()&&(this.portType.type===ee.OUT&&e.portType.type===ee.IN||this.portType.type===ee.OUT&&e.portType.type===ee.LOOP||this.portType.type===ee.SCOPE&&e.portType.type===ee.IN||this.portType.type===ee.TRUE_SCOPE&&e.portType.type===ee.IN||this.portType.type===ee.FALSE_SCOPE&&e.portType.type===ee.IN))}},{key:"addOnLinkChangedListener",value:function(e){var t=this;this.onLinkChangedListener=e,J.forEach(this.getLinks(),function(e){e.addListener({targetPortChanged:t.targetPortChangedListener,entityRemoved:t.entityRemovedListener})})}},{key:"createLinkModel",value:function(){var e=new X.DefaultLinkModel;return e.addListener({targetPortChanged:this.targetPortChangedListener,entityRemoved:this.entityRemovedListener}),e}}]),t}(X.PortModel);!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.LOOP=2]="LOOP",e[e.SCOPE=3]="SCOPE",e[e.TRUE_SCOPE=4]="TRUE_SCOPE",e[e.FALSE_SCOPE=5]="FALSE_SCOPE"}(ee||(ee={}));var ae=function e(t,n){Object(l.a)(this,e),this.type=void 0,this.location=void 0,this.type=t,this.location=n},ie=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base-flow";return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,o))).name=void 0,n.color=void 0,n.onLinkChangedListener=void 0,n.onEditClickListener=void 0,n.flowType=void 0,n.info=void 0,n.name=a,n.color=i,n.onLinkChangedListener=function(){},n.onEditClickListener=function(){},n.flowType=e,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateInfo",value:function(){}},{key:"updateNode",value:function(e){je.update(this,e)}},{key:"addOnLinkChangedListener",value:function(e){this.onLinkChangedListener=e,J.map(this.ports,function(t){t.addOnLinkChangedListener(e)})}},{key:"addInPort",value:function(e){var t=new ne(new ae(ee.IN,D.LEFT),x.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addOutPort",value:function(e){var t=new ne(new ae(ee.OUT,D.RIGHT),x.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addLoopPort",value:function(e){var t=new ne(new ae(ee.LOOP,D.LEFT),x.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addScopePort",value:function(e){var t=new ne(new ae(ee.SCOPE,D.RIGHT),x.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addTrueScopePort",value:function(e){var t=new ne(new ae(ee.TRUE_SCOPE,D.RIGHT),x.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addFalseScopePort",value:function(e){var t=new ne(new ae(ee.FALSE_SCOPE,D.RIGHT),x.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.flowType=e.flowType,this.info=e.info}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{flowType:this.flowType,info:this.info})}},{key:"getPortListByType",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.filter(this.ports,function(e){return J.includes(t,e.portType.type)})}},{key:"getPortListByLocation",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.filter(this.ports,function(e){return J.includes(t,e.portType.location)})}},{key:"getNextFlow",value:function(){var e=Object.values(this.getPortListByType(ee.OUT)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(X.NodeModel),oe=function e(){Object(l.a)(this,e)},re=function e(t,n,a){Object(l.a)(this,e),this.name=void 0,this.type=void 0,this.value=void 0,this.name=t,this.type=n,this.value=a},le=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)";return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a,i))).variable=void 0,n.variable=new re("",g.BOOLEAN,""),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable.name&&e.name&&e.name!==this.variable.name&&this.updateNextFlowVariable(this.getNextFlow(),this.variable,e,[]),this.variable=e}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}},{key:"updateNextFlowVariable",value:function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e&&!J.includes(a.map(function(e){return e.id}),e.getID())){switch(e.flowType){case w.ARITHMETIC:var o=e;o.getVariable().name===t.name&&o.setVariable(n),o.getOperator1().name===t.name&&o.setOperator1(n),o.getOperator2().name===t.name&&o.setOperator2(n);break;case w.OUTPUT:var r=e;r.getVariable().name===t.name&&r.setVariable(n);break;case w.WHILE:e.updateVariableInConditions(t,n),this.updateNextFlowVariable(e.getScopeFlow(),t,n,a,e.getID());break;case w.IF:e.updateVariableInConditions(t,n),this.updateNextFlowVariable(e.getTrueScopeFlow(),t,n,a,e.getID()),this.updateNextFlowVariable(e.getFalseScopeFlow(),t,n,a,e.getID())}this.updateNextFlowVariable(e.getNextFlow(),t,n,a,i)}}}]),t}(ie),ce=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,w.INPUT,P.input,k.IF))).setVariable(e),a||(n.addInPort(P.in).setMaximumLinks(1),n.addOutPort(P.out).setMaximumLinks(1)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setVariable",value:function(e){Object($.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.updateInfo()}},{key:"updateInfo",value:function(){this.info=this.getVariable().name}}]),t}(le),se=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&""!==e.variableName&&""!==e.variableType){var n=new re(e.variableName,e.variableType,null);return void 0!==t?(t.setVariable(n),t):new ce(n)}}},{key:"load",value:function(e){return new ce(e.variable,!0)}}]),t}(oe),ue=function e(t,n,a,i){Object(l.a)(this,e),this.id=x.UID(),this.variableType=void 0,this.first=void 0,this.second=void 0,this.operation=void 0,this.variableType=t,this.first=n,this.second=a,this.operation=i},de=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this,w.WHILE,P.while,k.WHILE))).conditionList=[],e.conditionType=I.AND,e.updateVariableInConditions=function(t,n){e.conditionList.forEach(function(e){e.first.name===t.name&&(e.first=n),e.second&&e.second.name&&e.second.name===t.name&&(e.second=n)}),e.updateInfo()},n||(e.addInPort(P.in).setMaximumLinks(1),e.addOutPort(P.out).setMaximumLinks(1),e.addScopePort(P.scope).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateInfo",value:function(){this.info=this.conditionList.map(function(e){return"".concat(e.first.name," ").concat(V.booleanOperation(e.operation)," ").concat(e.second?e.second.name?e.second.name:e.second.value:"")}).join(" ".concat(this.conditionType," "))}},{key:"setConditionType",value:function(e){this.conditionType=e,this.updateInfo()}},{key:"getConditionType",value:function(){return this.conditionType}},{key:"addCondition",value:function(e){this.conditionList.push(e),this.updateInfo()}},{key:"removeAllConditions",value:function(){this.conditionList=[],this.updateInfo()}},{key:"removeCondition",value:function(e){this.conditionList=this.conditionList.filter(function(t){return t!==e}),this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.conditionList=e.conditionList,this.conditionType=e.conditionType}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{conditionList:this.conditionList,conditionType:this.conditionType})}},{key:"getScopeFlow",value:function(){var e=Object.values(this.getPortListByType(ee.SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(ie),he=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&e.conditions&&e.conditionType){var n=t||new de;n.removeAllConditions(),n.setConditionType(e.conditionType);var a=!0,i=!1,o=void 0;try{for(var r,l=e.conditions[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;if(c.variableType&&c.first&&c.second&&c.operation){var s=new ue(c.variableType,JSON.parse(c.first),JSON.parse(c.second),c.operation);if(!s.second||!s.second.name&&!s.second.value)return;n.addCondition(s)}}}catch(u){i=!0,o=u}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}}},{key:"load",value:function(e){return new de(!0)}}]),t}(oe),pe=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,w.OUTPUT,P.output,k.IF))).variable=void 0,n.variable=e,n.setVariable(e),a||(n.addInPort(P.in).setMaximumLinks(1),n.addOutPort(P.out).setMaximumLinks(1)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e,this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}},{key:"updateInfo",value:function(){this.info=this.getVariable().name?this.getVariable().name:this.getVariable().value}}]),t}(ie),fe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&""!==e.variable)return void 0!==t?(t.setVariable(JSON.parse(e.variable)),t):new pe(JSON.parse(e.variable))}},{key:"load",value:function(e){return new pe(e.variable,!0)}}]),t}(oe),ve=function(e){function t(e,n,a,i){var o,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(l.a)(this,t),(o=Object(s.a)(this,Object(u.a)(t).call(this,w.ARITHMETIC,P.arithmetic,k.ARITHMETIC))).variable=void 0,o.operation=void 0,o.operator1=void 0,o.operator2=void 0,r||(o.addInPort(P.in).setMaximumLinks(1),o.addOutPort(P.out).setMaximumLinks(1)),o.variable=e,o.operation=n,o.operator1=a,o.operator2=i,o.setVariable(e),o.setOperation(n),o.setOperator1(a),o.setOperator2(i),o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateInfo",value:function(){this.info="".concat(this.getVariable().name," = ").concat(this.getOperator1().name," ").concat(V.arithmeticOperation(this.getOperation())," \n        ").concat(this.getOperator2().name?this.getOperator2().name:this.getOperator2().value)}},{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e,this.updateInfo()}},{key:"getOperation",value:function(){return this.operation}},{key:"setOperation",value:function(e){this.operation=e,this.updateInfo()}},{key:"getOperator1",value:function(){return this.operator1}},{key:"setOperator1",value:function(e){this.operator1=e,this.updateInfo()}},{key:"getOperator2",value:function(){return this.operator2}},{key:"setOperator2",value:function(e){this.operator2=e,this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable,this.operation=e.operation,this.operator1=e.operator1,this.operator2=e.operator2}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable,operation:this.operation,operator1:this.operator1,operator2:this.operator2})}}]),t}(ie),me=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&""!==e.variable&&""!==e.operation&&""!==e.operator1&&""!==e.operator2){var n=JSON.parse(e.operator1),a=JSON.parse(e.operator2);return void 0!==t?(t.setVariable(JSON.parse(e.variable)),t.setOperation(e.operation),t.setOperator1(n),t.setOperator2(a),t):new ve(JSON.parse(e.variable),e.operation,n,a)}}},{key:"load",value:function(e){return new ve(e.variable,e.operation,e.operator1,e.operator2,!0)}}]),t}(oe),be=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,w.ASSIGNMENT,P.variable+" ("+e.type+")",k.VARIABLE))).setVariable(e),a||(n.addInPort(P.in).setMaximumLinks(1),n.addOutPort(P.out).setMaximumLinks(1)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setVariable",value:function(e){Object($.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.updateInfo()}},{key:"updateInfo",value:function(){this.info="".concat(this.getVariable().name," = ").concat(this.getVariable().value)}}]),t}(le),ye=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&""!==e.variableName&&""!==e.variableType&&""!==e.value){var n=new re(e.variableName,e.variableType,e.value);return t?(t.setVariable(n),t):new be(n)}}},{key:"load",value:function(e){return new be(e.variable,!0)}}]),t}(oe),ge=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(this,t),e=Object(s.a)(this,Object(u.a)(t).call(this,w.INITIAL,P.initialFlow,k.INITIAL)),n||(e.addLoopPort(P.recurse).setMaximumLinks(1/0),e.addOutPort(P.out).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"remove",value:function(){}}]),t}(ie),Oe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){return new ge}},{key:"load",value:function(e){return new ge(!0)}}]),t}(oe),we=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this,w.IF,P.ifStatement,k.IF))).conditionList=[],e.conditionType=I.AND,e.updateVariableInConditions=function(t,n){e.conditionList.forEach(function(e){e.first.name===t.name&&(e.first=n),e.second&&e.second.name&&e.second.name===t.name&&(e.second=n)}),e.updateInfo()},n||(e.addInPort(P.in).setMaximumLinks(1/0),e.addOutPort(P.nextFlow).setMaximumLinks(1),e.addTrueScopePort(P.true).setMaximumLinks(1),e.addFalseScopePort(P.false).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateInfo",value:function(){this.info=this.conditionList.map(function(e){return"".concat(e.first.name," ").concat(V.booleanOperation(e.operation)," ").concat(e.second?e.second.name?e.second.name:e.second.value:"")}).join(" ".concat(this.conditionType," "))}},{key:"setConditionType",value:function(e){this.conditionType=e,this.updateInfo()}},{key:"getConditionType",value:function(){return this.conditionType}},{key:"addCondition",value:function(e){this.conditionList.push(e),this.updateInfo()}},{key:"removeAllConditions",value:function(){this.conditionList=[],this.updateInfo()}},{key:"removeCondition",value:function(e){this.conditionList=this.conditionList.filter(function(t){return t!==e}),this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.conditionList=e.conditionList,this.conditionType=e.conditionType}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{conditionList:this.conditionList,conditionType:this.conditionType})}},{key:"getTrueScopeFlow",value:function(){var e=Object.values(this.getPortListByType(ee.TRUE_SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}},{key:"getFalseScopeFlow",value:function(){var e=Object.values(this.getPortListByType(ee.FALSE_SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(ie),Ce=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).load=function(e){return new we(!0)},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&e.conditions&&e.conditionType){var n=t||new we;n.removeAllConditions(),n.setConditionType(e.conditionType);var a=!0,i=!1,o=void 0;try{for(var r,l=e.conditions[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;if(c.variableType&&c.first&&c.second&&c.operation){var s=new ue(c.variableType,JSON.parse(c.first),JSON.parse(c.second),c.operation);if(!s.second||!s.second.name&&!s.second.value)return;n.addCondition(s)}}}catch(u){i=!0,o=u}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}}}]),t}(oe),Ie=function(e){function t(e,n,a){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(l.a)(this,t),(i=Object(s.a)(this,Object(u.a)(t).call(this,w.RANDOM,P.variable+" ("+P.random+")",k.RANDOM))).minValue=0,i.maxValue=1,i.setVariable(e),i.setMinValue(n),i.setMaxValue(a),o||(i.addInPort(P.in).setMaximumLinks(1),i.addOutPort(P.out).setMaximumLinks(1)),i}return Object(d.a)(t,e),Object(c.a)(t,[{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.minValue=e.minValue,this.maxValue=e.maxValue}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{minValue:this.minValue,maxValue:this.maxValue})}},{key:"setVariable",value:function(e){Object($.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.updateInfo()}},{key:"setMinValue",value:function(e){e>this.maxValue||(this.minValue=e,this.updateInfo())}},{key:"setMaxValue",value:function(e){this.maxValue=e,this.updateInfo()}},{key:"updateInfo",value:function(){this.info="".concat(this.minValue," <= ").concat(this.getVariable().name," <= ").concat(this.maxValue)}}]),t}(le),Ne=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&""!==e.variableName&&""!==e.minValue&&""!==e.maxValue&&!(e.minValue>e.maxValue)){var n=new re(e.variableName,g.DOUBLE,void 0);return t?(t.setVariable(n),t.setMinValue(e.minValue),t.setMaxValue(e.maxValue),t):new Ie(n,e.minValue,e.maxValue)}}},{key:"load",value:function(e){return new Ie(e.variable,0,1,!0)}}]),t}(oe),Te=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this,w.DATA_CLASS,P.dataClass,k.DATA_CLASS))).fieldList=[],e.updateField=function(t,n){e.fieldList.forEach(function(a,i){a.name===t.name&&(e.fieldList[i]=n)}),e.updateInfo()},n||(e.addInPort(P.in).setMaximumLinks(1),e.addOutPort(P.nextFlow).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"updateInfo",value:function(){this.info=this.fieldList.map(function(e){return"".concat(e.name,": ").concat(e.type)}).join("\n")}},{key:"addField",value:function(e){this.fieldList.push(e),this.updateInfo()}},{key:"removeAllFields",value:function(){this.fieldList=[],this.updateInfo()}},{key:"removeField",value:function(e){this.fieldList=this.fieldList.filter(function(t){return t!==e}),this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object($.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.fieldList=e.fieldList}},{key:"serialize",value:function(){return J.merge(Object($.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{fieldList:this.fieldList})}}]),t}(ie),ke=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).load=function(e){return new Te(!0)},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"create",value:function(e,t){if(e&&e.fieldList){var n=t||new Te;n.removeAllFields();var a=!0,i=!1,o=void 0;try{for(var r,l=e.fieldList[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;c.type&&c.name&&c.value&&n.addField(c)}}catch(s){i=!0,o=s}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}}}]),t}(oe),je=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"create",value:function(e,t){switch(e){case w.INITIAL:return(new Oe).create(t);case w.IF:return(new Ce).create(t);case w.WHILE:return(new he).create(t);case w.FOR:return;case w.INPUT:return(new se).create(t);case w.OUTPUT:return(new fe).create(t);case w.ARITHMETIC:return(new me).create(t);case w.ASSIGNMENT:return(new ye).create(t);case w.RANDOM:return(new Ne).create(t);case w.DATA_CLASS:return(new ke).create(t)}}},{key:"load",value:function(e){switch(e.flowType){case w.INITIAL:return(new Oe).load(e);case w.IF:return(new Ce).load(e);case w.WHILE:return(new he).load(e);case w.INPUT:return(new se).load(e);case w.OUTPUT:return(new fe).load(e);case w.ARITHMETIC:return(new me).load(e);case w.ASSIGNMENT:return(new ye).load(e);case w.RANDOM:return(new Ne).load(e);case w.DATA_CLASS:return(new ke).load(e);default:return new ie}}},{key:"update",value:function(e,t){switch(e.flowType){case w.INITIAL:return(new Oe).create(t,e);case w.IF:return(new Ce).create(t,e);case w.WHILE:return(new he).create(t,e);case w.FOR:return;case w.INPUT:return(new se).create(t,e);case w.OUTPUT:return(new fe).create(t,e);case w.ARITHMETIC:return(new me).create(t,e);case w.ASSIGNMENT:return(new ye).create(t,e);case w.RANDOM:return(new Ne).create(t,e);case w.DATA_CLASS:return(new ke).create(t,e)}}}]),e}(),Ee=n(68),Fe=n.n(Ee),Se=n(67),Le=n.n(Se),De=n(69),Ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleStringChange=function(e,t){return function(a){var i=a.target.value;n.setState(Object(De.a)({},e,i),function(){n.props.onDataChanged(n.state),t&&t(i)})}},n.handleBooleanChange=function(e,t){return function(a){var i=a.target.checked;n.setState(Object(De.a)({},e,i),function(){n.props.onDataChanged(n.state),t&&t(i)})}},n}return Object(d.a)(t,e),t}(a.Component),xe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleStringChange=function(e,t){return function(a){n.setState(Object(De.a)({},e,a.target.value),function(){t?t(a.target.value,n.props.onDataChanged):n.props.onDataChanged(n.state)})}},n.handleBooleanChange=function(e,t){return function(a){var i=a.target.checked;n.setState(Object(De.a)({},e,i),function(){t?t(i,n.props.onDataChanged):n.props.onDataChanged(n.state)})}},n.renderStringInput=function(){return i.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",textAlign:"center",flex:1}},i.a.createElement(G.u,{style:{flex:1},id:"string-value-input",label:n.props.label,value:n.state.isNull?"NULL":n.state.value,type:"text",onChange:n.handleStringChange("value"),margin:"normal",disabled:n.state.isNull}))},n.renderIntegerInput=function(){return i.a.createElement(G.u,{style:{display:"flex",flex:1},id:"integer-value-input",label:n.props.label,value:n.state.value,type:"number",onChange:n.handleStringChange("value"),margin:"normal"})},n.renderBooleanInput=function(){return i.a.createElement(G.u,{style:{display:"flex",flex:1},id:"boolean-value-input",select:!0,label:n.props.label,value:n.state.value,onChange:n.handleStringChange("value"),margin:"normal"},i.a.createElement(G.s,{key:"true",value:"true"},"True"),i.a.createElement(G.s,{key:"false",value:"false"},"False"))},n.state={value:n.props.value,isNull:"NULL"===n.props.value},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(this.props.hide)return i.a.createElement("div",null);switch(this.props.variableType){case g.STRING:return this.renderStringInput();case g.INT:case g.DOUBLE:return this.renderIntegerInput();case g.BOOLEAN:return this.renderBooleanInput();default:return i.a.createElement("div",null)}}}]),t}(a.Component);xe.defaultProps={value:"",hide:!1,label:P.value};var Me=i.a.createContext({variableList:[]}),Pe=Me.Provider,_e=Me.Consumer,Ve=function(e){function t(e){var n;if(Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderConditionText=function(e){if(!e||!e.first||!e.second||!e.operation)return P.invalid;var t=JSON.parse(e.first),n=JSON.parse(e.second);return n?"".concat(t.name," ").concat(V.booleanOperation(e.operation)," ").concat(n.name?n.name:n.value):t.name},void 0!==e.node){var a=e.node;n.state={conditions:a.conditionList.map(function(e){return{variableType:e.variableType,first:JSON.stringify(e.first),second:JSON.stringify(e.second),operation:e.operation,op2initialValue:e.second?e.second.value:"",isOp2Constant:e.second&&void 0===e.second.name}}),conditionType:a.conditionType,expanded:""}}else n.state={conditions:[{variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}],conditionType:I.AND,expanded:""};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(G.t,{id:"paper",style:{display:"flex",flex:1,padding:24,marginBottom:8}},i.a.createElement(G.u,{style:{display:"flex",flex:1,margin:0,color:"black"},id:"condition-type-selector",select:!0,label:P.conditionType,value:e.state.conditionType,onChange:e.handleStringChange("conditionType"),margin:"normal"},Object.keys(I).map(function(e){return i.a.createElement(G.s,{key:e,value:I[e]},I[e])}))),e.state.conditions.map(function(n,a){return i.a.createElement(G.l,{id:"paper",key:a,expanded:e.state.expanded===a,onChange:function(t,n){e.setState({expanded:n?a:-1})}},i.a.createElement(G.n,{expandIcon:0===a?i.a.createElement(Le.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.conditions.push({variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}),e.props.onDataChanged(e.state),e.forceUpdate()}}):i.a.createElement(Fe.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.conditions.splice(e.state.conditions.indexOf(n),1),e.props.onDataChanged(e.state),e.forceUpdate()}})},i.a.createElement(G.w,null,e.renderConditionText(n))),i.a.createElement(G.m,{style:{display:"flex",flexDirection:"column",flex:1}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.variableType,value:e.state.conditions[a].variableType,onChange:function(t){e.state.conditions[a].variableType=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(g).map(function(e){return i.a.createElement(G.s,{key:e,value:g[e]},g[e])})),i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.firstVariable,value:e.state.conditions[a].first,onChange:function(t){e.state.conditions[a].first=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},t.variableList.filter(function(e){return e.type===n.variableType}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,style:{flex:1,display:n.isOp2Constant?"none":"flex"},label:P.secondVariable,value:e.state.conditions[a].second,onChange:function(t){e.state.conditions[a].second=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},t.variableList.filter(function(e){return e.type===n.variableType}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(xe,{variableType:e.state.conditions[a].variableType,onDataChanged:function(t){e.state.conditions[a].second=JSON.stringify(new re(void 0,n.variableType,t.value)),e.props.onDataChanged(e.state),e.forceUpdate()},value:n.op2initialValue,hide:!n.isOp2Constant}),i.a.createElement(G.o,{control:i.a.createElement(G.f,{checked:e.state.conditions[a].isOp2Constant,onChange:function(t){e.state.conditions[a].isOp2Constant=t.target.checked,e.state.conditions[a].second=JSON.stringify(new re(void 0,n.variableType,n.op2initialValue)),e.props.onDataChanged(e.state),e.forceUpdate()},value:"true",color:"primary"}),label:n.isOp2Constant?P.constant:P.variable})),i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.operation,value:e.state.conditions[a].operation,onChange:function(t){e.state.conditions[a].operation=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(C).map(function(e){return i.a.createElement(G.s,{key:e,value:C[e]},C[e])}))))}))})}}]),t}(Ae),Re=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variable:JSON.stringify(a.getVariable()),operation:a.getOperation(),operator1:JSON.stringify(a.getOperator1()),operator2:JSON.stringify(a.getOperator2()),isOp2Constant:void 0===a.getOperator2().name,op2initialValue:a.getOperator2().value}}else n.state={variable:"",operation:"",operator1:"",operator2:"",isOp2Constant:!1,op2initialValue:""};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.variable,value:e.state.variable,onChange:e.handleStringChange("variable"),margin:"normal"},t.variableList.filter(function(e){return e.type===g.INT||e.type===g.DOUBLE}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.operation,value:e.state.operation,onChange:e.handleStringChange("operation"),margin:"normal"},Object.keys(O).map(function(e){return i.a.createElement(G.s,{key:e,value:O[e]},O[e])})),i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.firstOperator,value:e.state.operator1,onChange:e.handleStringChange("operator1"),margin:"normal"},t.variableList.filter(function(e){return e.type===g.INT||e.type===g.DOUBLE}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(new re(e.name,e.type,e.value))},e.name)})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,style:{flex:1,display:e.state.isOp2Constant?"none":"flex"},label:P.secondOperator,value:e.state.operator2,onChange:e.handleStringChange("operator2"),margin:"normal"},t.variableList.filter(function(e){return e.type===g.INT||e.type===g.DOUBLE}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(new re(e.name,e.type,e.value))},e.name)})),i.a.createElement(xe,{variableType:g.INT,onDataChanged:function(t){e.setState({operator2:JSON.stringify(new re(void 0,g.INT,t.value))},function(){e.props.onDataChanged(e.state)})},value:e.state.op2initialValue,hide:!e.state.isOp2Constant}),i.a.createElement(G.o,{control:i.a.createElement(G.f,{checked:e.state.isOp2Constant,onChange:e.handleBooleanChange("isOp2Constant"),value:"true",color:"primary"}),label:e.state.isOp2Constant?P.constant:P.variable})))})}}]),t}(Ae),Ue=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,variableType:a.getVariable().type,value:a.getVariable().value,isNull:"NULL"===a.getVariable().value,variable:a.getVariable()}}else n.state={variableName:"",variableType:"",value:"",isNull:!1,variable:null};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(G.u,{id:"variable-name-input",style:{width:"100%"},label:P.variableName,disabled:e.props.readonlyType,error:"variableName"===e.state.errorField,value:e.state.variableName,inputProps:{maxLength:j},onChange:e.handleStringChange("variableName",function(n){var a=R.validateVariableName(n,t.variableList);e.setState({errorMessage:a,errorField:a?"variableName":""},function(){e.props.onDataChanged(e.state)})}),margin:"normal"}),i.a.createElement(G.u,{id:"data-type-selector",select:!0,style:{width:"100%"},disabled:e.props.readonlyType,label:P.dataType,value:e.state.variableType,onChange:e.handleStringChange("variableType",function(){e.setState({value:""})}),margin:"normal"},Object.keys(g).map(function(e){return i.a.createElement(G.s,{key:e,value:g[e]},g[e])})),i.a.createElement(xe,{variableType:e.state.variableType,onDataChanged:function(t){e.setState({value:t.value,isNull:t.isNull},function(){e.props.onDataChanged(e.state)})},value:e.state.value,hide:""===e.state.variableType}))})}}]),t}(Ae);Ue.defaultProps={readonlyType:!1};var He=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,variableType:a.getVariable().type,variable:a.getVariable()}}else n.state={variableName:"",variableType:"",variable:null};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(G.u,{id:"variable-name-input",style:{width:"100%"},label:P.variableName,disabled:e.props.readonlyType,error:"variableName"===e.state.errorField,value:e.state.variableName,inputProps:{maxLength:j},onChange:e.handleStringChange("variableName",function(n){var a=R.validateVariableName(n,t.variableList);e.setState({errorMessage:a,errorField:a?"variableName":""},function(){e.props.onDataChanged(e.state)})}),margin:"normal"}),i.a.createElement(G.u,{id:"data-type-selector",select:!0,style:{width:"100%"},disabled:e.props.readonlyType,label:P.dataType,value:e.state.variableType,onChange:e.handleStringChange("variableType"),margin:"normal"},Object.keys(g).map(function(e){return i.a.createElement(G.s,{key:e,value:g[e]},g[e])})))})}}]),t}(Ae);He.defaultProps={readonlyType:!1};var Be=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variable:JSON.stringify(a.getVariable()),isConstant:void 0===a.getVariable().name,variableType:a.getVariable().type,initialValue:a.getVariable().value}}else n.state={variable:"",isConstant:!1,variableType:"",initialValue:""};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},i.a.createElement(G.u,{id:"variable-selector",select:!0,style:{flex:1,display:e.state.isConstant?"none":"flex"},label:P.variable,value:e.state.variable,onChange:e.handleStringChange("variable"),margin:"normal"},t.variableList.map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(xe,{variableType:g.STRING,onDataChanged:function(t){e.setState({variable:JSON.stringify(new re(void 0,g.STRING,t.value))},function(){e.props.onDataChanged(e.state)})},value:e.state.initialValue,hide:!e.state.isConstant}),i.a.createElement(G.o,{control:i.a.createElement(G.f,{checked:e.state.isConstant,onChange:e.handleBooleanChange("isConstant"),value:"true",color:"primary"}),label:e.state.isConstant?P.constant:P.variable})))})}}]),t}(Ae),ze=function(e){function t(e){var n;if(Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderConditionText=function(e){if(!e||!e.first||!e.second||!e.operation)return P.invalid;var t=JSON.parse(e.first),n=JSON.parse(e.second);return n?"".concat(t.name," ").concat(V.booleanOperation(e.operation)," ").concat(n.name?n.name:n.value):t.name},void 0!==e.node){var a=e.node;n.state={conditions:a.conditionList.map(function(e){return{variableType:e.variableType,first:JSON.stringify(e.first),second:JSON.stringify(e.second),operation:e.operation,op2initialValue:e.second?e.second.value:"",isOp2Constant:e.second&&void 0===e.second.name}}),conditionType:a.conditionType,expanded:""}}else n.state={conditions:[{variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}],conditionType:I.AND,expanded:""};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(G.t,{id:"paper",style:{display:"flex",flex:1,padding:24,marginBottom:8}},i.a.createElement(G.u,{style:{display:"flex",flex:1,margin:0,color:"black"},id:"condition-type-selector",select:!0,label:P.conditionType,value:e.state.conditionType,onChange:e.handleStringChange("conditionType"),margin:"normal"},Object.keys(I).map(function(e){return i.a.createElement(G.s,{key:e,value:I[e]},I[e])}))),e.state.conditions.map(function(n,a){return i.a.createElement(G.l,{id:"paper",key:a,expanded:e.state.expanded===a,onChange:function(t,n){e.setState({expanded:n?a:-1})}},i.a.createElement(G.n,{expandIcon:0===a?i.a.createElement(Le.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.conditions.push({variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}),e.props.onDataChanged(e.state),e.forceUpdate()}}):i.a.createElement(Fe.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.conditions.splice(e.state.conditions.indexOf(n),1),e.props.onDataChanged(e.state),e.forceUpdate()}})},i.a.createElement(G.w,null,e.renderConditionText(n))),i.a.createElement(G.m,{style:{display:"flex",flexDirection:"column",flex:1}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.variableType,value:e.state.conditions[a].variableType,onChange:function(t){e.state.conditions[a].variableType=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(g).map(function(e){return i.a.createElement(G.s,{key:e,value:g[e]},g[e])})),i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.firstVariable,value:e.state.conditions[a].first,onChange:function(t){e.state.conditions[a].first=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},t.variableList.filter(function(e){return e.type===n.variableType}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,style:{flex:1,display:n.isOp2Constant?"none":"flex"},label:P.secondVariable,value:e.state.conditions[a].second,onChange:function(t){e.state.conditions[a].second=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},t.variableList.filter(function(e){return e.type===n.variableType}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(xe,{variableType:e.state.conditions[a].variableType,onDataChanged:function(t){e.state.conditions[a].second=JSON.stringify(new re(void 0,n.variableType,t.value)),e.props.onDataChanged(e.state),e.forceUpdate()},value:n.op2initialValue,hide:!n.isOp2Constant}),i.a.createElement(G.o,{control:i.a.createElement(G.f,{checked:e.state.conditions[a].isOp2Constant,onChange:function(t){e.state.conditions[a].isOp2Constant=t.target.checked,e.state.conditions[a].second=JSON.stringify(new re(void 0,n.variableType,n.op2initialValue)),e.props.onDataChanged(e.state),e.forceUpdate()},value:"true",color:"primary"}),label:n.isOp2Constant?P.constant:P.variable})),i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.operation,value:e.state.conditions[a].operation,onChange:function(t){e.state.conditions[a].operation=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(C).map(function(e){return i.a.createElement(G.s,{key:e,value:C[e]},C[e])}))))}))})}}]),t}(Ae),Ge=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,minValue:a.minValue,maxValue:a.maxValue}}else n.state={variableName:"",minValue:0,maxValue:1};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(G.u,{id:"variable-name-input",label:P.variableName,disabled:e.props.readonlyType,error:"variableName"===e.state.errorField,value:e.state.variableName,inputProps:{maxLength:j},onChange:e.handleStringChange("variableName",function(n){var a=R.validateVariableName(n,t.variableList);e.setState({errorMessage:a,errorField:a?"variableName":""},function(){e.props.onDataChanged(e.state)})}),margin:"normal"}),i.a.createElement(xe,{variableType:g.DOUBLE,label:P.minValue,onDataChanged:function(t){e.setState({minValue:t.value},function(){e.props.onDataChanged(e.state)})},value:e.state.minValue}),i.a.createElement(xe,{variableType:g.DOUBLE,label:P.maxValue,onDataChanged:function(t){e.setState({maxValue:t.value},function(){e.props.onDataChanged(e.state)})},value:e.state.maxValue}))})}}]),t}(Ae);Ge.defaultProps={readonlyType:!1};var Je,We=function(e){function t(e){var n;if(Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderFieldText=function(e){return e&&e.type&&e.value?e.name?"".concat(e.name,": ").concat(e.type):"".concat(e.value," (").concat(e.type,")"):P.invalid},void 0!==e.node){var a=e.node;n.state={fields:a.fieldList.map(function(e){return{variableType:e.type,field:JSON.stringify(e),initialValue:e?e.value:"",isConstant:e&&void 0===e.name}}),expanded:""}}else n.state={fields:[{variableType:"",field:"",isConstant:!1,initialValue:""}],expanded:""};return n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return i.a.createElement("div",{className:"bodyContainer"},e.state.fields.map(function(n,a){return i.a.createElement(G.l,{id:"paper",key:a,expanded:e.state.expanded===a,onChange:function(t,n){e.setState({expanded:n?a:-1})}},i.a.createElement(G.n,{expandIcon:0===a?i.a.createElement(Le.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.fields.push({variableType:"",field:"",isConstant:!1,initialValue:""}),e.props.onDataChanged(e.state),e.forceUpdate()}}):i.a.createElement(Fe.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.fields.splice(e.state.fields.indexOf(n),1),e.props.onDataChanged(e.state),e.forceUpdate()}})},i.a.createElement(G.w,null,e.renderFieldText(n))),i.a.createElement(G.m,{style:{display:"flex",flexDirection:"column",flex:1}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,label:P.variableType,value:e.state.fields[a].variableType,onChange:function(t){e.state.fields[a].variableType=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(g).map(function(e){return i.a.createElement(G.s,{key:e,value:g[e]},g[e])})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(G.u,{id:"data-type-selector",select:!0,style:{flex:1,display:n.isConstant?"none":"flex"},label:P.variable,value:e.state.fields[a].field,onChange:function(t){e.state.fields[a].field=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},t.variableList.filter(function(e){return e.type===n.variableType}).map(function(e){return i.a.createElement(G.s,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(xe,{variableType:e.state.fields[a].variableType,onDataChanged:function(t){e.state.fields[a].field=JSON.stringify(new re(void 0,n.variableType,t.value)),e.props.onDataChanged(e.state),e.forceUpdate()},value:n.initialValue,hide:!n.isConstant}),i.a.createElement(G.o,{control:i.a.createElement(G.f,{checked:e.state.fields[a].isConstant,onChange:function(t){e.state.fields[a].isConstant=t.target.checked,e.state.fields[a].field=JSON.stringify(new re(void 0,n.variableType,n.initialValue)),e.props.onDataChanged(e.state),e.forceUpdate()},value:"true",color:"primary"}),label:n.isConstant?P.constant:P.variable}))))}))})}}]),t}(Ae),Qe=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"create",value:function(e,t,n){switch(e){case w.WHILE:return i.a.createElement(Ve,{node:n,onDataChanged:t.bind(this)});case w.IF:return i.a.createElement(ze,{node:n,onDataChanged:t.bind(this)});case w.ARITHMETIC:return i.a.createElement(Re,{node:n,onDataChanged:t.bind(this)});case w.ASSIGNMENT:return i.a.createElement(Ue,{node:n,onDataChanged:t.bind(this)});case w.INPUT:return i.a.createElement(He,{node:n,onDataChanged:t.bind(this)});case w.OUTPUT:return i.a.createElement(Be,{node:n,onDataChanged:t.bind(this)});case w.RANDOM:return i.a.createElement(Ge,{node:n,onDataChanged:t.bind(this)});case w.DATA_CLASS:return i.a.createElement(We,{node:n,onDataChanged:t.bind(this)});default:return i.a.createElement("div",null)}}},{key:"createReadonlyVariableType",value:function(e,t,n){switch(e){case w.WHILE:return i.a.createElement(Ve,{node:n,onDataChanged:t.bind(this)});case w.IF:return i.a.createElement(ze,{node:n,onDataChanged:t.bind(this)});case w.ARITHMETIC:return i.a.createElement(Re,{node:n,onDataChanged:t.bind(this)});case w.ASSIGNMENT:return i.a.createElement(Ue,{readonlyType:!0,node:n,onDataChanged:t.bind(this)});case w.INPUT:return i.a.createElement(He,{readonlyType:!0,node:n,onDataChanged:t.bind(this)});case w.OUTPUT:return i.a.createElement(Be,{node:n,onDataChanged:t.bind(this)});case w.RANDOM:return i.a.createElement(Ge,{readonlyType:!0,node:n,onDataChanged:t.bind(this)});case w.DATA_CLASS:return i.a.createElement(We,{node:n,onDataChanged:t.bind(this)});default:return i.a.createElement("div",null)}}}]),e}(),qe=function e(){Object(l.a)(this,e)},Ke=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,h=arguments.length>10?arguments[10]:void 0;Object(l.a)(this,e),this.type=void 0,this.id=void 0,this.assignmentFlowContent=void 0,this.inputFlowContent=void 0,this.outputFlowContent=void 0,this.arithmeticFlowContent=void 0,this.whileFlowContent=void 0,this.ifFlowContent=void 0,this.randomFlowContent=void 0,this.dataClassFlowContent=void 0,this.nextFlowId=void 0,this.type=t,this.id=n,this.assignmentFlowContent=a,this.inputFlowContent=i,this.outputFlowContent=o,this.arithmeticFlowContent=r,this.ifFlowContent=s,this.whileFlowContent=c,this.ifFlowContent=s,this.randomFlowContent=u,this.dataClassFlowContent=d,this.nextFlowId=h},Ye=function(){function e(t){Object(l.a)(this,e),this.lines=[],this.indentationCount=void 0,this.indentationCount=t}return Object(c.a)(e,[{key:"insert",value:function(e){this.lines.push(new Ze(e,this.indentationCount))}},{key:"incrementIndentation",value:function(){this.indentationCount++}},{key:"decrementIndentation",value:function(){this.indentationCount--}}]),e}(),Ze=function e(t,n){Object(l.a)(this,e),this.content=void 0,this.indentationCount=void 0,this.content=t,this.indentationCount=n},$e=n(146),Xe=function(){function e(t,n,a){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.functionCallName=""}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}}]),e}(),et=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"assignmentFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),tt=function e(t){Object(l.a)(this,e),this.variable=void 0,this.variable=t},nt=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"inputFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),at=function e(t){Object(l.a)(this,e),this.variable=void 0,this.variable=t},it=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return null!=this.content?this.content.variable.name?"".concat(this.functionName(),"(").concat(this.content.variable.name,")"):"".concat(this.functionName(),"()"):""}},{key:"functionName",value:function(){return"outputFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),ot=function e(t){Object(l.a)(this,e),this.variable=void 0,this.variable=t},rt=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.type=void 0,this.nextFlowId=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){if(null==this.content)return"";var e="".concat(this.functionName(),"(");return void 0!==this.content.operator1.name&&(e+=this.content.operator1.name),void 0!==this.content.operator2.name&&this.content.operator1.name!==this.content.operator2.name&&(e+=", ".concat(this.content.operator2.name)),e+=")"}},{key:"functionName",value:function(){return"arithmeticFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),lt=function e(t,n,a,i){Object(l.a)(this,e),this.variable=void 0,this.operation=void 0,this.operator1=void 0,this.operator2=void 0,this.variable=t,this.operation=n,this.operator1=a,this.operator2=i},ct=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}}]),e}(),st=function e(t,n,a,i){Object(l.a)(this,e),this.conditions=void 0,this.conditionType=void 0,this.trueScopeId=void 0,this.falseScopeId=void 0,this.conditions=t,this.conditionType=n,this.trueScopeId=a,this.falseScopeId=i},ut=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"randomFlow".concat(this.functionCallName)}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}}]),e}(),dt=function e(t,n,a){Object(l.a)(this,e),this.variable=void 0,this.min=void 0,this.max=void 0,this.variable=t,this.min=n,this.max=a};!function(e){e.MAIN_CLASS="MainClass",e.CLASS="Class",e.DATA_CLASS="DataClass",e.DIRECTORY="Directory"}(Je||(Je={}));var ht=function(){function e(t,n){Object(l.a)(this,e),this.type=void 0,this.name=void 0,this.items=void 0,this.type=Je.DIRECTORY,this.name=t,this.items=n}return Object(c.a)(e,[{key:"addDirectoryItem",value:function(e){this.items.push(e)}}]),e}(),pt=function e(t,n,a,i){Object(l.a)(this,e),this.functionName=void 0,this.parameters=void 0,this.returnType=void 0,this.code=void 0,this.functionName=t,this.parameters=n,this.returnType=a,this.code=i},ft=function e(t,n){Object(l.a)(this,e),this.name=void 0,this.type=void 0,this.name=t,this.type=n},vt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){var n="";t.addVariable(e.content.variable.name)&&(n="var ");var a="";switch(e.content.operation){case O.ADDITION:a="+";break;case O.SUBTRACTION:a="-";break;case O.MULTIPLICATION:a="*";break;case O.DIVISION:a="/"}var i="",o="";void 0!==e.content.operator1.name?i+=e.content.operator1.name:i+=e.content.operator1.value,void 0!==e.content.operator2.name?o+=e.content.operator2.name:o+=e.content.operator2.value,e.content.operation==O.ROOT?t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = Math.pow(").concat(i,", 1 / ").concat(o,")")):t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(i," ").concat(a," ").concat(o)),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),mt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){var n="";switch(e.content.variable.type){case g.INT:case g.DOUBLE:n=e.content.variable.value.toString();break;case g.STRING:n='"'.concat(e.content.variable.value,'"');break;default:console.log("default...")}var a="";t.addVariable(e.content.variable.name)&&(a="var "),t.writeCodeToMainFunction("".concat(a).concat(e.content.variable.name," = ").concat(n)),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),bt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content&&null!=t.mainFunction){for(var n="",a=0;a<e.content.conditions.length;a++){var i=e.content.conditions[a];if(n+=i.first.name,void 0!==i.second){switch(n+=" ",i.operation){case C.EQUALS:n+="==";break;case C.NOT_EQUALS:n+="!=";break;case C.GREATER_THAN:n+=">";break;case C.GREATER_THAN_OR_EQUALS:n+=">=";break;case C.LESS_THAN:n+="<";break;case C.LESS_THAN_OR_EQUALS:n+="<="}i.second.name?n+=" "+i.second.name:n+=" "+i.second.value}a!==e.content.conditions.length-1&&(n+=" ".concat(e.content.conditionType," "))}t.writeCodeToMainFunction("if("+n+") {"),t.mainFunction.code.incrementIndentation(),null!=e.content.trueScopeId&&(t.addToLoopStack(e.id),t.writeMainCodeFromFlow(e.content.trueScopeId)),t.mainFunction.code.decrementIndentation(),null!=e.content.falseScopeId&&(t.writeCodeToMainFunction("} else {"),t.mainFunction.code.incrementIndentation(),t.addToLoopStack(e.id),t.writeCodeToMainFunction(e.content.falseScopeId),t.mainFunction.code.decrementIndentation()),t.writeCodeToMainFunction("}"),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),yt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){var n="";t.addVariable(e.content.variable.name)&&(n="var "),t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(e.functionInvocation())),t.writeMainCodeFromFlow(e.nextFlow())}}},{key:"generateFunc",value:function(e,t){if(null!=e.content){var n=new Ye(t.indentationCount),a=new pt(e.functionName(),[],e.content.variable.type.toString(),n);At.codeStrategy.initFunction(a),n.insert('println("Please enter value for '.concat(e.content.variable.name,'")'));var i="";switch(e.content.variable.type){case g.INT:i="readLine()!!.toInt()";break;case g.STRING:i="readLine()!!";break;case g.BOOLEAN:i="readLine()!!.toBoolean()";break;case g.DOUBLE:i="readLine()!!.toDouble()"}n.insert("return ".concat(i)),At.codeStrategy.finishFunction(a),t.addFunction(a)}}}]),e}(),gt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"convert",value:function(e,t){var n="";switch(+e){case y.JAVA:switch(t){case g.INT:n="int";break;case g.BOOLEAN:n="boolean";break;case g.STRING:n="String";break;case g.DOUBLE:n="double";break;case g.MAIN_ARG:n="String[]"}break;case y.KOTLIN:switch(t){case g.INT:n="Int";break;case g.BOOLEAN:n="Boolean";break;case g.STRING:n="String";break;case g.DOUBLE:n="Double";break;case g.MAIN_ARG:n="Array<String>"}}return n}}]),e}(),Ot=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){t.writeCodeToMainFunction(e.functionInvocation()),t.writeMainCodeFromFlow(e.nextFlow())}},{key:"generateFunc",value:function(e,t){if(null!=e.content){var n=new Ye(t.indentationCount),a=[];e.content.variable.name&&a.push(new ft(e.content.variable.name,gt.convert(y.KOTLIN,e.content.variable.type)));var i=new pt(e.functionName(),a,void 0,n);At.codeStrategy.initFunction(i);var o="";o=e.content.variable.name?'println("Value of '.concat(e.content.variable.name," is ${").concat(e.content.variable.name,'}")'):'println("'.concat(e.content.variable.value,'")'),n.insert(o),At.codeStrategy.finishFunction(i),t.addFunction(i)}}}]),e}(),wt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(t.addGlobalVariable("val random = Random()"),t.addDependency("import java.util.Random"),null!=e.content){var n="";t.addVariable(e.content.variable.name)&&(n="var "),t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(e.content.min," + (").concat(e.content.max," - ").concat(e.content.min,") * random.nextDouble()")),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),Ct=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content&&null!=t.mainFunction){for(var n=e.content.scopeId,a="",i=0;i<e.content.conditions.length;i++){var o=e.content.conditions[i];if(a+=o.first.name,o.second){switch(a+=" ",o.operation){case C.EQUALS:a+="==";break;case C.NOT_EQUALS:a+="!=";break;case C.GREATER_THAN:a+=">";break;case C.GREATER_THAN_OR_EQUALS:a+=">=";break;case C.LESS_THAN:a+="<";break;case C.LESS_THAN_OR_EQUALS:a+="<="}o.second.name?a+=" "+o.second.name:a+=" "+o.second.value}i!==e.content.conditions.length-1&&(a+=" ".concat(e.content.conditionType," "))}t.writeCodeToMainFunction("while("+a+") {"),t.mainFunction.code.incrementIndentation(),null!=n&&(t.addToLoopStack(e.id),t.writeMainCodeFromFlow(n)),t.mainFunction.code.decrementIndentation(),t.writeCodeToMainFunction("}"),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),It=function(){function e(){Object(l.a)(this,e),this.arithmeticFlowCode=new vt,this.assignmentFlowCode=new mt,this.ifFlowCode=new bt,this.inputFlowCode=new yt,this.outputFlowCode=new Ot,this.randomFlowCode=new wt,this.whileFlowCode=new Ct}return Object(c.a)(e,[{key:"initClazz",value:function(e){e.classCode.insert("class ".concat(e.name)),e.incrementIndentation(),e.classCode.insert("companion object {"),e.incrementIndentation()}},{key:"finishClazz",value:function(e){e.decrementIndentation(),e.classCode.insert("}"),e.decrementIndentation(),e.classCode.insert("}")}},{key:"initMain",value:function(e){var t=[],n=new Ye(e.indentationCount),a="";e.type===Je.MAIN_CLASS?(a="main",t.push(new ft("args",gt.convert(y.KOTLIN,g.MAIN_ARG)))):(a=e.name,t.push(new ft(e.name,gt.convert(y.KOTLIN,g.MAIN_ARG)))),e.mainFunction=new pt(a,t,void 0,n),this.initFunction(e.mainFunction)}},{key:"finishMain",value:function(e){if(null==e.mainFunction)throw new Error("Main function is undefined!");e.mainFunction.code.decrementIndentation(),e.mainFunction.code.insert("}"),e.mainFunction.code.insert("")}},{key:"initFunction",value:function(e){var t="";e.returnType?t+=": "+e.returnType:t+="";var n="";e.parameters.forEach(function(t,a){n+="".concat(t.name,": ").concat(t.type),a!==e.parameters.length-1&&(n+=", ")}),e.code.insert("fun ".concat(e.functionName,"(").concat(n,")").concat(t," {")),e.code.incrementIndentation()}},{key:"finishFunction",value:function(e){e.code.decrementIndentation(),e.code.insert("}"),e.code.insert("")}}]),e}(),Nt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){var n="";t.addVariable(e.content.variable.name)&&(n="".concat(gt.convert(y.JAVA,e.content.variable.type)," "));var a="";switch(e.content.operation){case O.ADDITION:a="+";break;case O.SUBTRACTION:a="-";break;case O.MULTIPLICATION:a="*";break;case O.DIVISION:a="/"}var i="",o="";void 0!==e.content.operator1.name?i+=e.content.operator1.name:i+=e.content.operator1.value,void 0!==e.content.operator2.name?o+=e.content.operator2.name:o+=e.content.operator2.value,e.content.operation==O.ROOT?t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = Math.pow(").concat(i,", 1 / ").concat(o,");")):t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(i," ").concat(a," ").concat(o,";"))}}}]),e}(),Tt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(e.content&&null!=t.mainFunction){var n=e.content.scopeId,a="";e.content.conditions.forEach(function(e){if(a+=e.first.name,e.second){switch(a+=" ",e.operation){case C.EQUALS:a+="==";break;case C.NOT_EQUALS:a+="!=";break;case C.GREATER_THAN:a+=">";break;case C.GREATER_THAN_OR_EQUALS:a+=">=";break;case C.LESS_THAN:a+="<";break;case C.LESS_THAN_OR_EQUALS:a+="<="}e.second.name?a+=" "+e.second.name:a+=" "+e.second.value}}),t.writeCodeToMainFunction("while("+a+") {"),t.mainFunction.code.incrementIndentation(),null!=n&&(t.addToLoopStack(e.id),t.writeMainCodeFromFlow(n)),t.mainFunction.code.decrementIndentation(),t.writeCodeToMainFunction("}"),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),kt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){var n="";switch(e.content.variable.type){case g.DOUBLE:case g.INT:n=e.content.variable.value.toString();break;case g.STRING:n='"'.concat(e.content.variable.value,'"')}var a="";t.addVariable(e.content.variable.name)&&(a="".concat(gt.convert(y.JAVA,e.content.variable.type)," ")),t.writeCodeToMainFunction("".concat(a).concat(e.content.variable.name," = ").concat(n,";"))}}}]),e}(),jt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content&&null!=t.mainFunction){var n="";e.content.conditions.forEach(function(e){if(n+=e.first.name,void 0!==e.second){switch(n+=" ",e.operation){case C.EQUALS:n+="==";break;case C.NOT_EQUALS:n+="!=";break;case C.GREATER_THAN:n+=">";break;case C.GREATER_THAN_OR_EQUALS:n+=">=";break;case C.LESS_THAN:n+="<";break;case C.LESS_THAN_OR_EQUALS:n+="<="}e.second.name?n+=" "+e.second.name:n+=" "+e.second.value}}),t.writeCodeToMainFunction("if("+n+") {"),t.mainFunction.code.incrementIndentation(),null!=e.content.trueScopeId&&(t.addToLoopStack(e.id),t.writeMainCodeFromFlow(e.content.trueScopeId)),t.mainFunction.code.decrementIndentation(),null!=e.content.falseScopeId&&(t.writeCodeToMainFunction("} else {"),t.mainFunction.code.incrementIndentation(),t.addToLoopStack(e.id),t.writeMainCodeFromFlow(e.content.falseScopeId),t.mainFunction.code.decrementIndentation()),t.writeCodeToMainFunction("}")}}}]),e}(),Et=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){var n="";t.addVariable(e.content.variable.name)&&(n="".concat(gt.convert(y.JAVA,e.content.variable.type)," ")),t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(e.functionInvocation(),";")),t.writeMainCodeFromFlow(e.nextFlow())}}},{key:"generateFunc",value:function(e,t){if(null!=e.content){t.addDependency("import java.util.Scanner;");var n=new Ye(t.indentationCount),a=new pt(e.functionName(),[],gt.convert(y.JAVA,e.content.variable.type),n);At.codeStrategy.initFunction(a),n.insert('System.out.println("Please enter value for '.concat(e.content.variable.name,'");')),n.insert("Scanner scanner = new Scanner(System.in);");var i=gt.convert(y.JAVA,e.content.variable.type);switch(e.content.variable.type){case g.INT:n.insert("".concat(i," input = scanner.nextInt();"));break;case g.DOUBLE:n.insert("".concat(i," input = scanner.nextDouble();"));break;case g.STRING:n.insert("".concat(i," input = scanner.nextLine();"))}n.insert("scanner.close();"),n.insert("return input;"),At.codeStrategy.finishFunction(a),t.addFunction(a)}}}]),e}(),Ft=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){t.writeCodeToMainFunction("".concat(e.functionInvocation(),";")),t.writeMainCodeFromFlow(e.nextFlow())}},{key:"generateFunc",value:function(e,t){if(null!=e.content){var n=new Ye(t.indentationCount),a=[];e.content.variable.name&&a.push(new ft(e.content.variable.name,gt.convert(y.JAVA,e.content.variable.type)));var i=new pt(e.functionName(),a,void 0,n);At.codeStrategy.initFunction(i);var o="";o=e.content.variable.name?'System.out.println("Value of '.concat(e.content.variable.name,' is " + ').concat(e.content.variable.name,");"):'System.out.println("'.concat(e.content.variable.value,'");'),n.insert(o),At.codeStrategy.finishFunction(i),t.addFunction(i)}}}]),e}(),St=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"generateMain",value:function(e,t){if(null!=e.content){t.addGlobalVariable("static Random random = new Random();"),t.addDependency("import java.util.Random;");var n="";t.addVariable(e.content.variable.name)&&(n="double "),t.writeCodeToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(e.content.min," + (").concat(e.content.max," - ").concat(e.content.min,") * random.nextDouble();")),t.writeMainCodeFromFlow(e.nextFlow())}}}]),e}(),Lt=function(){function e(){Object(l.a)(this,e),this.arithmeticFlowCode=new Nt,this.assignmentFlowCode=new kt,this.ifFlowCode=new jt,this.inputFlowCode=new Et,this.outputFlowCode=new Ft,this.randomFlowCode=new St,this.whileFlowCode=new Tt}return Object(c.a)(e,[{key:"initClazz",value:function(e){e.generatedCode.push("public class ".concat(e.name," {")),e.incrementIndentation()}},{key:"finishClazz",value:function(e){e.decrementIndentation(),e.generatedCode.push("}")}},{key:"initMain",value:function(e){var t=[],n=new Ye(e.indentationCount),a="";e.type===Je.MAIN_CLASS?(a="main",t.push(new ft("args",gt.convert(y.JAVA,g.MAIN_ARG)))):(a=e.name,t.push(new ft(e.name,gt.convert(y.JAVA,g.MAIN_ARG)))),e.mainFunction=new pt(a,t,void 0,n),this.initFunction(e.mainFunction)}},{key:"finishMain",value:function(e){if(null==e.mainFunction)throw new Error("Main function is undefined!");e.mainFunction.code.decrementIndentation(),e.mainFunction.code.insert("}"),e.mainFunction.code.insert("")}},{key:"initFunction",value:function(e){var t="";e.returnType?t+="".concat(e.returnType):t+="void";var n="";e.parameters.forEach(function(t,a){n+="".concat(t.type," ").concat(t.name),a!==e.parameters.length-1&&(n+=", ")}),e.code.insert("private static ".concat(t," ").concat(e.functionName,"(").concat(n,") {")),e.code.incrementIndentation()}},{key:"finishFunction",value:function(e){e.code.decrementIndentation(),e.code.insert("}"),e.code.insert("")}}]),e}(),Dt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"createCodeStrategy",value:function(e){switch(+e){case y.JAVA:return new Lt;case y.KOTLIN:default:return new It}}}]),e}(),At=function(){function e(t){Object(l.a)(this,e),this.projectName=void 0,this.rootDirectory=void 0,this.projectName=t,this.rootDirectory=new ht(T.ROOT_FOLDER_NAME,[])}return Object(c.a)(e,[{key:"generateClazzCodes",value:function(){this.recursivelyGenerateClazzCodes(this.rootDirectory)}},{key:"recursivelyGenerateClazzCodes",value:function(e){var t=this;e.items.forEach(function(e){switch(e.type){case Je.MAIN_CLASS:e.generateCode();break;case Je.CLASS:e.generateCode();break;case Je.DATA_CLASS:e.generateCode();break;case Je.DIRECTORY:var n=e;t.recursivelyGenerateClazzCodes(n)}})}}],[{key:"setProgrammingLanguage",value:function(t){Pt.flowIncrementalId=0,e.programmingLanguage=t,e.codeStrategy=Dt.createCodeStrategy(t)}}]),e}();At.codeStrategy=new It,At.programmingLanguage=y.KOTLIN;var xt=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"dataClassFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Mt=function e(t){Object(l.a)(this,e),this.variables=void 0,this.variables=t},Pt=function(){function e(t,n,a){Object(l.a)(this,e),this.type=void 0,this.name=void 0,this.mainFunction=null,this.functions=void 0,this.flowMap=new Map,this.generatedCode=[],this.scopeCount=0,this.spacing="\t",this.loopStack=new $e.Stack,this.indentationCount=0,this.declaredVariableSet=new Set,this.classCode=new Ye(this.indentationCount),this.globalVariableSet=new Ye(this.indentationCount),this.dependencySet=new Ye(this.indentationCount),this.type=t,this.name=n,this.functions=[],this.reset(a)}return Object(c.a)(e,[{key:"reset",value:function(t){var n=this;this.flowMap=this.convertToFlowObjects(t),this.functions=[],this.mainFunction=null,this.generatedCode=[],this.scopeCount=0,this.loopStack=new $e.Stack,this.indentationCount=0,this.declaredVariableSet=new Set,this.classCode=new Ye(this.indentationCount),this.globalVariableSet=new Ye(this.indentationCount),this.dependencySet=new Ye(this.indentationCount),At.codeStrategy.initMain(this),this.loopStack.push(e.TERMINATION_ID),this.flowMap.get(e.INITIAL_ID)&&this.writeMainCodeFromFlow(e.INITIAL_ID),this.flowMap.forEach(function(e){n.writeFunctionCodeFromFlow(e)}),At.codeStrategy.finishMain(this),this.decrementIndentation()}},{key:"writeCodeToMainFunction",value:function(e){if(null==this.mainFunction)throw new Error("Undefined main function!");this.mainFunction.code.insert(e)}},{key:"addFunction",value:function(e){this.functions.push(e)}},{key:"addDependency",value:function(e){this.dependencySet.insert(e)}},{key:"addGlobalVariable",value:function(e){this.globalVariableSet.insert(e)}},{key:"addVariable",value:function(e){return e=void 0===e?"":e,!this.declaredVariableSet.has(e)&&(this.declaredVariableSet.add(e),!0)}},{key:"addToLoopStack",value:function(e){this.loopStack.push(e)}},{key:"writeMainCodeFromFlow",value:function(e){if(!this.removeFromStackIfTopEquals(e)){var t=this.flowMap.get(e);t&&(t instanceof rt?At.codeStrategy.arithmeticFlowCode.generateMain(t,this):t instanceof et?At.codeStrategy.assignmentFlowCode.generateMain(t,this):t instanceof nt?At.codeStrategy.inputFlowCode.generateMain(t,this):t instanceof it?At.codeStrategy.outputFlowCode.generateMain(t,this):t instanceof _t?At.codeStrategy.whileFlowCode.generateMain(t,this):t instanceof ct?At.codeStrategy.ifFlowCode.generateMain(t,this):t instanceof ut?At.codeStrategy.randomFlowCode.generateMain(t,this):t instanceof Xe&&this.writeMainCodeFromFlow(t.nextFlow()))}}},{key:"writeFunctionCodeFromFlow",value:function(e){e instanceof nt?At.codeStrategy.inputFlowCode.generateFunc(e,this):e instanceof it&&At.codeStrategy.outputFlowCode.generateFunc(e,this)}},{key:"generateCode",value:function(){var e=this;if(At.codeStrategy.initClazz(this),null==this.mainFunction)throw new Error("Main function not defined!");this.dependencySet.lines.forEach(function(t){e.generatedCode.push(e.createLineWithSpacing(t))}),this.dependencySet.lines.length>0&&this.generatedCode.push(""),this.globalVariableSet.lines.forEach(function(t){e.generatedCode.push(e.createLineWithSpacing(t))}),this.globalVariableSet.lines.length>0&&this.generatedCode.push(""),this.mainFunction.code.lines.forEach(function(t){e.generatedCode.push(e.createLineWithSpacing(t))}),this.functions.forEach(function(t){t.code.lines.forEach(function(t){e.generatedCode.push(e.createLineWithSpacing(t))})}),At.codeStrategy.finishClazz(this)}},{key:"getCode",value:function(){return this.generatedCode.join("\n")}},{key:"incrementIndentation",value:function(){this.indentationCount++}},{key:"decrementIndentation",value:function(){this.indentationCount--}},{key:"removeFromStackIfTopEquals",value:function(e){return this.loopStack.top===e&&(this.loopStack.pop(),!0)}},{key:"createLineWithSpacing",value:function(e){for(var t="",n=0;n<e.indentationCount;n++)t+=this.spacing;return t+=e.content}},{key:"convertToFlowObjects",value:function(t){var n=new Map;return t.forEach(function(t){switch(t.type){case w.INITIAL:n.set(e.INITIAL_ID,new Xe(e.INITIAL_ID,t.nextFlowId,t.type));break;case w.ASSIGNMENT:n.set(t.id,new et(t.id,t.nextFlowId,t.type,t.assignmentFlowContent));break;case w.INPUT:n.set(t.id,new nt(t.id,t.nextFlowId,t.type,t.inputFlowContent));break;case w.OUTPUT:n.set(t.id,new it(t.id,t.nextFlowId,t.type,t.outputFlowContent));break;case w.ARITHMETIC:n.set(t.id,new rt(t.id,t.nextFlowId,t.type,t.arithmeticFlowContent));break;case w.WHILE:n.set(t.id,new _t(t.id,t.nextFlowId,t.type,t.whileFlowContent));break;case w.IF:n.set(t.id,new ct(t.id,t.nextFlowId,t.type,t.ifFlowContent));break;case w.RANDOM:n.set(t.id,new ut(t.id,t.nextFlowId,t.type,t.randomFlowContent));break;case w.DATA_CLASS:n.set(t.id,new xt(t.id,t.nextFlowId,t.type,t.dataClassFlowContent))}}),n}}]),e}();Pt.INITIAL_ID="INITIAL_ID",Pt.TERMINATION_ID="TERMINATION_ID",Pt.flowIncrementalId=0;var _t=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Pt.flowIncrementalId++).toString()}return Object(c.a)(e,[{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Pt.TERMINATION_ID}}]),e}(),Vt=function e(t,n,a){Object(l.a)(this,e),this.conditions=void 0,this.conditionType=void 0,this.scopeId=void 0,this.conditions=t,this.conditionType=n,this.scopeId=a},Rt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null,i=t.getScopeFlow(),o=i?i.getID():null;return new Ke(w.WHILE,t.getID(),null,null,null,null,new Vt(t.conditionList,t.conditionType,o),null,null,null,a)}}]),t}(qe),Ut=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Ke(w.INPUT,t.getID(),null,new at(t.getVariable()),null,null,null,null,null,null,a)}}]),t}(qe),Ht=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Ke(w.OUTPUT,t.getID(),null,null,new ot(t.getVariable()),null,null,null,null,null,a)}}]),t}(qe),Bt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).generate=function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Ke(w.ARITHMETIC,t.getID(),null,null,null,new lt(t.getVariable(),t.getOperation(),t.getOperator1(),t.getOperator2()),null,null,null,null,a)},n}return Object(d.a)(t,e),t}(qe),zt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Ke(w.ASSIGNMENT,t.getID(),new tt(t.getVariable()),null,null,null,null,null,null,null,a)}}]),t}(qe),Gt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e.getNextFlow(),n=t?t.getID():null;return new Ke(w.INITIAL,e.getID(),null,null,null,null,null,null,null,null,n)}}]),t}(qe),Jt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null,i=t.getTrueScopeFlow(),o=i?i.getID():null,r=t.getFalseScopeFlow(),l=r?r.getID():null;return new Ke(w.IF,t.getID(),null,null,null,null,null,new st(t.conditionList,t.conditionType,o,l),null,null,a)}}]),t}(qe),Wt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Ke(w.RANDOM,t.getID(),null,null,null,null,null,null,new dt(t.getVariable(),t.minValue,t.maxValue),null,a)}}]),t}(qe),Qt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Ke(w.DATA_CLASS,t.getID(),null,null,null,null,null,null,null,new Mt(t.fieldList),a)}}]),t}(qe),qt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"create",value:function(e){switch(e.flowType){case w.INITIAL:return(new Gt).generate(e);case w.IF:return(new Jt).generate(e);case w.WHILE:return(new Rt).generate(e);case w.FOR:return null;case w.INPUT:return(new Ut).generate(e);case w.OUTPUT:return(new Ht).generate(e);case w.ARITHMETIC:return(new Bt).generate(e);case w.ASSIGNMENT:return(new zt).generate(e);case w.RANDOM:return(new Wt).generate(e);case w.DATA_CLASS:return(new Qt).generate(e);default:return null}}}]),e}(),Kt=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"generate",value:function(e){var t=[];return this.generateFlowModel(e,t),t}},{key:"generateFlowModel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e&&!J.includes(t.map(function(e){return e.id}),e.getID())){switch(e.flowType){case w.WHILE:this.generateFlowModel(e.getScopeFlow(),t,e.getID());break;case w.IF:this.generateFlowModel(e.getTrueScopeFlow(),t,e.getID()),this.generateFlowModel(e.getFalseScopeFlow(),t,e.getID())}var a=qt.create(e);a&&t.push(a),this.generateFlowModel(e.getNextFlow(),t,n)}}}]),e}(),Yt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={bodyData:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onBodyChanged",value:function(e){this.setState({bodyData:e})}},{key:"onSave",value:function(){null!=this.props.onSaveClick&&this.props.onSaveClick(this.state.bodyData)}},{key:"onDismiss",value:function(){null!=this.props.onDismissClick&&this.props.onDismissClick()}},{key:"render",value:function(){return i.a.createElement(G.g,Object.assign({"aria-labelledby":"simple-dialog-title"},this.props),i.a.createElement(G.k,{id:"simple-dialog-title"},"Set Properties"),i.a.createElement("div",{className:Z.a.addNodeDialogBody},i.a.createElement(G.w,{color:"error"},this.state.bodyData&&this.state.bodyData.errorMessage?this.state.bodyData.errorMessage:""),Qe.create(this.props.type,this.onBodyChanged.bind(this))),i.a.createElement("div",{className:Z.a.addNodeDialogButtonContainer},i.a.createElement(K.a,{variant:"contained",color:"secondary",onClick:this.onDismiss.bind(this)},P.dismiss),i.a.createElement(K.a,{variant:"contained",color:"primary",onClick:this.onSave.bind(this)},P.save)))}}]),t}(a.Component),Zt=n(17),$t=n(147),Xt=n.n($t),en=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).cb=void 0,a.cb=n,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getNewInstance",value:function(e){return this.cb(e)}}]),t}(X.AbstractPortFactory),tn=n(34),nn=n.n(tn),an=n(77),on=n.n(an),rn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).widgetRef=Object(a.createRef)(),n.generatePort=function(e){return a.createElement(te,{model:e,key:e.id})},n.editClickListener=function(e){n.props.node.setSelected(!1),n.setState({isPropertiesOpen:!0})},n.state={isPropertiesOpen:!1,height:0,width:0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.widgetRef.current){var e=this.widgetRef.current.clientHeight,t=this.widgetRef.current.clientWidth;this.setState({height:e,width:t})}}},{key:"render",value:function(){var e=this;return a.createElement(_e,null,function(t){return a.createElement("div",Object.assign({},e.getProps(),{style:{background:e.props.node.color},ref:e.widgetRef}),a.createElement(G.c,{className:nn.a.nodePropertiesWindow,style:{display:e.state.isPropertiesOpen?"flex":"none",left:e.state.width-12,bottom:e.state.height-12}},a.createElement(G.e,{title:P.properties,action:a.createElement(G.q,{onClick:function(){e.setState({isPropertiesOpen:!1})}},a.createElement(on.a,{style:{color:"black"}},"close"))}),a.createElement(G.d,null,Qe.createReadonlyVariableType(e.props.node.flowType,function(n){if(!n.errorMessage){if(e.props.node instanceof le)for(var a=0;a<t.variableList.length;a++)if(t.variableList[a].name===e.props.node.getVariable().name){t.variableList[a].name=n.variableName;break}e.props.node.updateNode(n)}},e.props.node))),a.createElement("div",{className:nn.a.rectangleNodeTitle},a.createElement("div",{className:nn.a.rectangleNodeName},e.props.node.name),a.createElement(on.a,{onClick:function(t){return e.editClickListener(t)},className:nn.a.editIcon},"edit")),a.createElement("div",{className:nn.a.rectangleNodeInfo,style:{display:e.props.node.info?"flex":"none"}},a.createElement("div",{className:nn.a.rectangleNodeName},e.props.node.info)),a.createElement("div",{className:nn.a.rectangleNodePorts},a.createElement("div",{className:nn.a.rectangleNodeIn},J.map(e.props.node.getPortListByLocation(D.LEFT),e.generatePort.bind(e))),a.createElement("div",{className:nn.a.rectangleNodeOut},J.map(e.props.node.getPortListByLocation(D.RIGHT),e.generatePort.bind(e)))))})}}]),t}(X.BaseWidget),ln=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"base-flow"))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(rn,{node:t})}},{key:"getNewInstance",value:function(e){return je.load(e)}}]),t}(X.AbstractNodeFactory),cn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).activeModel=void 0,n.diagramEngine=void 0,n.initialNode=void 0,n.variableList=[],n.newProject=function(){n.diagramEngine=new X.DiagramEngine,n.diagramEngine.installDefaultFactories(),n.diagramEngine.registerNodeFactory(new ln),n.diagramEngine.registerPortFactory(new en("default",function(){return new ne(new ae(ee.IN,D.LEFT),"unknown")})),n.activeModel=new X.DiagramModel,n.diagramEngine.setDiagramModel(n.activeModel),n.initialNode=je.create(w.INITIAL,void 0),n.initialNode.addListener({selectionChanged:n.props.onSelectionChanged.bind(Object(Zt.a)(n)),entityRemoved:n.props.onEntityRemoved.bind(Object(Zt.a)(n))}),n.initialNode.x=.1*window.innerWidth,n.initialNode.y=.4*window.innerHeight,n.diagramEngine.getDiagramModel().addNode(n.initialNode)},n.saveProject=function(){var e=n.activeModel.serializeDiagram();return e.canvasPanel={variableList:n.variableList,initialNodeId:n.initialNode.getID()},e},n.loadProject=function(e,t){var a=JSON.parse(e),i=new X.DiagramModel;i.deSerializeDiagram(a,n.diagramEngine),J.forEach(i.getNodes(),function(e){var t=e;t.addListener({selectionChanged:function(e){return n.props.onSelectionChanged(e)},entityRemoved:function(e){return n.props.onEntityRemoved(e)}}),t.addOnLinkChangedListener(n.props.onDiagramChanged),t.updateInfo()}),n.diagramEngine.setDiagramModel(i),n.activeModel=i,n.initialNode=i.getNode(a.canvasPanel.initialNodeId),t(a.canvasPanel.variableList),n.forceUpdate()},n.addItem=function(e,t,a){var i=je.create(e,t);i&&(i.x=a.x,i.y=a.y,i.addOnLinkChangedListener(n.props.onDiagramChanged),i.addListener({selectionChanged:function(e){return n.props.onSelectionChanged(e)},entityRemoved:function(e){return n.props.onEntityRemoved(e)}}),n.diagramEngine.getDiagramModel().addNode(i),n.props.onItemAdded(i),n.forceUpdate())},n.diagramEngine=new X.DiagramEngine,n.activeModel=new X.DiagramModel,n.initialNode=je.create(w.INITIAL,void 0),n.newProject(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(_e,null,function(t){return e.variableList=t.variableList,i.a.createElement("div",{className:Xt.a.diagramLayer,onDrop:function(t){return e.onDrop(t)},onDragOver:function(e){return e.preventDefault()}},i.a.createElement(X.DiagramWidget,{maxNumberPointsPerLink:0,allowLooseLinks:!1,className:Xt.a.srdDemoCanvas,diagramEngine:e.diagramEngine}))})}},{key:"onDrop",value:function(e){var t=JSON.parse(e.dataTransfer.getData("storm-diagram-node"));if(Object.values(w).includes(t.type)){var n=this.diagramEngine.getRelativeMousePoint(e);this.props.onDrop(t.type,n)}}}]),t}(a.Component),sn=n(99),un=n.n(sn),dn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){n.props.onClickListener(e),n.setState({anchorEl:null})},n.handleFileMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.state={anchorEl:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(G.a,{position:"static"},i.a.createElement(G.v,{className:un.a.toolbar},i.a.createElement("div",{className:un.a.container},i.a.createElement(G.w,{className:un.a.clickable,variant:"overline","aria-owns":Boolean(this.state.anchorEl)?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleFileMenu,color:"inherit"},P.file),i.a.createElement(G.r,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.handleClose},i.a.createElement(G.s,{onClick:function(){return e.handleClick("new")}},P.new),i.a.createElement(G.s,{onClick:function(){return e.handleClick("save")}},P.save),i.a.createElement(G.s,{onClick:function(){return e.handleClick("load")}},P.load)))))}}]),t}(a.Component);dn.defaultProps={onClickListener:function(){}};var hn=function(e){function t(e,n,a){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e,n,a))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setMainFunction",value:function(e){this.mainFunction=e}}]),t}(Pt),pn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).programmingLanguages=Object.keys(y).filter(function(e){return"number"!==typeof y[e]}),n.canvasPanel=Object(a.createRef)(),n.project=void 0,n.currentFileModel=void 0,n.currentClass=void 0,n.hasLoadedProject=!1,n.resetState=function(){n.setState({isModalOpen:!1,isAddNewFileModalOpen:!1,flowType:null,flowPosition:{x:0,y:0},variableList:[],generatedCode:"",newFileName:"",newFileType:"",newFilePath:""})},n.onHeaderMenuClickListener=function(e){switch(e){case"new":if(!n.canvasPanel.current)return;n.canvasPanel.current.newProject(),n.resetState(),n.onDiagramChanged();break;case"save":if(!n.canvasPanel.current)return;n.currentFileModel.json=JSON.stringify(n.canvasPanel.current.saveProject());var t={rootFileModel:n.state.rootFileModel,projectName:n.project.projectName,currentFile:n.currentFileModel};_.save("".concat(n.project.projectName,".").concat(T.SAVE_EXTENSION),JSON.stringify(t));break;case"load":_.load(function(e){if(n.canvasPanel.current)try{var t=JSON.parse(e);n.project=new At(t.projectName),n.loadClass(t.currentFile)}catch(a){console.error(a)}},function(e){console.error(e)});break;default:return}},n.project=new At(e.project.projectName),n.currentClass=new hn(Je.MAIN_CLASS,"",[]),n.state={isModalOpen:!1,isAddNewFileModalOpen:!1,flowType:null,flowPosition:{x:0,y:0},generatedCode:"",newFileName:"",newFileTitle:"",newFileType:"",newFilePath:"",variableList:[],rootFileModel:e.project.rootFileModel,selectedLanguage:y.KOTLIN},console.log(e.project),n.currentFileModel=e.project.currentFile,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(e,t,n){this.hasLoadedProject||(this.loadClass(this.currentFileModel,!1),this.hasLoadedProject=!0)}},{key:"onModalSaveClick",value:function(e){this.onModalClose(),e&&this.canvasPanel.current&&this.state.flowType&&!e.errorMessage&&!e.errorField&&this.canvasPanel.current.addItem(this.state.flowType,e,this.state.flowPosition)}},{key:"onModalDismissClick",value:function(){this.onModalClose()}},{key:"onModalClose",value:function(){this.setState({isModalOpen:!1,flowType:null,flowPosition:{x:0,y:0}})}},{key:"onDiagramChanged",value:function(){At.setProgrammingLanguage(this.state.selectedLanguage);var e=Kt.generate(this.canvasPanel.current?this.canvasPanel.current.initialNode:null);this.currentClass.reset(e),this.currentClass.generateCode(),this.setState({generatedCode:this.currentClass.getCode()})}},{key:"updateDirectoryItems",value:function(){var e=this;this.project.rootDirectory.items=[],this.state.rootFileModel.children.forEach(function(t){e.generateDirectoryItems(t,e.project.rootDirectory)})}},{key:"onNewClass",value:function(e){this.setState({isAddNewFileModalOpen:!0,newFileType:"class",newFilePath:e,newFileTitle:P.newClass})}},{key:"onNewDataClass",value:function(e){this.setState({isAddNewFileModalOpen:!0,newFileType:"data_class",newFilePath:e,newFileTitle:P.newDataClass})}},{key:"onNewPackage",value:function(e){this.setState({isAddNewFileModalOpen:!0,newFileType:"package",newFilePath:e,newFileTitle:P.newPackage})}},{key:"onNewFunctionality",value:function(e){this.setState({isAddNewFileModalOpen:!0,newFileType:"functionality",newFilePath:e,newFileTitle:P.newFunction})}},{key:"onNewFileSave",value:function(){var e=this.state.newFilePath.split("/"),t=this.state.rootFileModel;if(e.forEach(function(e){if(t){var n=t.children.find(function(t){return t.isDir&&t.filename===e});n&&(t=n)}}),t)switch(this.state.newFileType){case"package":case"data_class":case"class":var n=this.project.rootDirectory;e.forEach(function(e){n.items.forEach(function(t){t.type===Je.DIRECTORY&&t.name===e&&(n=t)})}),"package"===this.state.newFileType?n.addDirectoryItem(new ht(this.state.newFileName,[])):n.addDirectoryItem(new Pt(Je.CLASS,this.state.newFileName,[])),t.children.push(new U(this.state.newFileName,"","package"===this.state.newFileType,!1,[]))}this.onAddNewFileDialogClose(),this.forceUpdate()}},{key:"onAddNewFileDialogClose",value:function(){this.setState({isAddNewFileModalOpen:!1,newFileName:"",newFileTitle:"",newFileType:""})}},{key:"onFileDoubleClick",value:function(e){this.currentFileModel.id!==e.id&&this.loadClass(e)}},{key:"loadClass",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!e.isDir&&this.canvasPanel.current&&(n&&(this.currentFileModel.json=JSON.stringify(this.canvasPanel.current.saveProject())),e.json?this.canvasPanel.current.loadProject(e.json,function(n){t.currentFileModel=e,t.resetState(),t.setState({variableList:n}),t.updateDirectoryItems(),t.onDiagramChanged()}):(this.currentFileModel=e,this.canvasPanel.current.newProject(),this.resetState(),this.updateDirectoryItems(),this.onDiagramChanged()))}},{key:"onCanvasDrop",value:function(e,t){this.setState({isModalOpen:!0,flowType:e,flowPosition:t})}},{key:"onItemAdded",value:function(e){e instanceof le&&this.state.variableList.push(e.getVariable())}},{key:"onEntityRemoved",value:function(e){}},{key:"onSelectionChanged",value:function(e){}},{key:"render",value:function(){var e=this;return i.a.createElement(Pe,{value:{variableList:this.state.variableList}},i.a.createElement(B,{value:{project:this.state.rootFileModel}},i.a.createElement("div",{className:p.a.App},i.a.createElement(G.g,{open:this.state.isAddNewFileModalOpen,onClose:function(){return e.onAddNewFileDialogClose()},"aria-labelledby":"form-dialog-title"},i.a.createElement(G.k,{id:"form-dialog-title"},this.state.newFileTitle),i.a.createElement(G.i,null,i.a.createElement(G.j,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a auctor dui. Nunc at pellentesque purus. Aliquam leo massa, pellentesque."),i.a.createElement(G.u,{autoFocus:!0,margin:"dense",id:"fileName",onChange:function(t){return e.setState({newFileName:t.target.value})},label:P.projectName,fullWidth:!0})),i.a.createElement(G.h,null,i.a.createElement(G.b,{onClick:function(){return e.onAddNewFileDialogClose()},color:"primary"},P.cancel),i.a.createElement(G.b,{onClick:function(){return e.onNewFileSave()},color:"primary"},P.create))),i.a.createElement(Yt,{onSaveClick:this.onModalSaveClick.bind(this),onDismissClick:this.onModalDismissClick.bind(this),onClose:this.onModalClose.bind(this),"aria-labelledby":"simple-dialog-title",open:this.state.isModalOpen,type:this.state.flowType}),i.a.createElement(dn,{onClickListener:function(t){return e.onHeaderMenuClickListener(t)}}),i.a.createElement(f.a,{orientation:"vertical"},i.a.createElement(f.b,{minSize:250},i.a.createElement(f.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(f.b,{className:"left-pane",flex:.35,minSize:200},i.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(Q,{onDoubleClickListener:function(t){return e.onFileDoubleClick(t)},onNewClass:function(t){return e.onNewClass(t)},onNewDataClass:function(t){return e.onNewDataClass(t)},onNewFunctionality:function(t){return e.onNewFunctionality(t)},onNewPackage:function(t){return e.onNewPackage(t)}}))),i.a.createElement(f.c,null),i.a.createElement(f.b,{className:"left-pane",minSize:200},i.a.createElement(b,null,Object.values(w).filter(function(e){return e!==w.INITIAL}).map(function(e){return i.a.createElement(N,{key:e,model:{type:e},name:e})}))))),i.a.createElement(f.c,null),i.a.createElement(f.b,{className:"middle-pane",flex:.55,minSize:250},i.a.createElement("div",{className:p.a.paneContent},i.a.createElement(cn,{ref:this.canvasPanel,onItemAdded:this.onItemAdded.bind(this),onDiagramChanged:this.onDiagramChanged.bind(this),onDrop:this.onCanvasDrop.bind(this),onSelectionChanged:this.onSelectionChanged.bind(this),onEntityRemoved:this.onEntityRemoved.bind(this)}))),i.a.createElement(f.c,null),i.a.createElement(f.b,{minSize:250},i.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:"column"}},i.a.createElement(G.u,{id:"language-selector",select:!0,value:this.state.selectedLanguage,onChange:function(t){e.setState({selectedLanguage:t.target.value},function(){e.onDiagramChanged()})},className:p.a.languageSelector,margin:"none"},this.programmingLanguages.map(function(e){return i.a.createElement(G.s,{key:e,value:e},y[e])})),i.a.createElement("div",{style:{display:"flex",flex:1,height:"100%",width:"100%",flexDirection:"column"}},i.a.createElement(L,{code:this.state.generatedCode,language:this.state.selectedLanguage}))))))))}},{key:"generateDirectoryItems",value:function(e,t){var n=this;if(e.isDir){var a=new ht(e.filename,[]);t.addDirectoryItem(a),e.children.forEach(function(e){n.generateDirectoryItems(e,a)})}else if(e.isMainClass)if(this.currentFileModel.id===e.id){var i=Kt.generate(this.canvasPanel.current?this.canvasPanel.current.initialNode:null);console.log(i);var o=new hn(Je.MAIN_CLASS,e.filename,i);this.currentClass=o,t.addDirectoryItem(o)}else t.addDirectoryItem(new hn(Je.MAIN_CLASS,e.filename,[]));else if(this.currentFileModel.id===e.id){var r=Kt.generate(this.canvasPanel.current?this.canvasPanel.current.initialNode:null);console.log(r);var l=new Pt(Je.CLASS,e.filename,r);this.currentClass=l,t.addDirectoryItem(l)}else t.addDirectoryItem(new Pt(Je.CLASS,e.filename,[]))}}]),t}(a.Component),fn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onLoadProjectClick=function(){_.load(function(e){try{n.props.onLoad(JSON.parse(e))}catch(t){console.error(t)}},function(e){console.error(e)})},n.onCreateNewProjectClick=function(){var e=new U(n.state.projectName,"",!1,!0,[]),t={rootFileModel:new U(T.ROOT_FOLDER_NAME,"",!0,!1,[e]),currentFile:e,projectName:n.state.projectName};n.props.onLoad(t)},n.onNewProjectClick=function(){n.setState({isNewProjectDialogOpen:!0})},n.onNewProjectDialogClose=function(){n.setState({isNewProjectDialogOpen:!1})},n.state={isNewProjectDialogOpen:!1,projectName:""},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:p.a.homeApp},i.a.createElement(G.g,{open:this.state.isNewProjectDialogOpen,onClose:function(){return e.onNewProjectDialogClose()},"aria-labelledby":"form-dialog-title"},i.a.createElement(G.k,{id:"form-dialog-title"},P.newProject),i.a.createElement(G.i,null,i.a.createElement(G.j,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a auctor dui. Nunc at pellentesque purus. Aliquam leo massa, pellentesque."),i.a.createElement(G.u,{autoFocus:!0,margin:"dense",id:"projectName",onChange:function(t){return e.setState({projectName:t.target.value})},label:P.projectName,fullWidth:!0})),i.a.createElement(G.h,null,i.a.createElement(G.b,{onClick:function(){return e.onNewProjectDialogClose()},color:"primary"},P.cancel),i.a.createElement(G.b,{onClick:function(){return e.onCreateNewProjectClick()},color:"primary"},P.createProject))),i.a.createElement(G.w,{className:p.a.homeLogoText},"Flowie"),i.a.createElement(G.c,{className:p.a.homeContainer},i.a.createElement(G.d,{style:{display:"flex",justifyContent:"space-evenly"}},i.a.createElement(G.b,{variant:"contained",color:"primary",onClick:function(){return e.onNewProjectClick()}},P.newProject),i.a.createElement(G.b,{variant:"contained",color:"secondary",onClick:function(){return e.onLoadProjectClick()}},P.loadProject))))}}]),t}(a.Component),vn=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e));var a=new U("flowie","",!1,!1,[]);return n.state={isLoaded:!1,data:{rootFileModel:a,projectName:"Flowie",currentFile:a}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.isLoaded?i.a.createElement(pn,{project:this.state.data}):i.a.createElement(fn,{onLoad:function(t){return e.setState({data:t,isLoaded:!0})}})}}]),t}(a.Component),mn=n(226),bn=n(50);n(514),n(515),n(516),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(mn.a,{basename:"/Flowie"},i.a.createElement("div",null,i.a.createElement(bn.a,{path:"/",component:vn,exact:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,n){e.exports={tray:"ShapePanel_tray__V__6H",trayItem:"ShapePanel_trayItem__3Ii5i"}},99:function(e,t,n){e.exports={container:"EditorHeader_container__29lgZ",toolbar:"EditorHeader_toolbar__E_FZG",clickable:"EditorHeader_clickable__TeGqN"}}},[[289,1,2]]]);
//# sourceMappingURL=main.f4486798.chunk.js.map