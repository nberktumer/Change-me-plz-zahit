(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){e.exports={addNodeDialogButtonContainer:"AddNodeDialog_addNodeDialogButtonContainer__2f1L-",addNodeDialogBody:"AddNodeDialog_addNodeDialogBody__3_BNm"}},280:function(e,t,n){e.exports=n(496)},30:function(e,t,n){e.exports={rectangleNode:"RectangleNode_rectangleNode__3g8g2","rectangleNode--selected":"RectangleNode_rectangleNode--selected__2z6Pg",rectangleNodeTitle:"RectangleNode_rectangleNodeTitle__2qlL0",rectangleNodeInfo:"RectangleNode_rectangleNodeInfo__2-vqb",fa:"RectangleNode_fa__LWnSI",rectangleNodeName:"RectangleNode_rectangleNodeName__1IwGt",rectangleNodePorts:"RectangleNode_rectangleNodePorts__3ETKC",rectangleNodeIn:"RectangleNode_rectangleNodeIn__HNdqc",rectangleNodeOut:"RectangleNode_rectangleNodeOut__1w6-S"}},492:function(e,t,n){},496:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(16),r=n.n(o),s=n(3),l=n(4),c=n(6),u=n(5),d=n(13),h=n(7),v=n(72),p=n.n(v),b=n(18),m=n(29),g=n(25),f=n(88),y=n.n(f),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:y.a.tray},this.props.children)}}]),t}(a.Component);O.defaultProps={};var I,N,k,w,L,T=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{borderColor:this.props.color},draggable:!0,onDragStart:function(t){t.dataTransfer.setData("storm-diagram-node",JSON.stringify(e.props.model))},className:y.a.trayItem},this.props.name)}}]),t}(i.a.Component);!function(e){e[e.TYPESCRIPT=0]="TYPESCRIPT",e[e.JAVASCRIPT=1]="JAVASCRIPT",e[e.JAVA=2]="JAVA",e[e.KOTLIN=3]="KOTLIN",e[e.SWIFT=4]="SWIFT",e[e.PHP=5]="PHP",e[e.C=6]="C",e[e.CPP=7]="CPP",e[e.CSHARP=8]="CSHARP",e[e.PYTHON=9]="PYTHON",e[e.LISP=10]="LISP"}(I||(I={})),function(e){e.INT="Int",e.STRING="String",e.BOOLEAN="Boolean"}(N||(N={})),function(e){e.ADDITION="Addition",e.SUBTRACTION="Subtraction",e.MULTIPLICATION="Multiplication",e.DIVISION="Division"}(k||(k={})),function(e){e.IF="If",e.WHILE="While",e.FOR="For",e.INPUT="Input",e.OUTPUT="Output",e.ARITHMETIC="Arithmetic",e.ASSIGNMENT="Assignment"}(w||(w={})),function(e){e.EQUALS="Equals",e.NOT_EQUALS="NotEquals"}(L||(L={}));var j={PROGRAMMING_LANGUAGE:I.KOTLIN},E={IF:"rgb(0, 192, 255)",WHILE:"rgb(192, 0, 255)",VARIABLE:"rgb(255, 192, 0)",ARITHMETIC:"rgb(192, 255, 0)",FOR:"rgb(255, 0, 192)",INITIAL:"rgb(0, 255, 192)"},C=30,S=n(196),F=n.n(S),x=n(203),P=(n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(x.a,{handleWidth:!0,handleHeight:!0,refreshRate:300,refreshMode:"throttle",render:function(t){var n=t.width,a=t.height;return i.a.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(F.a,{mode:"javascript",theme:"tomorrow_night",name:"blah2",fontSize:14,height:a+"px",width:n+"px",wrapEnabled:!0,value:e.props.code,setOptions:{dragEnabled:!1,readOnly:!0,highlightActiveLine:!1,useWorker:!1}}))}})}}]),t}(a.Component));P.defaultProps={language:j.PROGRAMMING_LANGUAGE,code:void 0};var A=n(42),M=(n(362),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{color:"white"}},i.a.createElement(A.b,{selectable:!1,defaultExpandAll:!1,defaultExpandedKeys:["p1"]},i.a.createElement(A.a,{title:"parent 1",key:"p1"},i.a.createElement(A.a,{key:"p10",title:"leaf"}),i.a.createElement(A.a,{title:"parent 1-1",key:"p11"},i.a.createElement(A.a,{title:"parent 2-1",key:"p21"},i.a.createElement(A.a,{title:"leaf"}),i.a.createElement(A.a,{title:"leaf"})),i.a.createElement(A.a,{key:"p22",title:"leaf"})))))}}]),t}(a.Component));M.defaultProps={};var D,R=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).cb=void 0,a.cb=n,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getNewInstance",value:function(e){return this.cb(e)}}]),t}(g.AbstractPortFactory),_=n(21),B=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"UID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),e}();!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(D||(D={}));var V,z=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"srd-default-port",e))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getClassName",value:function(){return Object(_.a)(Object(u.a)(t.prototype),"getClassName",this).call(this)+(this.props.model.portType.location===D.LEFT?this.bem("--in"):this.bem("--out"))}},{key:"render",value:function(){var e=a.createElement(g.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),t=a.createElement("div",{className:"name"},this.props.model.label);return a.createElement("div",this.getProps(),this.props.model.portType.location===D.LEFT?e:t,this.props.model.portType.location===D.LEFT?t:e)}}]),t}(g.BaseWidget),U=function(e){function t(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,n,"default",o))).portType=void 0,a.label=void 0,a.onLinkChangedListener=void 0,a.links=void 0,a.portType=e,a.label=i||n,a.links={},a.onLinkChangedListener=function(){},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.portType=e.portType,this.label=e.label,this.links=e.links}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{portType:this.portType,label:this.label,links:this.links})}},{key:"link",value:function(e){var t=this.createLinkModel();return t.setSourcePort(this),t.setTargetPort(e),t}},{key:"canLinkToPort",value:function(e){return!(Object.keys(e.getLinks()).length>e.getMaximumLinks()||Object.keys(this.getLinks()).length>e.getMaximumLinks())&&(e.getNode()!==this.getNode()&&(this.portType.type===V.OUT&&e.portType.type===V.IN||this.portType.type===V.OUT&&e.portType.type===V.LOOP||this.portType.type===V.SCOPE&&e.portType.type===V.IN))}},{key:"addOnLinkChangedListener",value:function(e){this.onLinkChangedListener=e}},{key:"createLinkModel",value:function(){var e=new g.DefaultLinkModel;return e.addListener({targetPortChanged:function(n){null!=n.port&&n.port instanceof t&&null!=e.sourcePort&&e.sourcePort.canLinkToPort(n.port)&&n.port.onLinkChangedListener()},entityRemoved:function(e){var t=e.entity;null!=t.getTargetPort()&&t.getTargetPort().onLinkChangedListener()}}),e}}]),t}(g.PortModel);!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.LOOP=2]="LOOP",e[e.SCOPE=3]="SCOPE"}(V||(V={}));var H=function e(t,n){Object(s.a)(this,e),this.type=void 0,this.location=void 0,this.type=t,this.location=n},J=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Untitled",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(0,192,255)",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rectangle-node";return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,i))).name=void 0,e.color=void 0,e.ports=void 0,e.onLinkChangedListener=void 0,e.name=n,e.color=a,e.ports={},e.onLinkChangedListener=function(){},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"addOnLinkChangedListener",value:function(e){this.onLinkChangedListener=e,b.map(this.ports,function(t){t.addOnLinkChangedListener(e)})}},{key:"addInPort",value:function(e){var t=new U(new H(V.IN,D.LEFT),B.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addOutPort",value:function(e){var t=new U(new H(V.OUT,D.RIGHT),B.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addLoopPort",value:function(e){var t=new U(new H(V.LOOP,D.LEFT),B.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addScopePort",value:function(e){var t=new U(new H(V.SCOPE,D.RIGHT),B.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.name=e.name,this.color=e.color}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{name:this.name,color:this.color})}},{key:"getPortListByType",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.filter(this.ports,function(e){return b.includes(t,e.portType.type)})}},{key:"getPortListByLocation",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.filter(this.ports,function(e){return b.includes(t,e.portType.location)})}},{key:"getNextFlow",value:function(){var e=Object.values(this.getPortListByType(V.OUT)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(g.NodeModel),G=n(30),W=n.n(G),q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"generatePort",value:function(e){return a.createElement(z,{model:e,key:e.id})}},{key:"render",value:function(){return a.createElement("div",Object.assign({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:W.a.rectangleNodeTitle},a.createElement("div",{className:W.a.rectangleNodeName},this.props.node.name)),a.createElement("div",{className:W.a.rectangleNodePorts},a.createElement("div",{className:W.a.rectangleNodeIn},b.map(this.props.node.getPortListByLocation(D.LEFT),this.generatePort.bind(this))),a.createElement("div",{className:W.a.rectangleNodeOut},b.map(this.props.node.getPortListByLocation(D.RIGHT),this.generatePort.bind(this)))))}}]),t}(g.BaseWidget),K=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"rectangle-node"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(q,{node:t})}},{key:"getNewInstance",value:function(){return new J}}]),t}(g.AbstractNodeFactory),Y=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Untitled",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(0,192,255)";return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,n,a,"rectangle-node-with-info"))).info=void 0,e.info="",e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.info=e.info}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{info:this.info})}}]),t}(J),Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"generatePort",value:function(e){return a.createElement(z,{model:e,key:e.id})}},{key:"render",value:function(){return a.createElement("div",Object.assign({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:W.a.rectangleNodeTitle},a.createElement("div",{className:W.a.rectangleNodeName},this.props.node.name)),a.createElement("div",{className:W.a.rectangleNodeInfo},a.createElement("div",{className:W.a.rectangleNodeName},this.props.node.info)),a.createElement("div",{className:W.a.rectangleNodePorts},a.createElement("div",{className:W.a.rectangleNodeIn},b.map(this.props.node.getPortListByLocation(D.LEFT),this.generatePort.bind(this))),a.createElement("div",{className:W.a.rectangleNodeOut},b.map(this.props.node.getPortListByLocation(D.RIGHT),this.generatePort.bind(this)))))}}]),t}(g.BaseWidget),$=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"rectangle-node-with-info"))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(Q,{node:t})}},{key:"getNewInstance",value:function(){return new Y}}]),t}(g.AbstractNodeFactory),X=n(200),Z=new(n.n(X).a)({en:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",save:"Save",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output"},tr:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",save:"Save",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output"}}),ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,Z.variable+" ("+e.type+")",E.VARIABLE))).variable=void 0,n.variable=e,n.addInPort(Z.in).setMaximumLinks(1/0),n.addOutPort(Z.out).setMaximumLinks(1),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}}]),t}(Y),te=n(12),ne=n(70),ae=n.n(ne),ie=n(138),oe=n.n(ie),re=n(139),se=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleStringChange=function(e,t){return function(a){n.setState(Object(re.a)({},e,a.target.value),function(){n.props.onDataChanged(n.state),null!=t&&t(a.target.value)})}},n.handleBooleanChange=function(e,t){return function(a){var i=a.target.checked;n.setState(Object(re.a)({},e,i),function(){n.props.onDataChanged(n.state),null!=t&&t(i)})}},n}return Object(h.a)(t,e),t}(a.Component),le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={variableName:"",variableType:"",value:"",isNull:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(te.f,{id:"variable-name-input",label:Z.variableName,value:this.state.variableName,inputProps:{maxLength:C},onChange:this.handleStringChange("variableName"),margin:"normal"}),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.dataType,value:this.state.variableType,onChange:this.handleStringChange("variableType",function(t){e.setState({value:""})}),margin:"normal"},Object.keys(N).map(function(e){return i.a.createElement(te.e,{key:e,value:N[e]},N[e])})),i.a.createElement("div",{style:{display:""!==this.state.variableType?"initial":"none"}},i.a.createElement("div",{style:{display:this.state.variableType!==N.BOOLEAN?"flex":"none",flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",textAlign:"center"}},i.a.createElement(te.f,{style:{flex:1},id:"value-input",label:Z.value,value:this.state.isNull?"NULL":this.state.value,type:this.state.variableType===N.INT?"number":"text",onChange:this.handleStringChange("value"),margin:"normal",disabled:this.state.isNull}),i.a.createElement(te.d,{style:{display:this.state.variableType===N.STRING?"inherit":"none"},control:i.a.createElement(te.a,{checked:this.state.isNull,onChange:this.handleBooleanChange("isNull",function(t){e.setState({value:t?"NULL":""})}),value:"true",color:"primary"}),label:"NULL"})),i.a.createElement(te.f,{style:{display:this.state.variableType===N.BOOLEAN?"flex":"none"},id:"boolean-value-input",select:!0,label:Z.value,value:this.state.value,onChange:this.handleStringChange("value"),margin:"normal"},i.a.createElement(te.e,{key:"true",value:"true"},"True"),i.a.createElement(te.e,{key:"false",value:"false"},"False"))))}}]),t}(se),ce=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={variableType:"",first:"",second:"",operation:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.variableType,value:this.state.variableType,onChange:this.handleStringChange("variableType"),margin:"normal"},Object.keys(N).map(function(e){return i.a.createElement(te.e,{key:e,value:N[e]},N[e])})),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.firstVariable,value:this.state.first,onChange:this.handleStringChange("first"),margin:"normal"},this.props.variables.filter(function(t){return t.type===e.state.variableType}).map(function(e){return i.a.createElement(te.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.secondVariable,value:this.state.second,onChange:this.handleStringChange("second"),margin:"normal"},this.props.variables.filter(function(t){return t.type===e.state.variableType}).map(function(e){return i.a.createElement(te.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.operation,value:this.state.operation,onChange:this.handleStringChange("operation"),margin:"normal"},Object.keys(L).map(function(e){return i.a.createElement(te.e,{key:e,value:L[e]},L[e])})))}}]),t}(se),ue=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={variable:"",operation:"",operator1:"",operator2:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.variable,value:this.state.variable,onChange:this.handleStringChange("variable"),margin:"normal"},this.props.variables.filter(function(e){return e.type===N.INT}).map(function(e){return i.a.createElement(te.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.operation,value:this.state.operation,onChange:this.handleStringChange("operation"),margin:"normal"},Object.keys(k).map(function(e){return i.a.createElement(te.e,{key:e,value:k[e]},k[e])})),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.firstOperator,value:this.state.operator1,onChange:this.handleStringChange("operator1"),margin:"normal"},this.props.variables.filter(function(e){return e.type===N.INT}).map(function(e){return i.a.createElement(te.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.secondOperator,value:this.state.operator2,onChange:this.handleStringChange("operator2"),margin:"normal"},this.props.variables.filter(function(e){return e.type===N.INT}).map(function(e){return i.a.createElement(te.e,{key:e.name,value:JSON.stringify(e)},e.name)})))}}]),t}(se),de=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={variable:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.variable,value:this.state.variable,onChange:this.handleStringChange("variable"),margin:"normal"},this.props.variables.map(function(e){return i.a.createElement(te.e,{key:e.name,value:JSON.stringify(e)},e.name)})))}}]),t}(se),he=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={variableName:"",variableType:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(te.f,{id:"variable-name-input",label:Z.variableName,value:this.state.variableName,inputProps:{maxLength:C},onChange:this.handleStringChange("variableName"),margin:"normal"}),i.a.createElement(te.f,{id:"data-type-selector",select:!0,label:Z.dataType,value:this.state.variableType,onChange:this.handleStringChange("variableType"),margin:"normal"},Object.keys(N).map(function(e){return i.a.createElement(te.e,{key:e,value:N[e]},N[e])})))}}]),t}(se),ve=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={bodyData:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onBodyChanged",value:function(e){this.setState({bodyData:e})}},{key:"onSave",value:function(){null!=this.props.onSaveClick&&this.props.onSaveClick(this.state.bodyData)}},{key:"onDismiss",value:function(){null!=this.props.onDismissClick&&this.props.onDismissClick()}},{key:"getDialogBody",value:function(){switch(this.props.type){case w.WHILE:return i.a.createElement(ce,{variables:this.props.variables,onDataChanged:this.onBodyChanged.bind(this)});case w.ARITHMETIC:return i.a.createElement(ue,{variables:this.props.variables,onDataChanged:this.onBodyChanged.bind(this)});case w.ASSIGNMENT:return i.a.createElement(le,{onDataChanged:this.onBodyChanged.bind(this)});case w.INPUT:return i.a.createElement(he,{onDataChanged:this.onBodyChanged.bind(this)});case w.OUTPUT:return i.a.createElement(de,{variables:this.props.variables,onDataChanged:this.onBodyChanged.bind(this)});default:return i.a.createElement("div",null)}}},{key:"renderDialogBody",value:function(){return i.a.createElement("div",{className:oe.a.addNodeDialogBody},this.getDialogBody())}},{key:"render",value:function(){return i.a.createElement(te.b,Object.assign({"aria-labelledby":"simple-dialog-title"},this.props),i.a.createElement(te.c,{id:"simple-dialog-title"},"Set Properties"),this.renderDialogBody(),i.a.createElement("div",{className:oe.a.addNodeDialogButtonContainer},i.a.createElement(ae.a,{variant:"contained",color:"secondary",onClick:this.onDismiss.bind(this)},Z.dismiss),i.a.createElement(ae.a,{variant:"contained",color:"primary",onClick:this.onSave.bind(this)},Z.save)))}}]),t}(a.Component);ve.defaultProps={variables:[]};var pe=n(140),be=function(){function e(){Object(s.a)(this,e),this.flows=new Map,this.codes=[],this.scopeCount=0,this.mainFunctionLineIndex=0,this.spacing="\t",this.variableSet=new Set,this.loopStack=new pe.Stack,this.loopStack.push(e.TERMINATION_ID)}return Object(l.a)(e,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this)}}]),Object(l.a)(e,[{key:"reset",value:function(){this.flows.clear(),this.variableSet.clear(),this.codes=[],this.scopeCount=0,this.mainFunctionLineIndex=0,this.loopStack=new pe.Stack,this.loopStack.push(e.TERMINATION_ID)}},{key:"setFlows",value:function(e){console.log(e),this.flows=e}},{key:"writeLineToMainFunction",value:function(e){this.codes.splice(this.mainFunctionLineIndex,0,this.createSpacing()+e),this.mainFunctionLineIndex++}},{key:"writeLine",value:function(e){this.codes.push(this.createSpacing()+e)}},{key:"appendToLastLine",value:function(e){var t=this.codes.length-1,n=this.codes[t];n+=e,this.codes[t]=n}},{key:"generateMain",value:function(){this.writeLineToMainFunction("fun main(args: Array<String>) {"),this.scopeCount++;var t=this.flows.get(e.INITIAL_ID);void 0!==t?t.createMainCode():console.log("No initial defined please define it with "+e.INITIAL_ID+"!"),this.scopeCount--,this.writeLineToMainFunction("}"),this.writeLineToMainFunction("")}},{key:"writeFunction",value:function(e){var t=this,n="";void 0===e.returnType?n+="":n+=": "+e.returnType;var a="";e.parameters.forEach(function(t,n){a+="".concat(t.name,": ").concat(t.type),n!==e.parameters.length-1&&(a+=", ")}),this.writeLine("fun ".concat(e.functionName,"(").concat(a,")").concat(n)),this.appendToLastLine(" {"),this.scopeCount++,e.codeLines.forEach(function(e){t.writeLine(e)}),this.scopeCount--,this.writeLine("}"),this.writeLine("")}},{key:"writeMainCodeFromFlow",value:function(e){var t=this.loopStack.top;if(this.removeFromStackIfEquals(e))console.log("Top with id "+t+" is popped!");else{var n=this.flows.get(e);if(void 0!==n)return console.log("Code for id "+e+" is being created!"),n.createMainCode();console.log("Something went horribly wrong!")}}},{key:"addVariable",value:function(e){return e=void 0===e?"":e,!this.variableSet.has(e)&&(this.variableSet.add(e),!0)}},{key:"addToLoopStack",value:function(e){console.log("Pushed to stack "+e+"!"),this.loopStack.push(e)}},{key:"removeFromStackIfEquals",value:function(e){return this.loopStack.top===e&&(this.loopStack.pop(),!0)}},{key:"createSpacing",value:function(){for(var e="",t=0;t<this.scopeCount;t++)e+=this.spacing;return e}}]),e}();be.INITIAL_ID="INITIAL_ID",be.TERMINATION_ID="TERMINATION_ID",be.instance=void 0;var me,ge=function(){function e(t,n,a,i){Object(s.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i}return Object(l.a)(e,[{key:"createMainCode",value:function(){if(null!=this.content){var e="";switch(this.content.variable.type){case N.INT:e=this.content.variable.value.toString();break;case N.STRING:e='"'.concat(this.content.variable.value,'"');break;default:console.log("default...")}var t="";be.getInstance().addVariable(this.content.variable.name)&&(t="var "),be.getInstance().writeLineToMainFunction("".concat(t).concat(this.content.variable.name," = ").concat(e)),be.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"createFunctionCode",value:function(){}},{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"assignmentFlow".concat(this.id)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:be.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),fe=function e(t){Object(s.a)(this,e),this.variable=void 0,this.variable=t},ye=function e(t,n,a,i){Object(s.a)(this,e),this.functionName=void 0,this.parameters=void 0,this.returnType=void 0,this.codeLines=void 0,this.functionName=t,this.parameters=n,this.returnType=a,this.codeLines=i},Oe=function e(t,n){Object(s.a)(this,e),this.name=void 0,this.type=void 0,this.name=t,this.type=n},Ie=function(){function e(t,n,a,i){Object(s.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i}return Object(l.a)(e,[{key:"createMainCode",value:function(){null!=this.content&&(be.getInstance().writeLineToMainFunction("var ".concat(this.content.variable.name," = ").concat(this.functionInvocation())),be.getInstance().writeMainCodeFromFlow(this.nextFlow()))}},{key:"createFunctionCode",value:function(){if(null!=this.content){var e=[];e.push('println("Please enter value for '.concat(this.content.variable.name,'")'));var t="";switch(this.content.variable.type){case N.INT:t="readLine()!!.toInt()";break;case N.STRING:t="readLine()"}e.push("return ".concat(t));var n=new ye(this.functionName(),[],this.content.variable.type.toString(),e);be.getInstance().writeFunction(n)}}},{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"inputFlow".concat(this.id)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:be.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Ne=function e(t){Object(s.a)(this,e),this.variable=void 0,this.variable=t},ke=function(){function e(t,n,a,i){Object(s.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i}return Object(l.a)(e,[{key:"createMainCode",value:function(){be.getInstance().writeLineToMainFunction(this.functionInvocation()),be.getInstance().writeMainCodeFromFlow(this.nextFlow())}},{key:"createFunctionCode",value:function(){if(null!=this.content&&void 0!==this.content.variable.name){var e=[],t=[new Oe(this.content.variable.name,this.content.variable.type.toString())],n=new ye(this.functionName(),t,void 0,e);e.push('println("Value of '.concat(this.content.variable.name," is ${").concat(this.content.variable.name,'})")')),be.getInstance().writeFunction(n)}}},{key:"functionInvocation",value:function(){return null!=this.content?"".concat(this.functionName(),"(").concat(this.content.variable.name,")"):""}},{key:"functionName",value:function(){return"outputFlow".concat(this.id)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:be.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),we=function e(t){Object(s.a)(this,e),this.variable=void 0,this.variable=t},Le=function(){function e(t,n,a,i){Object(s.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i}return Object(l.a)(e,[{key:"createMainCode",value:function(){if(null!=this.content){var e="";be.getInstance().addVariable(this.content.variable.name)&&(e="var "),be.getInstance().writeLineToMainFunction("".concat(e).concat(this.content.variable.name," = ").concat(this.functionInvocation())),be.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"createFunctionCode",value:function(){if(null!=this.content){var e=[],t=[];this.content.operator1.type===me.VARIABLE&&null!=this.content.operator1.variableName&&t.push(new Oe(this.content.operator1.variableName,N.INT.toString())),this.content.operator2.type===me.VARIABLE&&null!=this.content.operator2.variableName&&t.push(new Oe(this.content.operator2.variableName,N.INT.toString()));var n="";switch(this.content.operation){case k.ADDITION:n="+";break;case k.SUBTRACTION:n="-";break;case k.MULTIPLICATION:n="*";break;case k.DIVISION:n="/"}var a="",i="";switch(this.content.operator1.type){case me.CONSTANT:a+=this.content.operator1.constantValue;break;case me.VARIABLE:a+=this.content.operator1.variableName}switch(this.content.operator2.type){case me.CONSTANT:i+=this.content.operator2.constantValue;break;case me.VARIABLE:i+=this.content.operator2.variableName}e.push("return ".concat(a," ").concat(n," ").concat(i));var o=new ye(this.functionName(),t,N.INT.toString(),e);be.getInstance().writeFunction(o)}}},{key:"functionInvocation",value:function(){if(null==this.content)return"";var e="".concat(this.functionName(),"(");switch(this.content.operator1.type){case me.CONSTANT:break;case me.VARIABLE:e+=this.content.operator1.variableName}switch(this.content.operator2.type){case me.CONSTANT:break;case me.VARIABLE:e+=", ".concat(this.content.operator2.variableName)}return e+=")"}},{key:"functionName",value:function(){return"arithmeticFlow".concat(this.id)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:be.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Te=function e(t,n,a,i){Object(s.a)(this,e),this.variable=void 0,this.operation=void 0,this.operator1=void 0,this.operator2=void 0,this.variable=t,this.operation=n,this.operator1=a,this.operator2=i},je=function e(t,n,a){Object(s.a)(this,e),this.type=void 0,this.variableName=void 0,this.constantValue=void 0,this.type=t,this.variableName=n,this.constantValue=a};!function(e){e.CONSTANT="Constant",e.VARIABLE="Variable"}(me||(me={}));var Ee=function(){function e(t,n,a,i){Object(s.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i}return Object(l.a)(e,[{key:"createFunctionCode",value:function(){}},{key:"createMainCode",value:function(){if(null!=this.content){var e=this.content.scopeId,t="";this.content.conditions.forEach(function(e){if(t+=e.first.name,null!==e.second){switch(t+=" ",e.operation){case L.EQUALS:t+="==";break;case L.NOT_EQUALS:t+="!="}t+=" "+e.second.name}}),be.getInstance().writeLineToMainFunction("while("+t+") {"),be.getInstance().scopeCount++,null!=e&&(be.getInstance().addToLoopStack(this.id),be.getInstance().writeMainCodeFromFlow(e)),be.getInstance().scopeCount--,be.getInstance().writeLineToMainFunction("}"),be.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:be.TERMINATION_ID}}]),e}(),Ce=function e(t,n){Object(s.a)(this,e),this.conditions=void 0,this.scopeId=void 0,this.conditions=t,this.scopeId=n},Se=function(){function e(t){Object(s.a)(this,e),this.flowJson=void 0,this.flowJson=t}return Object(l.a)(e,[{key:"generate",value:function(){return be.getInstance().reset(),be.getInstance().setFlows(this.convertToFlowObjects(JSON.parse(this.flowJson))),be.getInstance().flows.forEach(function(e){console.log("Creating function code"),e.createFunctionCode()}),be.getInstance().generateMain(),be.getInstance().codes.join("\n")}},{key:"convertToFlowObjects",value:function(e){var t=new Map;return e.forEach(function(e){switch(e.type){case w.ASSIGNMENT:t.set(e.id,new ge(e.id,e.nextFlowId,e.type,e.assignmentFlowContent));break;case w.INPUT:t.set(e.id,new Ie(e.id,e.nextFlowId,e.type,e.inputFlowContent));break;case w.OUTPUT:t.set(e.id,new ke(e.id,e.nextFlowId,e.type,e.outputFlowContent));break;case w.ARITHMETIC:t.set(e.id,new Le(e.id,e.nextFlowId,e.type,e.arithmeticFlowContent));break;case w.WHILE:t.set(e.id,new Ee(e.id,e.nextFlowId,e.type,e.whileFlowContent))}}),t}}]),e}(),Fe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,Z.while,E.WHILE))).conditionList=[],e.addInPort(Z.in).setMaximumLinks(1/0),e.addLoopPort(Z.loop).setMaximumLinks(1/0),e.addOutPort(Z.out).setMaximumLinks(1),e.addScopePort(Z.scope).setMaximumLinks(1),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.conditionList=e.conditionList}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{conditionList:this.conditionList})}},{key:"getScopeFlow",value:function(){var e=Object.values(this.getPortListByType(V.SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(Y),xe=function e(t,n,a){Object(s.a)(this,e),this.name=void 0,this.type=void 0,this.value=void 0,this.name=t,this.type=n,this.value=a},Pe=function e(t,n,a,i){Object(s.a)(this,e),this.id=B.UID(),this.variableType=void 0,this.first=void 0,this.second=void 0,this.operation=void 0,this.variableType=t,this.first=n,this.second=a,this.operation=i},Ae=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,Z.initialFlow,E.INITIAL))).addLoopPort(Z.recurse).setMaximumLinks(1/0),e.addOutPort(Z.out).setMaximumLinks(1),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"remove",value:function(){}}]),t}(J),Me=function(e){function t(e,n,a,i){var o;return Object(s.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,Z.arithmetic,E.ARITHMETIC))).variable=void 0,o.operation=void 0,o.operator1=void 0,o.operator2=void 0,o.addInPort(Z.in).setMaximumLinks(1/0),o.addOutPort(Z.out).setMaximumLinks(1),o.variable=e,o.operation=n,o.operator1=a,o.operator2=i,o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable,this.operation=e.operation,this.operator1=e.operator1,this.operator2=e.operator2}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable,operation:this.operation,operator1:this.operator1,operator2:this.operator2})}}]),t}(Y),De=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,Z.input,E.IF))).variable=void 0,n.variable=e,n.addInPort(Z.in).setMaximumLinks(1/0),n.addOutPort(Z.out).setMaximumLinks(1),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}}]),t}(Y),Re=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,Z.output,E.IF))).variable=void 0,n.variable=e,n.addInPort(Z.in).setMaximumLinks(1/0),n.addOutPort(Z.out).setMaximumLinks(1),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(_.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return b.merge(Object(_.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}}]),t}(Y),_e=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7?arguments[7]:void 0;Object(s.a)(this,e),this.type=void 0,this.id=void 0,this.assignmentFlowContent=void 0,this.inputFlowContent=void 0,this.outputFlowContent=void 0,this.arithmeticFlowContent=void 0,this.whileFlowContent=void 0,this.nextFlowId=void 0,this.type=t,this.id=n,this.assignmentFlowContent=a,this.inputFlowContent=i,this.outputFlowContent=o,this.arithmeticFlowContent=r,this.whileFlowContent=l,this.nextFlowId=c},Be=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).activeModel=void 0,n.diagramEngine=void 0,n.selected=[],n.initialNode=void 0,n.diagramEngine=new g.DiagramEngine,n.diagramEngine.installDefaultFactories(),n.diagramEngine.registerNodeFactory(new K),n.diagramEngine.registerNodeFactory(new $),n.diagramEngine.registerPortFactory(new R("default",function(){return new U(new H(V.IN,D.LEFT),"unknown")})),n.activeModel=new g.DiagramModel,n.diagramEngine.setDiagramModel(n.activeModel),b.forEach(n.activeModel.getNodes(),function(e){e.addListener({selectionChanged:n.addItemListener.bind(Object(d.a)(n))})}),n.initialNode=new Ae,n.initialNode.addListener({selectionChanged:n.addItemListener.bind(Object(d.a)(n)),entityRemoved:n.removeItemListener.bind(Object(d.a)(n))});var a=new Se("[]");return n.diagramEngine.getDiagramModel().addNode(n.initialNode),n.state={height:"1px",width:"1px",selectedStr:"Nothing is selected!",isModalOpen:!1,newOperation:null,newItemPosition:{x:0,y:0},generatedCode:a.generate(),variableList:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onDrop",value:function(e){var t=JSON.parse(e.dataTransfer.getData("storm-diagram-node"));if(Object.values(w).includes(t.type)){var n=this.diagramEngine.getRelativeMousePoint(e);this.setState({isModalOpen:!0,newOperation:t.type,newItemPosition:n})}}},{key:"addItem",value:function(e){var t=this,n=null;switch(this.state.newOperation){case w.ASSIGNMENT:if(""===e.variableName||""===e.variableType||""===e.value)return;var a=new xe(e.variableName,e.variableType,e.value);(n=new ee(a)).addOnLinkChangedListener(function(){return t.onLinkChanged()}),n.info=e.variableName+" = "+e.value,this.state.variableList.push(a);break;case w.ARITHMETIC:if(""===e.variable||""===e.operation||""===e.operator1||""===e.operator2)return;var i=JSON.parse(e.operator1),o=JSON.parse(e.operator2),r=new je(me.VARIABLE,i.name,i.value),s=new je(me.VARIABLE,o.name,o.value);(n=new Me(JSON.parse(e.variable),e.operation,r,s)).addOnLinkChangedListener(function(){return t.onLinkChanged()}),n.info=e.operation;break;case w.WHILE:if(""===e.variableType||""===e.first||""===e.second||""===e.operation)return;var l=new Pe(e.variableType,JSON.parse(e.first),JSON.parse(e.second),e.operation);(n=new Fe).addOnLinkChangedListener(function(){return t.onLinkChanged()}),n.conditionList.push(l),n.info=l.first.name+" "+l.operation+" "+l.second.name;break;case w.INPUT:if(""===e.variableName||""===e.variableType)return;var c=new xe(e.variableName,e.variableType,null);(n=new De(c)).addOnLinkChangedListener(function(){return t.onLinkChanged()}),n.info=e.variableName,this.state.variableList.push(c);break;case w.OUTPUT:if(""===e.variable)return;(n=new Re(JSON.parse(e.variable))).addOnLinkChangedListener(function(){return t.onLinkChanged()}),n.info=void 0===n.variable.name?"":n.variable.name;break;default:return}n.x=this.state.newItemPosition.x,n.y=this.state.newItemPosition.y,n.addListener({selectionChanged:this.addItemListener.bind(this),entityRemoved:this.removeItemListener.bind(this)}),this.diagramEngine.getDiagramModel().addNode(n),this.forceUpdate()}},{key:"onModalSaveClick",value:function(e){this.onModalClose(),null!=e&&this.addItem(e)}},{key:"onModalDismissClick",value:function(){this.onModalClose()}},{key:"onModalClose",value:function(){this.setState({isModalOpen:!1,newOperation:null})}},{key:"onLinkChanged",value:function(){var e=this.initialNode.getNextFlow();if(null==e){var t=new Se("[]");this.setState({generatedCode:t.generate()})}else{var n=[];this.generateFlowModel(e,n,0);var a=new Se(JSON.stringify(n));this.setState({generatedCode:a.generate()})}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:p.a.App},i.a.createElement(ve,{onSaveClick:this.onModalSaveClick.bind(this),onDismissClick:this.onModalDismissClick.bind(this),onClose:this.onModalClose.bind(this),"aria-labelledby":"simple-dialog-title",variables:this.state.variableList,open:this.state.isModalOpen,type:this.state.newOperation}),i.a.createElement(m.a,{orientation:"vertical"},i.a.createElement(m.b,{minSize:250},i.a.createElement(m.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(m.b,{className:"left-pane",flex:.35,minSize:200},i.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(M,null))),i.a.createElement(m.c,null),i.a.createElement(m.b,{className:"left-pane",minSize:200},i.a.createElement(O,null,Object.values(w).map(function(e){return i.a.createElement(T,{key:e,model:{type:e},name:e})}))))),i.a.createElement(m.c,null),i.a.createElement(m.b,{className:"middle-pane",flex:.55,minSize:250},i.a.createElement("div",{className:p.a.paneContent},i.a.createElement("div",{className:p.a.diagramLayer,onDrop:function(t){return e.onDrop(t)},onDragOver:function(e){return e.preventDefault()}},i.a.createElement(g.DiagramWidget,{maxNumberPointsPerLink:0,allowLooseLinks:!1,className:p.a.srdDemoCanvas,diagramEngine:this.diagramEngine})))),i.a.createElement(m.c,null),i.a.createElement(m.b,{minSize:250},i.a.createElement(m.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(m.b,{className:"right-pane",flex:.5,minSize:200},i.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#1d1f21",color:"white"}},this.state.selectedStr)),i.a.createElement(m.c,null),i.a.createElement(m.b,{className:"right-pane",minSize:100},i.a.createElement(P,{code:this.state.generatedCode,language:I.TYPESCRIPT}))))))}},{key:"generateFlowModel",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null!=e&&(null==a||e.getID()!==a)){var i,o=0===n?"INITIAL_ID":e.getID(),r=e.getNextFlow(),s=null==r?null:r.getID();switch(e.constructor){case ee:var l=e;i=new _e(w.ASSIGNMENT,o,new fe(l.variable),null,null,null,null,s);break;case Me:var c=e;i=new _e(w.ARITHMETIC,o,null,null,null,new Te(c.variable,c.operation,c.operator1,c.operator2),null,s);break;case Fe:var u=e,d=u.getScopeFlow();this.generateFlowModel(d,t,n++,u.getID()),i=new _e(w.WHILE,o,null,null,null,null,new Ce(u.conditionList,null==d?null:d.getID()),s);break;case De:var h=e;i=new _e(w.INPUT,o,null,new Ne(h.variable),null,null,null,s);break;case Re:var v=e;i=new _e(w.OUTPUT,o,null,null,new we(v.variable),null,null,s)}void 0!==i&&t.push(i),this.generateFlowModel(e.getNextFlow(),t,n+1,a)}}},{key:"addItemListener",value:function(e){if(e.isSelected&&-1===this.selected.indexOf(e.entity.name))this.selected.push(e.entity.name),this.setState({selectedStr:this.selected.join(", ")+(1===this.selected.length?" is ":" are ")+"selected."});else if(!e.isSelected){var t=this.selected.indexOf(e.entity.name);this.selected.splice(t,1),0===this.selected.length?this.setState({selectedStr:"Nothing is selected!"}):this.setState({selectedStr:this.selected.join(", ")+(1===this.selected.length?" is ":" are ")+"selected."})}}},{key:"removeItemListener",value:function(e){if(e.entity instanceof ee||e.entity instanceof De){var t=this.state.variableList.filter(function(t){return t.name!==e.entity.variable.name});this.setState({variableList:t})}var n=this.selected.indexOf(e.entity.name);this.selected.splice(n,1),0===this.selected.length?this.setState({selectedStr:"Nothing is selected!"}):this.setState({selectedStr:this.selected.join(", ")+(1===this.selected.length?" is ":" are ")+"selected."})}}]),t}(a.Component),Ve=n(498),ze=n(499);n(492),n(493),n(494),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(Ve.a,{basename:"/Flowie"},i.a.createElement("div",null,i.a.createElement(ze.a,{path:"/",component:Be,exact:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,n){e.exports={App:"Editor_App__3tFom",paneContent:"Editor_paneContent__eMkRK",diagramLayer:"Editor_diagramLayer__3EbQu",srdDemoCanvas:"Editor_srdDemoCanvas__1q77O"}},88:function(e,t,n){e.exports={tray:"ShapePanel_tray__HYIa9",trayItem:"ShapePanel_trayItem__24yED"}}},[[280,1,2]]]);
//# sourceMappingURL=main.d1519967.chunk.js.map