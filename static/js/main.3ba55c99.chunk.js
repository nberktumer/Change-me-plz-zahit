(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){e.exports={addNodeDialogButtonContainer:"AddNodeDialog_addNodeDialogButtonContainer__3szSl",addNodeDialogBody:"AddNodeDialog_addNodeDialogBody__3ZweO"}},141:function(e,t,n){e.exports={diagramLayer:"CanvasPanel_diagramLayer__3iv1-",srdDemoCanvas:"CanvasPanel_srdDemoCanvas__xJXSV"}},281:function(e,t,n){e.exports=n(497)},30:function(e,t,n){e.exports={rectangleNode:"BaseFlow_rectangleNode__EIYU5","rectangleNode--selected":"BaseFlow_rectangleNode--selected__2MMEv",rectangleNodeTitle:"BaseFlow_rectangleNodeTitle__238Sh",rectangleNodeInfo:"BaseFlow_rectangleNodeInfo__3ldf_",fa:"BaseFlow_fa__1eaxR",rectangleNodeName:"BaseFlow_rectangleNodeName__wyv7X",rectangleNodePorts:"BaseFlow_rectangleNodePorts__3irq9",rectangleNodeIn:"BaseFlow_rectangleNodeIn__3DCF9",rectangleNodeOut:"BaseFlow_rectangleNodeOut__3UMAk"}},493:function(e,t,n){},497:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(16),r=n.n(o),l=n(2),s=n(3),c=n(6),u=n(5),h=n(7),d=n(89),v=n.n(d),p=n(29),b=n(87),f=n.n(b),m=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:f.a.tray},this.props.children)}}]),t}(a.Component);m.defaultProps={};var g,y,O,I,N,w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{borderColor:this.props.color},draggable:!0,onDragStart:function(t){t.dataTransfer.setData("storm-diagram-node",JSON.stringify(e.props.model))},className:f.a.trayItem},this.props.name)}}]),t}(i.a.Component);!function(e){e[e.TYPESCRIPT=0]="TYPESCRIPT",e[e.JAVASCRIPT=1]="JAVASCRIPT",e[e.JAVA=2]="JAVA",e[e.KOTLIN=3]="KOTLIN",e[e.SWIFT=4]="SWIFT",e[e.PHP=5]="PHP",e[e.C=6]="C",e[e.CPP=7]="CPP",e[e.CSHARP=8]="CSHARP",e[e.PYTHON=9]="PYTHON",e[e.LISP=10]="LISP"}(g||(g={})),function(e){e.INT="Int",e.STRING="String",e.BOOLEAN="Boolean"}(y||(y={})),function(e){e.ADDITION="Addition",e.SUBTRACTION="Subtraction",e.MULTIPLICATION="Multiplication",e.DIVISION="Division"}(O||(O={})),function(e){e.INITIAL="Initial",e.IF="If",e.WHILE="While",e.FOR="For",e.INPUT="Input",e.OUTPUT="Output",e.ARITHMETIC="Arithmetic",e.ASSIGNMENT="Assignment"}(I||(I={})),function(e){e.EQUALS="Equals",e.NOT_EQUALS="NotEquals"}(N||(N={}));var j={PROGRAMMING_LANGUAGE:g.KOTLIN},k={IF:"rgb(0, 192, 255)",WHILE:"rgb(192, 0, 255)",VARIABLE:"rgb(255, 192, 0)",ARITHMETIC:"rgb(192, 255, 0)",FOR:"rgb(255, 0, 192)",INITIAL:"rgb(0, 255, 192)"},T=30,E=n(197),C=n.n(E),L=n(204),S=(n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(L.a,{handleWidth:!0,handleHeight:!0,refreshRate:300,refreshMode:"throttle",render:function(t){var n=t.width,a=t.height;return i.a.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(C.a,{mode:"javascript",theme:"tomorrow_night",name:"blah2",fontSize:14,height:a+"px",width:n+"px",wrapEnabled:!0,value:e.props.code,setOptions:{dragEnabled:!1,readOnly:!0,highlightActiveLine:!1,useWorker:!1}}))}})}}]),t}(a.Component));S.defaultProps={language:j.PROGRAMMING_LANGUAGE,code:void 0};var F=n(42),x=(n(363),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{color:"white"}},i.a.createElement(F.b,{selectable:!1,defaultExpandAll:!1,defaultExpandedKeys:["p1"]},i.a.createElement(F.a,{title:"parent 1",key:"p1"},i.a.createElement(F.a,{key:"p10",title:"leaf"}),i.a.createElement(F.a,{title:"parent 1-1",key:"p11"},i.a.createElement(F.a,{title:"parent 2-1",key:"p21"},i.a.createElement(F.a,{title:"leaf"}),i.a.createElement(F.a,{title:"leaf"})),i.a.createElement(F.a,{key:"p22",title:"leaf"})))))}}]),t}(a.Component));x.defaultProps={};var P,A=n(12),M=n(70),D=n.n(M),V=n(201),_=new(n.n(V).a)({en:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",save:"Save",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output"},tr:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",save:"Save",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output"}}),R=n(138),U=n.n(R),B=function e(){Object(l.a)(this,e)},z=function e(t,n,a){Object(l.a)(this,e),this.name=void 0,this.type=void 0,this.value=void 0,this.name=t,this.type=n,this.value=a},H=n(19),J=n(18),W=n(25),G=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"UID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),e}();!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(P||(P={}));var q,K=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"srd-default-port",e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getClassName",value:function(){return Object(H.a)(Object(u.a)(t.prototype),"getClassName",this).call(this)+(this.props.model.portType.location===P.LEFT?this.bem("--in"):this.bem("--out"))}},{key:"render",value:function(){var e=a.createElement(W.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),t=a.createElement("div",{className:"name"},this.props.model.label);return a.createElement("div",this.getProps(),this.props.model.portType.location===P.LEFT?e:t,this.props.model.portType.location===P.LEFT?t:e)}}]),t}(W.BaseWidget),Y=function(e){function t(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,n,"default",o))).portType=void 0,a.label=void 0,a.onLinkChangedListener=void 0,a.links=void 0,a.portType=e,a.label=i||n,a.links={},a.onLinkChangedListener=function(){},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.portType=e.portType,this.label=e.label,this.links=e.links}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{portType:this.portType,label:this.label,links:this.links})}},{key:"link",value:function(e){var t=this.createLinkModel();return t.setSourcePort(this),t.setTargetPort(e),t}},{key:"canLinkToPort",value:function(e){return!(Object.keys(e.getLinks()).length>e.getMaximumLinks()||Object.keys(this.getLinks()).length>this.getMaximumLinks())&&(e.getNode()!==this.getNode()&&(this.portType.type===q.OUT&&e.portType.type===q.IN||this.portType.type===q.OUT&&e.portType.type===q.LOOP||this.portType.type===q.SCOPE&&e.portType.type===q.IN))}},{key:"addOnLinkChangedListener",value:function(e){this.onLinkChangedListener=e}},{key:"createLinkModel",value:function(){var e=new W.DefaultLinkModel;return e.addListener({targetPortChanged:function(n){null!=n.port&&n.port instanceof t&&null!=e.sourcePort&&e.sourcePort.canLinkToPort(n.port)&&n.port.onLinkChangedListener()},entityRemoved:function(e){var t=e.entity;null!=t.getTargetPort()&&t.getTargetPort().onLinkChangedListener()}}),e}}]),t}(W.PortModel);!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.LOOP=2]="LOOP",e[e.SCOPE=3]="SCOPE"}(q||(q={}));var Q=function e(t,n){Object(l.a)(this,e),this.type=void 0,this.location=void 0,this.type=t,this.location=n},X=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base-flow";return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,o))).name=void 0,n.color=void 0,n.ports=void 0,n.onLinkChangedListener=void 0,n.flowType=void 0,n.name=a,n.color=i,n.ports={},n.onLinkChangedListener=function(){},n.flowType=e,n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"updateNode",value:function(e){ve.update(this,e)}},{key:"addOnLinkChangedListener",value:function(e){this.onLinkChangedListener=e,J.map(this.ports,function(t){t.addOnLinkChangedListener(e)})}},{key:"addInPort",value:function(e){var t=new Y(new Q(q.IN,P.LEFT),G.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addOutPort",value:function(e){var t=new Y(new Q(q.OUT,P.RIGHT),G.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addLoopPort",value:function(e){var t=new Y(new Q(q.LOOP,P.LEFT),G.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addScopePort",value:function(e){var t=new Y(new Q(q.SCOPE,P.RIGHT),G.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.name=e.name,this.color=e.color}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{name:this.name,color:this.color})}},{key:"getPortListByType",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.filter(this.ports,function(e){return J.includes(t,e.portType.type)})}},{key:"getPortListByLocation",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.filter(this.ports,function(e){return J.includes(t,e.portType.location)})}},{key:"getNextFlow",value:function(){var e=Object.values(this.getPortListByType(q.OUT)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(W.NodeModel),$=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)";return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a,i,"base-info-flow"))).info=void 0,n.info="",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.info=e.info}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{info:this.info})}}]),t}(X),Z=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)";return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a,i))).variable=void 0,n.variable=new z("",y.BOOLEAN,""),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}}]),t}($),ee=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,I.INPUT,_.input,k.IF))).setVariable(e),n.addInPort(_.in).setMaximumLinks(1/0),n.addOutPort(_.out).setMaximumLinks(1),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"setVariable",value:function(e){Object(H.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.info=e.name}}]),t}(Z),te=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variableName||""===e.variableType)return null;var n=new z(e.variableName,e.variableType,null);return void 0!==t?(t.setVariable(n),t):new ee(n)}}]),t}(B),ne=function e(t,n,a,i){Object(l.a)(this,e),this.id=G.UID(),this.variableType=void 0,this.first=void 0,this.second=void 0,this.operation=void 0,this.variableType=t,this.first=n,this.second=a,this.operation=i},ae=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,I.WHILE,_.while,k.WHILE))).conditionList=[],e.addInPort(_.in).setMaximumLinks(1/0),e.addOutPort(_.out).setMaximumLinks(1),e.addScopePort(_.scope).setMaximumLinks(1),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"addCondition",value:function(e){this.conditionList.push(e),this.info=this.conditionList.map(function(e){return"".concat(e.first.name," ").concat(e.operation," ").concat(e.second.name)}).join("\n")}},{key:"removeAllConditions",value:function(){this.conditionList=[],this.info=""}},{key:"removeCondition",value:function(e){this.conditionList=this.conditionList.filter(function(t){return t!=e}),this.info=this.conditionList.map(function(e){return"".concat(e.first.name," ").concat(e.operation," ").concat(e.second.name)}).join("\n")}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.conditionList=e.conditionList}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{conditionList:this.conditionList})}},{key:"getScopeFlow",value:function(){var e=Object.values(this.getPortListByType(q.SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}($),ie=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variableType||""===e.first||""===e.second||""===e.operation)return null;var n=new ne(e.variableType,JSON.parse(e.first),JSON.parse(e.second),e.operation);if(void 0!==t)return t.removeAllConditions(),t.addCondition(n),t;var a=new ae;return a.addCondition(n),a}}]),t}(B),oe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,I.OUTPUT,_.output,k.IF))).variable=void 0,n.variable=e,n.setVariable(e),n.addInPort(_.in).setMaximumLinks(1/0),n.addOutPort(_.out).setMaximumLinks(1),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e,this.info=e.name}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}}]),t}($),re=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"create",value:function(e,t){return e&&""!==e.variable?void 0!==t?(t.setVariable(JSON.parse(e.variable)),t):new oe(JSON.parse(e.variable)):null}}]),t}(B),le=function(e){function t(e,n,a,i){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,I.ARITHMETIC,_.arithmetic,k.ARITHMETIC))).variable=void 0,o.operation=void 0,o.operator1=void 0,o.operator2=void 0,o.addInPort(_.in).setMaximumLinks(1/0),o.addOutPort(_.out).setMaximumLinks(1),o.variable=e,o.operation=n,o.operator1=a,o.operator2=i,o.setVariable(e),o.setOperation(n),o.setOperator1(a),o.setOperator2(i),o}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e,this.info="".concat(e.name," = ").concat(this.getOperator1().variableName," ").concat(this.getOperation()," ").concat(this.getOperator2().variableName)}},{key:"getOperation",value:function(){return this.operation}},{key:"setOperation",value:function(e){this.operation=e,this.info="".concat(this.getVariable().name," = ").concat(this.getOperator1().variableName," ").concat(e," ").concat(this.getOperator2().variableName)}},{key:"getOperator1",value:function(){return this.operator1}},{key:"setOperator1",value:function(e){this.operator1=e,this.info="".concat(this.getVariable().name," = ").concat(e.variableName," ").concat(this.getOperation()," ").concat(this.getOperator2().variableName)}},{key:"getOperator2",value:function(){return this.operator2}},{key:"setOperator2",value:function(e){this.operator2=e,this.info="".concat(this.getVariable().name," = ").concat(this.getOperator1().variableName," ").concat(this.getOperation()," ").concat(e.variableName)}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable,this.operation=e.operation,this.operator1=e.operator1,this.operator2=e.operator2}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable,operation:this.operation,operator1:this.operator1,operator2:this.operator2})}}]),t}($),se=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variable||""===e.operation||""===e.operator1||""===e.operator2)return null;var n=JSON.parse(e.operator1),a=JSON.parse(e.operator2);return void 0!==t?(t.setVariable(JSON.parse(e.variable)),t.setOperation(e.operation),t.setOperator1(n),t.setOperator2(a),t):new le(JSON.parse(e.variable),e.operation,n,a)}}]),t}(B),ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,I.ASSIGNMENT,_.variable+" ("+e.type+")",k.VARIABLE))).setVariable(e),n.addInPort(_.in).setMaximumLinks(1/0),n.addOutPort(_.out).setMaximumLinks(1),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"setVariable",value:function(e){Object(H.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.info="".concat(e.name," = ").concat(e.value)}}]),t}(Z),ue=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variableName||""===e.variableType||""===e.value)return null;var n=new z(e.variableName,e.variableType,e.value);return void 0!==t?(t.setVariable(n),t):new ce(n)}}]),t}(B),he=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,I.INITIAL,_.initialFlow,k.INITIAL))).addLoopPort(_.recurse).setMaximumLinks(1/0),e.addOutPort(_.out).setMaximumLinks(1),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"remove",value:function(){}}]),t}(X),de=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"create",value:function(e,t){return new he}}]),t}(B),ve=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"create",value:function(e,t){switch(e){case I.INITIAL:return(new de).create(t);case I.IF:return null;case I.WHILE:return(new ie).create(t);case I.FOR:return null;case I.INPUT:return(new te).create(t);case I.OUTPUT:return(new re).create(t);case I.ARITHMETIC:return(new se).create(t);case I.ASSIGNMENT:return(new ue).create(t);default:return null}}},{key:"update",value:function(e,t){switch(console.log(e.flowType),e.flowType){case I.INITIAL:return(new de).create(t,e);case I.IF:return null;case I.WHILE:return(new ie).create(t,e);case I.FOR:return null;case I.INPUT:return(new te).create(t,e);case I.OUTPUT:return(new re).create(t,e);case I.ARITHMETIC:return(new se).create(t,e);case I.ASSIGNMENT:return(new ue).create(t,e);default:return null}}}]),e}(),pe=n(139),be=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleStringChange=function(e,t){return function(a){n.setState(Object(pe.a)({},e,a.target.value),function(){n.props.onDataChanged(n.state),null!=t&&t(a.target.value)})}},n.handleBooleanChange=function(e,t){return function(a){var i=a.target.checked;n.setState(Object(pe.a)({},e,i),function(){n.props.onDataChanged(n.state),null!=t&&t(i)})}},n}return Object(h.a)(t,e),t}(a.Component),fe=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableType:a.conditionList[0].variableType,first:a.conditionList[0].first,second:a.conditionList[0].second,operation:a.conditionList[0].operation}}else n.state={variableType:"",first:"",second:"",operation:""};return n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.variableType,value:this.state.variableType,onChange:this.handleStringChange("variableType"),margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(A.e,{key:e,value:y[e]},y[e])})),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.firstVariable,value:this.state.first,onChange:this.handleStringChange("first"),margin:"normal"},this.props.variables.filter(function(t){return t.type===e.state.variableType}).map(function(e){return i.a.createElement(A.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.secondVariable,value:this.state.second,onChange:this.handleStringChange("second"),margin:"normal"},this.props.variables.filter(function(t){return t.type===e.state.variableType}).map(function(e){return i.a.createElement(A.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.operation,value:this.state.operation,onChange:this.handleStringChange("operation"),margin:"normal"},Object.keys(N).map(function(e){return i.a.createElement(A.e,{key:e,value:N[e]},N[e])})))}}]),t}(be),me=function e(t,n,a,i){Object(l.a)(this,e),this.functionName=void 0,this.parameters=void 0,this.returnType=void 0,this.codeLines=void 0,this.functionName=t,this.parameters=n,this.returnType=a,this.codeLines=i},ge=function e(t,n){Object(l.a)(this,e),this.name=void 0,this.type=void 0,this.name=t,this.type=n},ye=n(140),Oe=function(){function e(){Object(l.a)(this,e),this.flowIncrementalId=0,this.flows=new Map,this.codes=[],this.scopeCount=0,this.mainFunctionLineIndex=0,this.spacing="\t",this.variableSet=new Set,this.loopStack=new ye.Stack,this.loopStack.push(e.TERMINATION_ID)}return Object(s.a)(e,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this)}}]),Object(s.a)(e,[{key:"reset",value:function(){this.flowIncrementalId=0,this.flows.clear(),this.variableSet.clear(),this.codes=[],this.scopeCount=0,this.mainFunctionLineIndex=0,this.loopStack=new ye.Stack,this.loopStack.push(e.TERMINATION_ID)}},{key:"setFlows",value:function(e){console.log(e),this.flows=e}},{key:"writeLineToMainFunction",value:function(e){this.codes.splice(this.mainFunctionLineIndex,0,this.createSpacing()+e),this.mainFunctionLineIndex++}},{key:"writeLine",value:function(e){this.codes.push(this.createSpacing()+e)}},{key:"appendToLastLine",value:function(e){var t=this.codes.length-1,n=this.codes[t];n+=e,this.codes[t]=n}},{key:"generateMain",value:function(){this.writeLineToMainFunction("fun main(args: Array<String>) {"),this.scopeCount++;var t=this.flows.get(e.INITIAL_ID);void 0!==t?t.createMainCode():console.log("No initial defined please define it with "+e.INITIAL_ID+"!"),this.scopeCount--,this.writeLineToMainFunction("}"),this.writeLineToMainFunction("")}},{key:"writeFunction",value:function(e){var t=this,n="";void 0===e.returnType?n+="":n+=": "+e.returnType;var a="";e.parameters.forEach(function(t,n){a+="".concat(t.name,": ").concat(t.type),n!==e.parameters.length-1&&(a+=", ")}),this.writeLine("fun ".concat(e.functionName,"(").concat(a,")").concat(n)),this.appendToLastLine(" {"),this.scopeCount++,e.codeLines.forEach(function(e){t.writeLine(e)}),this.scopeCount--,this.writeLine("}"),this.writeLine("")}},{key:"writeMainCodeFromFlow",value:function(e){var t=this.loopStack.top;if(this.removeFromStackIfEquals(e))console.log("Top with id "+t+" is popped!");else{var n=this.flows.get(e);if(void 0!==n)return console.log("Code for id "+e+" is being created!"),n.createMainCode();console.log("Something went horribly wrong!")}}},{key:"addVariable",value:function(e){return e=void 0===e?"":e,console.log("Adding variable : "+e+" isContained: "+this.variableSet.has(e)),!this.variableSet.has(e)&&(this.variableSet.add(e),!0)}},{key:"addToLoopStack",value:function(e){console.log("Pushed to stack "+e+"!"),this.loopStack.push(e)}},{key:"removeFromStackIfEquals",value:function(e){return this.loopStack.top===e&&(this.loopStack.pop(),!0)}},{key:"createSpacing",value:function(){for(var e="",t=0;t<this.scopeCount;t++)e+=this.spacing;return e}}]),e}();Oe.INITIAL_ID="INITIAL_ID",Oe.TERMINATION_ID="TERMINATION_ID",Oe.instance=void 0;var Ie,Ne=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Oe.getInstance().flowIncrementalId++).toString()}return Object(s.a)(e,[{key:"createMainCode",value:function(){if(null!=this.content){var e="";Oe.getInstance().addVariable(this.content.variable.name)&&(e="var "),Oe.getInstance().writeLineToMainFunction("".concat(e).concat(this.content.variable.name," = ").concat(this.functionInvocation())),Oe.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"createFunctionCode",value:function(){if(null!=this.content){var e=[],t=[];this.content.operator1.type===Ie.VARIABLE&&null!=this.content.operator1.variableName&&t.push(new ge(this.content.operator1.variableName,y.INT.toString())),this.content.operator2.type===Ie.VARIABLE&&null!=this.content.operator2.variableName&&t.push(new ge(this.content.operator2.variableName,y.INT.toString()));var n="";switch(this.content.operation){case O.ADDITION:n="+";break;case O.SUBTRACTION:n="-";break;case O.MULTIPLICATION:n="*";break;case O.DIVISION:n="/"}var a="",i="";switch(this.content.operator1.type){case Ie.CONSTANT:a+=this.content.operator1.constantValue;break;case Ie.VARIABLE:a+=this.content.operator1.variableName}switch(this.content.operator2.type){case Ie.CONSTANT:i+=this.content.operator2.constantValue;break;case Ie.VARIABLE:i+=this.content.operator2.variableName}e.push("return ".concat(a," ").concat(n," ").concat(i));var o=new me(this.functionName(),t,y.INT.toString(),e);Oe.getInstance().writeFunction(o)}}},{key:"functionInvocation",value:function(){if(null==this.content)return"";var e="".concat(this.functionName(),"(");switch(this.content.operator1.type){case Ie.CONSTANT:break;case Ie.VARIABLE:e+=this.content.operator1.variableName}switch(this.content.operator2.type){case Ie.CONSTANT:break;case Ie.VARIABLE:e+=", ".concat(this.content.operator2.variableName)}return e+=")"}},{key:"functionName",value:function(){return"arithmeticFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Oe.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),we=function e(t,n,a,i){Object(l.a)(this,e),this.variable=void 0,this.operation=void 0,this.operator1=void 0,this.operator2=void 0,this.variable=t,this.operation=n,this.operator1=a,this.operator2=i},je=function e(t,n,a){Object(l.a)(this,e),this.type=void 0,this.variableName=void 0,this.constantValue=void 0,this.type=t,this.variableName=n,this.constantValue=a};!function(e){e.CONSTANT="Constant",e.VARIABLE="Variable"}(Ie||(Ie={}));var ke=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variable:JSON.stringify(a.getVariable()),operation:a.getOperation(),operator1:JSON.stringify(a.getOperator1()),operator2:JSON.stringify(a.getOperator2())}}else n.state={variable:"",operation:"",operator1:"",operator2:""};return n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.variable,value:this.state.variable,onChange:this.handleStringChange("variable"),margin:"normal"},this.props.variables.filter(function(e){return e.type===y.INT}).map(function(e){return i.a.createElement(A.e,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.operation,value:this.state.operation,onChange:this.handleStringChange("operation"),margin:"normal"},Object.keys(O).map(function(e){return i.a.createElement(A.e,{key:e,value:O[e]},O[e])})),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.firstOperator,value:this.state.operator1,onChange:this.handleStringChange("operator1"),margin:"normal"},this.props.variables.filter(function(e){return e.type===y.INT}).map(function(e){return i.a.createElement(A.e,{key:e.name,value:JSON.stringify(new je(Ie.VARIABLE,e.name,e.value))},e.name)})),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.secondOperator,value:this.state.operator2,onChange:this.handleStringChange("operator2"),margin:"normal"},this.props.variables.filter(function(e){return e.type===y.INT}).map(function(e){return i.a.createElement(A.e,{key:e.name,value:JSON.stringify(new je(Ie.VARIABLE,e.name,e.value))},e.name)})))}}]),t}(be),Te=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,variableType:a.getVariable().type,value:a.getVariable().value,isNull:"NULL"===a.getVariable().value}}else n.state={variableName:"",variableType:"",value:"",isNull:!1};return n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(A.f,{id:"variable-name-input",label:_.variableName,value:this.state.variableName,inputProps:{maxLength:T},onChange:this.handleStringChange("variableName"),margin:"normal"}),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.dataType,value:this.state.variableType,onChange:this.handleStringChange("variableType",function(t){e.setState({value:""})}),margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(A.e,{key:e,value:y[e]},y[e])})),i.a.createElement("div",{style:{display:""!==this.state.variableType?"initial":"none"}},i.a.createElement("div",{style:{display:this.state.variableType!==y.BOOLEAN?"flex":"none",flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",textAlign:"center"}},i.a.createElement(A.f,{style:{flex:1},id:"value-input",label:_.value,value:this.state.isNull?"NULL":this.state.value,type:this.state.variableType===y.INT?"number":"text",onChange:this.handleStringChange("value"),margin:"normal",disabled:this.state.isNull}),i.a.createElement(A.d,{style:{display:this.state.variableType===y.STRING?"inherit":"none"},control:i.a.createElement(A.a,{checked:this.state.isNull,onChange:this.handleBooleanChange("isNull",function(t){e.setState({value:t?"NULL":""})}),value:"true",color:"primary"}),label:"NULL"})),i.a.createElement(A.f,{style:{display:this.state.variableType===y.BOOLEAN?"flex":"none"},id:"boolean-value-input",select:!0,label:_.value,value:this.state.value,onChange:this.handleStringChange("value"),margin:"normal"},i.a.createElement(A.e,{key:"true",value:"true"},"True"),i.a.createElement(A.e,{key:"false",value:"false"},"False"))))}}]),t}(be),Ee=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,variableType:a.getVariable().type}}else n.state={variableName:"",variableType:""};return n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(A.f,{id:"variable-name-input",label:_.variableName,value:this.state.variableName,inputProps:{maxLength:T},onChange:this.handleStringChange("variableName"),margin:"normal"}),i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.dataType,value:this.state.variableType,onChange:this.handleStringChange("variableType"),margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(A.e,{key:e,value:y[e]},y[e])})))}}]),t}(be),Ce=function(e){function t(e){var n;if(Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variable:a.getVariable().name}}else n.state={variable:""};return n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(A.f,{id:"data-type-selector",select:!0,label:_.variable,value:this.state.variable,onChange:this.handleStringChange("variable"),margin:"normal"},this.props.variables.map(function(e){return i.a.createElement(A.e,{key:e.name,value:JSON.stringify(e)},e.name)})))}}]),t}(be),Le=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"create",value:function(e,t,n,a){switch(e){case I.WHILE:return i.a.createElement(fe,{variables:t,node:a,onDataChanged:n.bind(this)});case I.ARITHMETIC:return i.a.createElement(ke,{variables:t,node:a,onDataChanged:n.bind(this)});case I.ASSIGNMENT:return i.a.createElement(Te,{node:a,onDataChanged:n.bind(this)});case I.INPUT:return i.a.createElement(Ee,{node:a,onDataChanged:n.bind(this)});case I.OUTPUT:return i.a.createElement(Ce,{variables:t,node:a,onDataChanged:n.bind(this)});default:return i.a.createElement("div",null)}}}]),e}(),Se=function e(){Object(l.a)(this,e)},Fe=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7?arguments[7]:void 0;Object(l.a)(this,e),this.type=void 0,this.id=void 0,this.assignmentFlowContent=void 0,this.inputFlowContent=void 0,this.outputFlowContent=void 0,this.arithmeticFlowContent=void 0,this.whileFlowContent=void 0,this.nextFlowId=void 0,this.type=t,this.id=n,this.assignmentFlowContent=a,this.inputFlowContent=i,this.outputFlowContent=o,this.arithmeticFlowContent=r,this.whileFlowContent=s,this.nextFlowId=c},xe=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Oe.getInstance().flowIncrementalId++).toString()}return Object(s.a)(e,[{key:"createFunctionCode",value:function(){}},{key:"createMainCode",value:function(){if(null!=this.content){var e=this.content.scopeId,t="";this.content.conditions.forEach(function(e){if(t+=e.first.name,null!==e.second){switch(t+=" ",e.operation){case N.EQUALS:t+="==";break;case N.NOT_EQUALS:t+="!="}t+=" "+e.second.name}}),Oe.getInstance().writeLineToMainFunction("while("+t+") {"),Oe.getInstance().scopeCount++,null!=e&&(Oe.getInstance().addToLoopStack(this.id),Oe.getInstance().writeMainCodeFromFlow(e)),Oe.getInstance().scopeCount--,Oe.getInstance().writeLineToMainFunction("}"),Oe.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Oe.TERMINATION_ID}}]),e}(),Pe=function e(t,n){Object(l.a)(this,e),this.conditions=void 0,this.scopeId=void 0,this.conditions=t,this.scopeId=n},Ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null,i=t.getScopeFlow(),o=i?i.getID():null;return new Fe(I.WHILE,t.getID(),null,null,null,null,new Pe(t.conditionList,o),a)}}]),t}(Se),Me=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Oe.getInstance().flowIncrementalId++).toString()}return Object(s.a)(e,[{key:"createMainCode",value:function(){if(null!=this.content){var e="";Oe.getInstance().addVariable(this.content.variable.name)&&(e="var "),Oe.getInstance().writeLineToMainFunction("".concat(e).concat(this.content.variable.name," = ").concat(this.functionInvocation())),Oe.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"createFunctionCode",value:function(){if(null!=this.content){var e=[];e.push('println("Please enter value for '.concat(this.content.variable.name,'")'));var t="";switch(this.content.variable.type){case y.INT:t="readLine()!!.toInt()";break;case y.STRING:t="readLine()"}e.push("return ".concat(t));var n=new me(this.functionName(),[],this.content.variable.type.toString(),e);Oe.getInstance().writeFunction(n)}}},{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"inputFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Oe.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),De=function e(t){Object(l.a)(this,e),this.variable=void 0,this.variable=t},Ve=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Fe(I.INPUT,t.getID(),null,new De(t.getVariable()),null,null,null,a)}}]),t}(Se),_e=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Oe.getInstance().flowIncrementalId++).toString()}return Object(s.a)(e,[{key:"createMainCode",value:function(){Oe.getInstance().writeLineToMainFunction(this.functionInvocation()),Oe.getInstance().writeMainCodeFromFlow(this.nextFlow())}},{key:"createFunctionCode",value:function(){if(null!=this.content&&void 0!==this.content.variable.name){var e=[],t=[new ge(this.content.variable.name,this.content.variable.type.toString())],n=new me(this.functionName(),t,void 0,e);e.push('println("Value of '.concat(this.content.variable.name," is ${").concat(this.content.variable.name,'}")')),Oe.getInstance().writeFunction(n)}}},{key:"functionInvocation",value:function(){return null!=this.content?"".concat(this.functionName(),"(").concat(this.content.variable.name,")"):""}},{key:"functionName",value:function(){return"outputFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Oe.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Re=function e(t){Object(l.a)(this,e),this.variable=void 0,this.variable=t},Ue=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Fe(I.OUTPUT,t.getID(),null,null,new Re(t.getVariable()),null,null,a)}}]),t}(Se),Be=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Fe(I.ARITHMETIC,t.getID(),null,null,null,new we(t.getVariable(),t.getOperation(),t.getOperator1(),t.getOperator2()),null,a)}}]),t}(Se),ze=function(){function e(t,n,a,i){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(Oe.getInstance().flowIncrementalId++).toString()}return Object(s.a)(e,[{key:"createMainCode",value:function(){if(null!=this.content){var e="";switch(this.content.variable.type){case y.INT:e=this.content.variable.value.toString();break;case y.STRING:e='"'.concat(this.content.variable.value,'"');break;default:console.log("default...")}var t="";Oe.getInstance().addVariable(this.content.variable.name)&&(t="var "),Oe.getInstance().writeLineToMainFunction("".concat(t).concat(this.content.variable.name," = ").concat(e)),Oe.getInstance().writeMainCodeFromFlow(this.nextFlow())}}},{key:"createFunctionCode",value:function(){}},{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"assignmentFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Oe.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),He=function e(t){Object(l.a)(this,e),this.variable=void 0,this.variable=t},Je=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Fe(I.ASSIGNMENT,t.getID(),new He(t.getVariable()),null,null,null,null,a)}}]),t}(Se),We=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generate",value:function(e){var t=e.getNextFlow(),n=t?t.getID():null;return new Fe(I.INITIAL,e.getID(),null,null,null,null,null,n)}}]),t}(Se),Ge=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"create",value:function(e){switch(e.flowType){case I.INITIAL:return(new We).generate(e);case I.IF:return null;case I.WHILE:return(new Ae).generate(e);case I.FOR:return null;case I.INPUT:return(new Ve).generate(e);case I.OUTPUT:return(new Ue).generate(e);case I.ARITHMETIC:return(new Be).generate(e);case I.ASSIGNMENT:return(new Je).generate(e);default:return null}}}]),e}(),qe=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"generate",value:function(e){var t=[];return this.generateFlowModel(e,t),t}},{key:"generateFlowModel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!=e&&(null==n||e.getID()!==n)&&!J.includes(t.map(function(e){return e.id}),e.getID())){switch(e.flowType){case I.WHILE:this.generateFlowModel(e.getScopeFlow(),t,e.getID())}var a=Ge.create(e);a&&t.push(a),this.generateFlowModel(e.getNextFlow(),t,n)}}}]),e}(),Ke=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={bodyData:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onBodyChanged",value:function(e){this.setState({bodyData:e})}},{key:"onSave",value:function(){null!=this.props.onSaveClick&&this.props.onSaveClick(this.state.bodyData)}},{key:"onDismiss",value:function(){null!=this.props.onDismissClick&&this.props.onDismissClick()}},{key:"render",value:function(){return i.a.createElement(A.b,Object.assign({"aria-labelledby":"simple-dialog-title"},this.props),i.a.createElement(A.c,{id:"simple-dialog-title"},"Set Properties"),i.a.createElement("div",{className:U.a.addNodeDialogBody},Le.create(this.props.type,this.props.variables,this.onBodyChanged.bind(this))),i.a.createElement("div",{className:U.a.addNodeDialogButtonContainer},i.a.createElement(D.a,{variant:"contained",color:"secondary",onClick:this.onDismiss.bind(this)},_.dismiss),i.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.onSave.bind(this)},_.save)))}}]),t}(a.Component);Ke.defaultProps={variables:[]};var Ye=function(){function e(t,n,a){Object(l.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.functionCallName=""}return Object(s.a)(e,[{key:"createFunctionCode",value:function(){}},{key:"createMainCode",value:function(){Oe.getInstance().writeMainCodeFromFlow(this.nextFlow())}},{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:Oe.TERMINATION_ID}}]),e}(),Qe=function(){function e(t){Object(l.a)(this,e),this.flowJson=void 0,this.flowJson=t}return Object(s.a)(e,[{key:"generate",value:function(){return Oe.getInstance().reset(),Oe.getInstance().setFlows(this.convertToFlowObjects(JSON.parse(this.flowJson))),Oe.getInstance().flows.forEach(function(e){console.log("Creating function code"),e.createFunctionCode()}),Oe.getInstance().generateMain(),Oe.getInstance().codes.join("\n")}},{key:"convertToFlowObjects",value:function(e){var t=new Map;return e.forEach(function(e){switch(e.type){case I.INITIAL:t.set(Oe.INITIAL_ID,new Ye(Oe.INITIAL_ID,e.nextFlowId,e.type));break;case I.ASSIGNMENT:t.set(e.id,new ze(e.id,e.nextFlowId,e.type,e.assignmentFlowContent));break;case I.INPUT:t.set(e.id,new Me(e.id,e.nextFlowId,e.type,e.inputFlowContent));break;case I.OUTPUT:t.set(e.id,new _e(e.id,e.nextFlowId,e.type,e.outputFlowContent));break;case I.ARITHMETIC:t.set(e.id,new Ne(e.id,e.nextFlowId,e.type,e.arithmeticFlowContent));break;case I.WHILE:t.set(e.id,new xe(e.id,e.nextFlowId,e.type,e.whileFlowContent))}}),t}}]),e}(),Xe=n(13),$e=n(141),Ze=n.n($e),et=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).cb=void 0,a.cb=n,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getNewInstance",value:function(e){return this.cb(e)}}]),t}(W.AbstractPortFactory),tt=n(30),nt=n.n(tt),at=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generatePort",value:function(e){return a.createElement(K,{model:e,key:e.id})}},{key:"render",value:function(){return a.createElement("div",Object.assign({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:nt.a.rectangleNodeTitle},a.createElement("div",{className:nt.a.rectangleNodeName},this.props.node.name)),a.createElement("div",{className:nt.a.rectangleNodePorts},a.createElement("div",{className:nt.a.rectangleNodeIn},J.map(this.props.node.getPortListByLocation(P.LEFT),this.generatePort.bind(this))),a.createElement("div",{className:nt.a.rectangleNodeOut},J.map(this.props.node.getPortListByLocation(P.RIGHT),this.generatePort.bind(this)))))}}]),t}(W.BaseWidget),it=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"base-flow"))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(at,{node:t})}},{key:"getNewInstance",value:function(){return new X}}]),t}(W.AbstractNodeFactory),ot=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).state={},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generatePort",value:function(e){return a.createElement(K,{model:e,key:e.id})}},{key:"render",value:function(){return a.createElement("div",Object.assign({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:nt.a.rectangleNodeTitle},a.createElement("div",{className:nt.a.rectangleNodeName},this.props.node.name)),a.createElement("div",{className:nt.a.rectangleNodeInfo},a.createElement("div",{className:nt.a.rectangleNodeName},this.props.node.info)),a.createElement("div",{className:nt.a.rectangleNodePorts},a.createElement("div",{className:nt.a.rectangleNodeIn},J.map(this.props.node.getPortListByLocation(P.LEFT),this.generatePort.bind(this))),a.createElement("div",{className:nt.a.rectangleNodeOut},J.map(this.props.node.getPortListByLocation(P.RIGHT),this.generatePort.bind(this)))))}}]),t}(W.BaseWidget),rt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,"base-info-flow"))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(ot,{node:t})}},{key:"getNewInstance",value:function(){return new $}}]),t}(W.AbstractNodeFactory),lt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).activeModel=void 0,n.diagramEngine=void 0,n.initialNode=void 0,n.diagramEngine=new W.DiagramEngine,n.diagramEngine.installDefaultFactories(),n.diagramEngine.registerNodeFactory(new it),n.diagramEngine.registerNodeFactory(new rt),n.diagramEngine.registerPortFactory(new et("default",function(){return new Y(new Q(q.IN,P.LEFT),"unknown")})),n.activeModel=new W.DiagramModel,n.diagramEngine.setDiagramModel(n.activeModel),J.forEach(n.activeModel.getNodes(),function(e){e.addListener({selectionChanged:n.props.onSectionChanged.bind(Object(Xe.a)(n)),entityRemoved:n.props.onEntityRemoved.bind(Object(Xe.a)(n))})}),n.initialNode=ve.create(I.INITIAL,void 0),n.initialNode.addListener({selectionChanged:n.props.onSectionChanged.bind(Object(Xe.a)(n)),entityRemoved:n.props.onEntityRemoved.bind(Object(Xe.a)(n))}),n.initialNode.x=.1*window.innerWidth,n.initialNode.y=.4*window.innerHeight,n.diagramEngine.getDiagramModel().addNode(n.initialNode),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"addItem",value:function(e,t,n){var a=ve.create(e,t);a&&(a.x=n.x,a.y=n.y,a.addOnLinkChangedListener(this.props.onDiagramChanged.bind(this)),a.addListener({selectionChanged:this.props.onSectionChanged.bind(this),entityRemoved:this.props.onEntityRemoved.bind(this)}),this.diagramEngine.getDiagramModel().addNode(a),this.props.onItemAdded(a),this.forceUpdate())}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:Ze.a.diagramLayer,onDrop:function(t){return e.onDrop(t)},onDragOver:function(e){return e.preventDefault()}},i.a.createElement(W.DiagramWidget,{maxNumberPointsPerLink:0,allowLooseLinks:!1,className:Ze.a.srdDemoCanvas,diagramEngine:this.diagramEngine}))}},{key:"onDrop",value:function(e){var t=JSON.parse(e.dataTransfer.getData("storm-diagram-node"));if(Object.values(I).includes(t.type)){var n=this.diagramEngine.getRelativeMousePoint(e);this.props.onDrop(t.type,n)}}}]),t}(a.Component),st=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).canvasPanel=Object(a.createRef)();var o=new Qe("[]");return n.state={height:"1px",width:"1px",isModalOpen:!1,flowType:null,flowPosition:{x:0,y:0},generatedCode:o.generate(),variableList:[],properties:i.a.createElement("div",null),selectedItem:""},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onModalSaveClick",value:function(e){this.onModalClose(),console.log(this.state.flowType,e),e&&this.canvasPanel.current&&this.state.flowType&&this.canvasPanel.current.addItem(this.state.flowType,e,this.state.flowPosition)}},{key:"onModalDismissClick",value:function(){this.onModalClose()}},{key:"onModalClose",value:function(){this.setState({isModalOpen:!1,flowType:null,flowPosition:{x:0,y:0}})}},{key:"onDiagramChanged",value:function(){if(this.canvasPanel.current){var e=qe.generate(this.canvasPanel.current.initialNode);console.log(e);var t=new Qe(JSON.stringify(e));this.setState({generatedCode:t.generate()})}}},{key:"onCanvasDrop",value:function(e,t){this.setState({isModalOpen:!0,flowType:e,flowPosition:t})}},{key:"onItemAdded",value:function(e){e instanceof Z&&this.state.variableList.push(e.getVariable())}},{key:"onEntityRemoved",value:function(e){if(e.entity instanceof Z){var t=this.state.variableList.filter(function(t){return t.name!==e.entity.getVariable().name});this.setState({variableList:t})}e.entity.getID()===this.state.selectedItem&&this.setState({properties:i.a.createElement("div",null),selectedItem:""})}},{key:"onSelectionChanged",value:function(e){var t=this;if(this.canvasPanel.current&&e.entity instanceof X){var n=this.canvasPanel.current.diagramEngine.diagramModel.getSelectedItems().filter(function(e){return e instanceof X});n.length>1?this.setState({properties:i.a.createElement("div",null),selectedItem:""}):1===n.length&&e.isSelected?this.setState({properties:i.a.createElement("div",null)},function(){var n=Le.create(e.entity.flowType,t.state.variableList,function(n){e.entity.updateNode(n),t.onDiagramChanged()},e.entity);t.setState({properties:n,selectedItem:e.entity.getID()})}):this.setState({properties:i.a.createElement("div",null),selectedItem:""})}}},{key:"render",value:function(){return i.a.createElement("div",{className:v.a.App},i.a.createElement(Ke,{onSaveClick:this.onModalSaveClick.bind(this),onDismissClick:this.onModalDismissClick.bind(this),onClose:this.onModalClose.bind(this),"aria-labelledby":"simple-dialog-title",variables:this.state.variableList,open:this.state.isModalOpen,type:this.state.flowType}),i.a.createElement(p.a,{orientation:"vertical"},i.a.createElement(p.b,{minSize:250},i.a.createElement(p.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(p.b,{className:"left-pane",flex:.35,minSize:200},i.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(x,null))),i.a.createElement(p.c,null),i.a.createElement(p.b,{className:"left-pane",minSize:200},i.a.createElement(m,null,Object.values(I).filter(function(e){return e!==I.INITIAL}).map(function(e){return i.a.createElement(w,{key:e,model:{type:e},name:e})}))))),i.a.createElement(p.c,null),i.a.createElement(p.b,{className:"middle-pane",flex:.55,minSize:250},i.a.createElement("div",{className:v.a.paneContent},i.a.createElement(lt,{ref:this.canvasPanel,variableList:this.state.variableList,onItemAdded:this.onItemAdded.bind(this),onDiagramChanged:this.onDiagramChanged.bind(this),onDrop:this.onCanvasDrop.bind(this),onSectionChanged:this.onSelectionChanged.bind(this),onEntityRemoved:this.onEntityRemoved.bind(this)}))),i.a.createElement(p.c,null),i.a.createElement(p.b,{minSize:250},i.a.createElement(p.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(p.b,{className:"right-pane",flex:.5,minSize:200},i.a.createElement("div",{className:v.a.propertiesPanel},this.state.properties)),i.a.createElement(p.c,null),i.a.createElement(p.b,{className:"right-pane",minSize:100},i.a.createElement(S,{code:this.state.generatedCode,language:g.KOTLIN}))))))}}]),t}(a.Component),ct=n(499),ut=n(500);n(493),n(494),n(495),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(ct.a,{basename:"/Flowie"},i.a.createElement("div",null,i.a.createElement(ut.a,{path:"/",component:st,exact:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,n){e.exports={tray:"ShapePanel_tray__2ouQ7",trayItem:"ShapePanel_trayItem__3-CqV"}},89:function(e,t,n){e.exports={App:"Editor_App__1iIKS",paneContent:"Editor_paneContent__2v9SR",diagramLayer:"Editor_diagramLayer__jN44s",srdDemoCanvas:"Editor_srdDemoCanvas__2fkyY",propertiesPanel:"Editor_propertiesPanel__1y3fb"}}},[[281,1,2]]]);
//# sourceMappingURL=main.3ba55c99.chunk.js.map