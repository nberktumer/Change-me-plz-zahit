(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,n){e.exports={addNodeDialogButtonContainer:"AddNodeDialog_addNodeDialogButtonContainer__2f1L-",addNodeDialogBody:"AddNodeDialog_addNodeDialogBody__3_BNm"}},146:function(e,t,n){e.exports={diagramLayer:"CanvasPanel_diagramLayer__2SbYc",srdDemoCanvas:"CanvasPanel_srdDemoCanvas__1KVkX"}},286:function(e,t,n){e.exports=n(507)},30:function(e,t,n){e.exports={rectangleNode:"BaseFlow_rectangleNode__36TI3","rectangleNode--selected":"BaseFlow_rectangleNode--selected__26fNg",rectangleNodeTitle:"BaseFlow_rectangleNodeTitle__2EYI0",rectangleNodeInfo:"BaseFlow_rectangleNodeInfo__Kdpfm",fa:"BaseFlow_fa__1Hpvy",rectangleNodeName:"BaseFlow_rectangleNodeName__XgDmU",rectangleNodePorts:"BaseFlow_rectangleNodePorts__6k9wc",rectangleNodeIn:"BaseFlow_rectangleNodeIn__1bGbu",rectangleNodeOut:"BaseFlow_rectangleNodeOut__3sE4V"}},503:function(e,t,n){},507:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(19),r=n.n(o),c=n(2),l=n(3),s=n(6),u=n(4),d=n(7),h=n(75),p=n.n(h),v=n(29),f=n(92),b=n.n(f),m=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:b.a.tray},this.props.children)}}]),t}(a.Component);m.defaultProps={};var g,y,O,I,w,T,k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{borderColor:this.props.color},draggable:!0,onDragStart:function(t){t.dataTransfer.setData("storm-diagram-node",JSON.stringify(e.props.model))},className:b.a.trayItem},this.props.name)}}]),t}(i.a.Component);!function(e){e[e.JAVA=0]="JAVA",e[e.KOTLIN=1]="KOTLIN"}(g||(g={})),function(e){e.INT="Int",e.STRING="String",e.BOOLEAN="Boolean",e.DOUBLE="Double"}(y||(y={})),function(e){e.ADDITION="Addition",e.SUBTRACTION="Subtraction",e.MULTIPLICATION="Multiplication",e.DIVISION="Division",e.ROOT="Root"}(O||(O={})),function(e){e.INITIAL="Initial",e.IF="If",e.WHILE="While",e.FOR="For",e.INPUT="Input",e.OUTPUT="Output",e.ARITHMETIC="Arithmetic",e.ASSIGNMENT="Assignment",e.RANDOM="Random"}(I||(I={})),function(e){e.EQUALS="Equals",e.NOT_EQUALS="NotEquals",e.GREATER_THAN="GreaterThan",e.GREATER_THAN_OR_EQUALS="GreaterThanOrEquals",e.LESS_THAN="LessThan",e.LESS_THAN_OR_EQUALS="LessThanOrEquals"}(w||(w={})),function(e){e.AND="&&",e.OR="||"}(T||(T={}));var N={PROGRAMMING_LANGUAGE:g.KOTLIN},E={IF:"rgb(0, 192, 255)",WHILE:"rgb(192, 0, 255)",VARIABLE:"rgb(255, 192, 0)",ARITHMETIC:"rgb(192, 255, 0)",FOR:"rgb(255, 0, 192)",INITIAL:"rgb(0, 255, 192)",RANDOM:"rgb(192, 255, 192)"},C=30,j=n(209),L=n.n(j),S=n(216),F=(n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(S.a,{handleWidth:!0,handleHeight:!0,refreshRate:300,refreshMode:"throttle",render:function(t){var n=t.width,a=t.height;return i.a.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(L.a,{mode:"javascript",theme:"tomorrow_night",name:"blah2",fontSize:14,height:a-40+"px",width:n+"px",wrapEnabled:!0,value:e.props.code,setOptions:{dragEnabled:!1,readOnly:!0,highlightActiveLine:!1,useWorker:!1}}))}})}}]),t}(a.Component));F.defaultProps={language:N.PROGRAMMING_LANGUAGE,code:void 0};var x=n(42),D=(n(368),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{color:"white"}},i.a.createElement(x.b,{selectable:!1,defaultExpandAll:!1,defaultExpandedKeys:["p1"]},i.a.createElement(x.a,{title:"parent 1",key:"p1"},i.a.createElement(x.a,{key:"p10",title:"leaf"}),i.a.createElement(x.a,{title:"parent 1-1",key:"p11"},i.a.createElement(x.a,{title:"parent 2-1",key:"p21"},i.a.createElement(x.a,{title:"leaf"}),i.a.createElement(x.a,{title:"leaf"})),i.a.createElement(x.a,{key:"p22",title:"leaf"})))))}}]),t}(a.Component));D.defaultProps={};var A,M=n(8),V=n(73),P=n.n(V),R=n(213),_=new(n.n(R).a)({en:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",constant:"Constant",constantValue:"Constant Value",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output",file:"File",save:"Save",load:"Load",new:"New",fileReadError:"Could not read file",variableExists:"Variable name already exists!",variableFirstCharacterError:"First character of the variable name must be an alphabetic character!",variableContainsInvalidCharacters:"Variable name contains invalid characters!",conditionType:"Condition Type",invalid:"Invalid",nextFlow:"Next Flow",random:"Random",minValue:"Minimum Value",maxValue:"Maximum Value"},tr:{in:"In",out:"Out",loop:"Loop",scope:"Scope",true:"True",false:"False",ifStatement:"If Statement",variable:"Variable",constant:"Constant",constantValue:"Constant Value",assignment:"Assignment",arithmetic:"Arithmetic",while:"While",switch:"Switch",dismiss:"Dismiss",variableName:"Variable Name",dataType:"Data Type",variableType:"Variable Type",value:"Value",firstVariable:"First Variable",secondVariable:"Second Variable",select:"Select",operation:"Operation",recurse:"Recurse",initialFlow:"Initial Flow",firstOperator:"First Operator",secondOperator:"Second Operator",input:"Input",output:"Output",file:"File",save:"Save",load:"Load",new:"New",fileReadError:"Could not read file",variableExists:"Variable name already exists!",variableFirstCharacterError:"First character of the variable name must be an alphabetic character!",variableContainsInvalidCharacters:"Variable name contains invalid characters!",conditionType:"Condition Type",invalid:"Invalid",nextFlow:"Next Flow",random:"Random",minValue:"Minimum Value",maxValue:"Maximum Value"}}),U=n(144),B=n.n(U),H=n(15),G=n(25),J=n(14),z=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"UID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),e}(),W=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"save",value:function(e,t){var n=new Blob([t],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var a=window.document.createElement("a");a.href=window.URL.createObjectURL(n),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},{key:"load",value:function(e,t){var n=window.document.createElement("input");n.type="file",n.accept=".flwie",n.onchange=function(n){if(n.target.files){var a=n.target.files[0];a||t(_.fileReadError);var i=new FileReader;i.onerror=function(){t(_.fileReadError)},i.onload=function(t){var n=t.target.result;e(n)},i.readAsText(a)}else t(_.fileReadError)},n.click()}}]),e}(),Q=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"arithmeticOperation",value:function(e){switch(e){case O.ADDITION:return"+";case O.SUBTRACTION:return"-";case O.MULTIPLICATION:return"*";case O.DIVISION:return"/";case O.ROOT:return"root";default:return"UNKNOWN"}}},{key:"booleanOperation",value:function(e){switch(e){case w.GREATER_THAN:return">";case w.GREATER_THAN_OR_EQUALS:return">=";case w.LESS_THAN:return"<";case w.LESS_THAN_OR_EQUALS:return"<=";case w.EQUALS:return"==";case w.NOT_EQUALS:return"!=";default:return"UNKNOWN"}}}]),e}(),K=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"validateVariableName",value:function(e,t){return 0===e.length?"":t.find(function(t){return t.name===e})?_.variableExists:e.charAt(0).match(/[a-z]/i)?e.match(/^(?!-)(?!.*-)[A-Za-z0-9-_]+$/)?"":_.variableContainsInvalidCharacters:_.variableFirstCharacterError}}]),e}();!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(A||(A={}));var q,X=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"srd-default-port",e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getClassName",value:function(){return Object(H.a)(Object(u.a)(t.prototype),"getClassName",this).call(this)+(this.props.model.portType.location===A.LEFT?this.bem("--in"):this.bem("--out"))}},{key:"render",value:function(){var e=a.createElement(G.PortWidget,{node:this.props.model.getParent(),name:this.props.model.name}),t=a.createElement("div",{className:"name"},this.props.model.label);return a.createElement("div",this.getProps(),this.props.model.portType.location===A.LEFT?e:t,this.props.model.portType.location===A.LEFT?t:e)}}]),t}(G.BaseWidget),Y=function(e){function t(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,n,"default",o))).portType=void 0,a.label=void 0,a.onLinkChangedListener=void 0,a.targetPortChangedListener=function(e){var n=e.entity;null!=!e.port&&e.port instanceof t&&null!=n.sourcePort&&n.sourcePort.canLinkToPort(e.port)&&e.port.onLinkChangedListener()},a.entityRemovedListener=function(e){var t=e.entity;null!=t.getTargetPort()&&t.getTargetPort().onLinkChangedListener()},a.portType=e,a.label=i||n,a.onLinkChangedListener=function(){},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.portType=e.portType,this.label=e.label}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{portType:this.portType,label:this.label})}},{key:"link",value:function(e){var t=this.createLinkModel();return t.setSourcePort(this),t.setTargetPort(e),t}},{key:"getMaximumLinks",value:function(){return this.maximumLinks?this.maximumLinks:1/0}},{key:"canLinkToPort",value:function(e){return!(Object.keys(e.getLinks()).length>e.getMaximumLinks()||Object.keys(this.getLinks()).length>this.getMaximumLinks())&&(e.getNode()!==this.getNode()&&(this.portType.type===q.OUT&&e.portType.type===q.IN||this.portType.type===q.OUT&&e.portType.type===q.LOOP||this.portType.type===q.SCOPE&&e.portType.type===q.IN||this.portType.type===q.TRUE_SCOPE&&e.portType.type===q.IN||this.portType.type===q.FALSE_SCOPE&&e.portType.type===q.IN))}},{key:"addOnLinkChangedListener",value:function(e){var t=this;this.onLinkChangedListener=e,J.forEach(this.getLinks(),function(e){e.addListener({targetPortChanged:t.targetPortChangedListener,entityRemoved:t.entityRemovedListener})})}},{key:"createLinkModel",value:function(){var e=new G.DefaultLinkModel;return e.addListener({targetPortChanged:this.targetPortChangedListener,entityRemoved:this.entityRemovedListener}),e}}]),t}(G.PortModel);!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT",e[e.LOOP=2]="LOOP",e[e.SCOPE=3]="SCOPE",e[e.TRUE_SCOPE=4]="TRUE_SCOPE",e[e.FALSE_SCOPE=5]="FALSE_SCOPE"}(q||(q={}));var $=function e(t,n){Object(c.a)(this,e),this.type=void 0,this.location=void 0,this.type=t,this.location=n},Z=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base-flow";return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,o))).name=void 0,n.color=void 0,n.onLinkChangedListener=void 0,n.flowType=void 0,n.name=a,n.color=i,n.onLinkChangedListener=function(){},n.flowType=e,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateNode",value:function(e){Ie.update(this,e)}},{key:"addOnLinkChangedListener",value:function(e){this.onLinkChangedListener=e,J.map(this.ports,function(t){t.addOnLinkChangedListener(e)})}},{key:"addInPort",value:function(e){var t=new Y(new $(q.IN,A.LEFT),z.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addOutPort",value:function(e){var t=new Y(new $(q.OUT,A.RIGHT),z.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addLoopPort",value:function(e){var t=new Y(new $(q.LOOP,A.LEFT),z.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addScopePort",value:function(e){var t=new Y(new $(q.SCOPE,A.RIGHT),z.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addTrueScopePort",value:function(e){var t=new Y(new $(q.TRUE_SCOPE,A.RIGHT),z.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"addFalseScopePort",value:function(e){var t=new Y(new $(q.FALSE_SCOPE,A.RIGHT),z.UID(),e);return t.addOnLinkChangedListener(this.onLinkChangedListener),this.addPort(t)}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.flowType=e.flowType}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{flowType:this.flowType})}},{key:"getPortListByType",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.filter(this.ports,function(e){return J.includes(t,e.portType.type)})}},{key:"getPortListByLocation",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.filter(this.ports,function(e){return J.includes(t,e.portType.location)})}},{key:"getNextFlow",value:function(){var e=Object.values(this.getPortListByType(q.OUT)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(G.NodeModel),ee=function e(){Object(c.a)(this,e)},te=function e(t,n,a){Object(c.a)(this,e),this.name=void 0,this.type=void 0,this.value=void 0,this.name=t,this.type=n,this.value=a},ne=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)";return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a,i,"base-info-flow"))).info=void 0,n.info="",n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.info=e.info}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{info:this.info})}}]),t}(Z),ae=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Untitled",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb(0,192,255)";return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a,i))).variable=void 0,n.variable=new te("",y.BOOLEAN,""),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable.name&&e.name&&e.name!==this.variable.name&&this.updateNextFlowVariable(this.getNextFlow(),this.variable,e,[]),this.variable=e}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}},{key:"updateNextFlowVariable",value:function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e&&!J.includes(a.map(function(e){return e.id}),e.getID())){switch(e.flowType){case I.ARITHMETIC:var o=e;o.getVariable().name===t.name&&o.setVariable(n),o.getOperator1().name===t.name&&o.setOperator1(n),o.getOperator2().name===t.name&&o.setOperator2(n);break;case I.OUTPUT:var r=e;r.getVariable().name===t.name&&r.setVariable(n);break;case I.WHILE:e.updateVariableInConditions(t,n),this.updateNextFlowVariable(e.getScopeFlow(),t,n,a,e.getID());break;case I.IF:e.updateVariableInConditions(t,n),this.updateNextFlowVariable(e.getTrueScopeFlow(),t,n,a,e.getID()),this.updateNextFlowVariable(e.getFalseScopeFlow(),t,n,a,e.getID())}this.updateNextFlowVariable(e.getNextFlow(),t,n,a,i)}}}]),t}(ne),ie=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,I.INPUT,_.input,E.IF))).setVariable(e),a||(n.addInPort(_.in).setMaximumLinks(1),n.addOutPort(_.out).setMaximumLinks(1)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setVariable",value:function(e){Object(H.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.updateInfo()}},{key:"updateInfo",value:function(){this.info=this.getVariable().name}}]),t}(ae),oe=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variableName||""===e.variableType)return null;var n=new te(e.variableName,e.variableType,null);return void 0!==t?(t.setVariable(n),t):new ie(n)}},{key:"load",value:function(e){return new ie(e.variable,!0)}}]),t}(ee),re=function e(t,n,a,i){Object(c.a)(this,e),this.id=z.UID(),this.variableType=void 0,this.first=void 0,this.second=void 0,this.operation=void 0,this.variableType=t,this.first=n,this.second=a,this.operation=i},ce=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this,I.WHILE,_.while,E.WHILE))).conditionList=[],e.conditionType=T.AND,e.updateInfo=function(){e.info=e.conditionList.map(function(e){return"".concat(e.first.name," ").concat(Q.booleanOperation(e.operation)," ").concat(e.second?e.second.name?e.second.name:e.second.value:"")}).join(" ".concat(e.conditionType," "))},e.updateVariableInConditions=function(t,n){e.conditionList.forEach(function(e){e.first.name===t.name&&(e.first=n),e.second&&e.second.name&&e.second.name===t.name&&(e.second=n)}),e.updateInfo()},n||(e.addInPort(_.in).setMaximumLinks(1),e.addOutPort(_.out).setMaximumLinks(1),e.addScopePort(_.scope).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setConditionType",value:function(e){this.conditionType=e,this.updateInfo()}},{key:"getConditionType",value:function(){return this.conditionType}},{key:"addCondition",value:function(e){this.conditionList.push(e),this.updateInfo()}},{key:"removeAllConditions",value:function(){this.conditionList=[],this.updateInfo()}},{key:"removeCondition",value:function(e){this.conditionList=this.conditionList.filter(function(t){return t!==e}),this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.conditionList=e.conditionList,this.conditionType=e.conditionType}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{conditionList:this.conditionList,conditionType:this.conditionType})}},{key:"getScopeFlow",value:function(){var e=Object.values(this.getPortListByType(q.SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(ne),le=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){if(!e||!e.conditions||!e.conditionType)return null;var n=t||new ce;n.removeAllConditions(),n.setConditionType(e.conditionType);var a=!0,i=!1,o=void 0;try{for(var r,c=e.conditions[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var l=r.value;if(l.variableType&&l.first&&l.second&&l.operation){var s=new re(l.variableType,JSON.parse(l.first),JSON.parse(l.second),l.operation);if(!s.second||!s.second.name&&!s.second.value)return null;n.addCondition(s)}}}catch(u){i=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n}},{key:"load",value:function(e){return new ce(!0)}}]),t}(ee),se=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,I.OUTPUT,_.output,E.IF))).variable=void 0,n.variable=e,n.setVariable(e),a||(n.addInPort(_.in).setMaximumLinks(1),n.addOutPort(_.out).setMaximumLinks(1)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e,this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable})}},{key:"updateInfo",value:function(){this.info=this.getVariable().name?this.getVariable().name:this.getVariable().value}}]),t}(ne),ue=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){return e&&""!==e.variable?void 0!==t?(t.setVariable(JSON.parse(e.variable)),t):new se(JSON.parse(e.variable)):null}},{key:"load",value:function(e){return new se(e.variable,!0)}}]),t}(ee),de=function(e){function t(e,n,a,i){var o,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(c.a)(this,t),(o=Object(s.a)(this,Object(u.a)(t).call(this,I.ARITHMETIC,_.arithmetic,E.ARITHMETIC))).variable=void 0,o.operation=void 0,o.operator1=void 0,o.operator2=void 0,o.updateInfo=function(){o.info="".concat(o.getVariable().name," = ").concat(o.getOperator1().name," ").concat(Q.arithmeticOperation(o.getOperation())," \n        ").concat(o.getOperator2().name?o.getOperator2().name:o.getOperator2().value)},r||(o.addInPort(_.in).setMaximumLinks(1),o.addOutPort(_.out).setMaximumLinks(1)),o.variable=e,o.operation=n,o.operator1=a,o.operator2=i,o.setVariable(e),o.setOperation(n),o.setOperator1(a),o.setOperator2(i),o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getVariable",value:function(){return this.variable}},{key:"setVariable",value:function(e){this.variable=e,this.updateInfo()}},{key:"getOperation",value:function(){return this.operation}},{key:"setOperation",value:function(e){this.operation=e,this.updateInfo()}},{key:"getOperator1",value:function(){return this.operator1}},{key:"setOperator1",value:function(e){this.operator1=e,this.updateInfo()}},{key:"getOperator2",value:function(){return this.operator2}},{key:"setOperator2",value:function(e){this.operator2=e,this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.variable=e.variable,this.operation=e.operation,this.operator1=e.operator1,this.operator2=e.operator2}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{variable:this.variable,operation:this.operation,operator1:this.operator1,operator2:this.operator2})}}]),t}(ne),he=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variable||""===e.operation||""===e.operator1||""===e.operator2)return null;var n=JSON.parse(e.operator1),a=JSON.parse(e.operator2);return void 0!==t?(t.setVariable(JSON.parse(e.variable)),t.setOperation(e.operation),t.setOperator1(n),t.setOperator2(a),t):new de(JSON.parse(e.variable),e.operation,n,a)}},{key:"load",value:function(e){return new de(e.variable,e.operation,e.operator1,e.operator2,!0)}}]),t}(ee),pe=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,I.ASSIGNMENT,_.variable+" ("+e.type+")",E.VARIABLE))).setVariable(e),a||(n.addInPort(_.in).setMaximumLinks(1),n.addOutPort(_.out).setMaximumLinks(1)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setVariable",value:function(e){Object(H.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.updateInfo()}},{key:"updateInfo",value:function(){this.info="".concat(this.getVariable().name," = ").concat(this.getVariable().value)}}]),t}(ae),ve=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){if(!e||""===e.variableName||""===e.variableType||""===e.value)return null;var n=new te(e.variableName,e.variableType,e.value);return t?(t.setVariable(n),t):new pe(n)}},{key:"load",value:function(e){return new pe(e.variable,!0)}}]),t}(ee),fe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(c.a)(this,t),e=Object(s.a)(this,Object(u.a)(t).call(this,I.INITIAL,_.initialFlow,E.INITIAL)),n||(e.addLoopPort(_.recurse).setMaximumLinks(1/0),e.addOutPort(_.out).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"remove",value:function(){}}]),t}(Z),be=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){return new fe}},{key:"load",value:function(e){return new fe(!0)}}]),t}(ee),me=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this,I.IF,_.ifStatement,E.IF))).conditionList=[],e.conditionType=T.AND,e.updateInfo=function(){e.info=e.conditionList.map(function(e){return"".concat(e.first.name," ").concat(Q.booleanOperation(e.operation)," ").concat(e.second?e.second.name?e.second.name:e.second.value:"")}).join(" ".concat(e.conditionType," "))},e.updateVariableInConditions=function(t,n){e.conditionList.forEach(function(e){e.first.name===t.name&&(e.first=n),e.second&&e.second.name&&e.second.name===t.name&&(e.second=n)}),e.updateInfo()},n||(e.addInPort(_.in).setMaximumLinks(1/0),e.addOutPort(_.nextFlow).setMaximumLinks(1),e.addTrueScopePort(_.true).setMaximumLinks(1),e.addFalseScopePort(_.false).setMaximumLinks(1)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setConditionType",value:function(e){this.conditionType=e,this.updateInfo()}},{key:"getConditionType",value:function(){return this.conditionType}},{key:"addCondition",value:function(e){this.conditionList.push(e),this.updateInfo()}},{key:"removeAllConditions",value:function(){this.conditionList=[],this.updateInfo()}},{key:"removeCondition",value:function(e){this.conditionList=this.conditionList.filter(function(t){return t!==e}),this.updateInfo()}},{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.conditionList=e.conditionList,this.conditionType=e.conditionType}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{conditionList:this.conditionList,conditionType:this.conditionType})}},{key:"getTrueScopeFlow",value:function(){var e=Object.values(this.getPortListByType(q.TRUE_SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}},{key:"getFalseScopeFlow",value:function(){var e=Object.values(this.getPortListByType(q.FALSE_SCOPE)[0].getLinks());return e.length>0?e[0].getTargetPort().getNode():null}}]),t}(ne),ge=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){if(!e||!e.conditions||!e.conditionType)return null;var n=t||new me;n.removeAllConditions(),n.setConditionType(e.conditionType);var a=!0,i=!1,o=void 0;try{for(var r,c=e.conditions[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var l=r.value;if(l.variableType&&l.first&&l.second&&l.operation){var s=new re(l.variableType,JSON.parse(l.first),JSON.parse(l.second),l.operation);if(!s.second||!s.second.name&&!s.second.value)return null;n.addCondition(s)}}}catch(u){i=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n}},{key:"load",value:function(e){return new me(!0)}}]),t}(ee),ye=function(e){function t(e,n,a){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(c.a)(this,t),(i=Object(s.a)(this,Object(u.a)(t).call(this,I.RANDOM,_.variable+" ("+_.random+")",E.RANDOM))).minValue=0,i.maxValue=1,i.setVariable(e),i.setMinValue(n),i.setMaxValue(a),o||(i.addInPort(_.in).setMaximumLinks(1),i.addOutPort(_.out).setMaximumLinks(1)),i}return Object(d.a)(t,e),Object(l.a)(t,[{key:"deSerialize",value:function(e,n){Object(H.a)(Object(u.a)(t.prototype),"deSerialize",this).call(this,e,n),this.minValue=e.minValue,this.maxValue=e.maxValue}},{key:"serialize",value:function(){return J.merge(Object(H.a)(Object(u.a)(t.prototype),"serialize",this).call(this),{minValue:this.minValue,maxValue:this.maxValue})}},{key:"setVariable",value:function(e){Object(H.a)(Object(u.a)(t.prototype),"setVariable",this).call(this,e),this.updateInfo()}},{key:"setMinValue",value:function(e){e>this.maxValue||(this.minValue=e,this.updateInfo())}},{key:"setMaxValue",value:function(e){this.maxValue=e,this.updateInfo()}},{key:"updateInfo",value:function(){this.info="".concat(this.minValue," <= ").concat(this.getVariable().name," <= ").concat(this.maxValue)}}]),t}(ae),Oe=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"create",value:function(e,t){if(console.log(e),!e||""===e.variableName||""===e.minValue||""===e.maxValue||e.minValue>e.maxValue)return null;console.log(e);var n=new te(e.variableName,y.DOUBLE,void 0);return t?(t.setVariable(n),t.setMinValue(e.minValue),t.setMaxValue(e.maxValue),t):new ye(n,e.minValue,e.maxValue)}},{key:"load",value:function(e){return new ye(e.variable,0,1,!0)}}]),t}(ee),Ie=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"create",value:function(e,t){switch(e){case I.INITIAL:return(new be).create(t);case I.IF:return(new ge).create(t);case I.WHILE:return(new le).create(t);case I.FOR:return null;case I.INPUT:return(new oe).create(t);case I.OUTPUT:return(new ue).create(t);case I.ARITHMETIC:return(new he).create(t);case I.ASSIGNMENT:return(new ve).create(t);case I.RANDOM:return(new Oe).create(t);default:return null}}},{key:"load",value:function(e){switch(e.flowType){case I.INITIAL:return(new be).load(e);case I.IF:return(new ge).load(e);case I.WHILE:return(new le).load(e);case I.INPUT:return(new oe).load(e);case I.OUTPUT:return(new ue).load(e);case I.ARITHMETIC:return(new he).load(e);case I.ASSIGNMENT:return(new ve).load(e);case I.RANDOM:return(new Oe).load(e);default:return new Z}}},{key:"update",value:function(e,t){switch(e.flowType){case I.INITIAL:return(new be).create(t,e);case I.IF:return(new ge).create(t,e);case I.WHILE:return(new le).create(t,e);case I.FOR:return null;case I.INPUT:return(new oe).create(t,e);case I.OUTPUT:return(new ue).create(t,e);case I.ARITHMETIC:return(new he).create(t,e);case I.ASSIGNMENT:return(new ve).create(t,e);case I.RANDOM:case I.RANDOM:return(new Oe).create(t,e);default:return null}}}]),e}(),we=n(95),Te=n.n(we),ke=n(94),Ne=n.n(ke),Ee=n(64),Ce=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleStringChange=function(e,t){return function(a){var i=a.target.value;n.setState(Object(Ee.a)({},e,i),function(){n.props.onDataChanged(n.state),t&&t(i)})}},n.handleBooleanChange=function(e,t){return function(a){var i=a.target.checked;n.setState(Object(Ee.a)({},e,i),function(){n.props.onDataChanged(n.state),t&&t(i)})}},n}return Object(d.a)(t,e),t}(a.Component),je=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleStringChange=function(e,t){return function(a){n.setState(Object(Ee.a)({},e,a.target.value),function(){t?t(a.target.value,n.props.onDataChanged):n.props.onDataChanged(n.state)})}},n.handleBooleanChange=function(e,t){return function(a){var i=a.target.checked;n.setState(Object(Ee.a)({},e,i),function(){t?t(i,n.props.onDataChanged):n.props.onDataChanged(n.state)})}},n.renderStringInput=function(){return i.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",alignContent:"center",textAlign:"center",flex:1}},i.a.createElement(M.l,{style:{flex:1},id:"string-value-input",label:n.props.label,value:n.state.isNull?"NULL":n.state.value,type:"text",onChange:n.handleStringChange("value"),margin:"normal",disabled:n.state.isNull}))},n.renderIntegerInput=function(){return i.a.createElement(M.l,{style:{display:"flex",flex:1},id:"integer-value-input",label:n.props.label,value:n.state.value,type:"number",onChange:n.handleStringChange("value"),margin:"normal"})},n.renderBooleanInput=function(){return i.a.createElement(M.l,{style:{display:"flex",flex:1},id:"boolean-value-input",select:!0,label:n.props.label,value:n.state.value,onChange:n.handleStringChange("value"),margin:"normal"},i.a.createElement(M.j,{key:"true",value:"true"},"True"),i.a.createElement(M.j,{key:"false",value:"false"},"False"))},n.state={value:n.props.value,isNull:"NULL"===n.props.value},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.props.hide)return i.a.createElement("div",null);switch(this.props.variableType){case y.STRING:return this.renderStringInput();case y.INT:case y.DOUBLE:return this.renderIntegerInput();case y.BOOLEAN:return this.renderBooleanInput();default:return i.a.createElement("div",null)}}}]),t}(a.Component);je.defaultProps={value:"",hide:!1,label:_.value};var Le=function(e){function t(e){var n;if(Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderConditionText=function(e){if(!e||!e.first||!e.second||!e.operation)return _.invalid;var t=JSON.parse(e.first),n=JSON.parse(e.second);return n?"".concat(t.name," ").concat(Q.booleanOperation(e.operation)," ").concat(n.name?n.name:n.value):t.name},void 0!==e.node){var a=e.node;n.state={conditions:a.conditionList.map(function(e){return{variableType:e.variableType,first:JSON.stringify(e.first),second:JSON.stringify(e.second),operation:e.operation,op2initialValue:e.second?e.second.value:"",isOp2Constant:e.second&&void 0===e.second.name}}),conditionType:a.conditionType,expanded:""}}else n.state={conditions:[{variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}],conditionType:T.AND,expanded:""};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(M.k,{id:"paper",style:{display:"flex",flex:1,padding:24,marginBottom:8}},i.a.createElement(M.l,{style:{display:"flex",flex:1,margin:0,color:"black"},id:"condition-type-selector",select:!0,label:_.conditionType,value:this.state.conditionType,onChange:this.handleStringChange("conditionType"),margin:"normal"},Object.keys(T).map(function(e){return i.a.createElement(M.j,{key:e,value:T[e]},T[e])}))),this.state.conditions.map(function(t,n){return i.a.createElement(M.e,{id:"paper",key:n,expanded:e.state.expanded===n,onChange:function(t,a){e.setState({expanded:a?n:-1})}},i.a.createElement(M.g,{expandIcon:0===n?i.a.createElement(Ne.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.conditions.push({variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}),e.props.onDataChanged(e.state),e.forceUpdate()}}):i.a.createElement(Te.a,{onClick:function(n){n.stopPropagation(),n.preventDefault(),e.state.conditions.splice(e.state.conditions.indexOf(t),1),e.props.onDataChanged(e.state),e.forceUpdate()}})},i.a.createElement(M.n,null,e.renderConditionText(t))),i.a.createElement(M.f,{style:{display:"flex",flexDirection:"column",flex:1}},i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.variableType,value:e.state.conditions[n].variableType,onChange:function(t){e.state.conditions[n].variableType=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(M.j,{key:e,value:y[e]},y[e])})),i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.firstVariable,value:e.state.conditions[n].first,onChange:function(t){e.state.conditions[n].first=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},e.props.variables.filter(function(e){return e.type===t.variableType}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(M.l,{id:"data-type-selector",select:!0,style:{flex:1,display:t.isOp2Constant?"none":"flex"},label:_.secondVariable,value:e.state.conditions[n].second,onChange:function(t){e.state.conditions[n].second=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},e.props.variables.filter(function(e){return e.type===t.variableType}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(je,{variableType:e.state.conditions[n].variableType,onDataChanged:function(a){e.state.conditions[n].second=JSON.stringify(new te(void 0,t.variableType,a.value)),e.props.onDataChanged(e.state),e.forceUpdate()},value:t.op2initialValue,hide:!t.isOp2Constant}),i.a.createElement(M.h,{control:i.a.createElement(M.b,{checked:e.state.conditions[n].isOp2Constant,onChange:function(a){e.state.conditions[n].isOp2Constant=a.target.checked,e.state.conditions[n].second=JSON.stringify(new te(void 0,t.variableType,t.op2initialValue)),e.props.onDataChanged(e.state),e.forceUpdate()},value:"true",color:"primary"}),label:t.isOp2Constant?_.constant:_.variable})),i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.operation,value:e.state.conditions[n].operation,onChange:function(t){e.state.conditions[n].operation=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(w).map(function(e){return i.a.createElement(M.j,{key:e,value:w[e]},w[e])}))))}))}}]),t}(Ce),Se=function(e){function t(e){var n;if(Object(c.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variable:JSON.stringify(a.getVariable()),operation:a.getOperation(),operator1:JSON.stringify(a.getOperator1()),operator2:JSON.stringify(a.getOperator2()),isOp2Constant:void 0===a.getOperator2().name,op2initialValue:a.getOperator2().value}}else n.state={variable:"",operation:"",operator1:"",operator2:"",isOp2Constant:!1,op2initialValue:""};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.variable,value:this.state.variable,onChange:this.handleStringChange("variable"),margin:"normal"},this.props.variables.filter(function(e){return e.type===y.INT||e.type===y.DOUBLE}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.operation,value:this.state.operation,onChange:this.handleStringChange("operation"),margin:"normal"},Object.keys(O).map(function(e){return i.a.createElement(M.j,{key:e,value:O[e]},O[e])})),i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.firstOperator,value:this.state.operator1,onChange:this.handleStringChange("operator1"),margin:"normal"},this.props.variables.filter(function(e){return e.type===y.INT||e.type===y.DOUBLE}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(new te(e.name,e.type,e.value))},e.name)})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(M.l,{id:"data-type-selector",select:!0,style:{flex:1,display:this.state.isOp2Constant?"none":"flex"},label:_.secondOperator,value:this.state.operator2,onChange:this.handleStringChange("operator2"),margin:"normal"},this.props.variables.filter(function(e){return e.type===y.INT||e.type===y.DOUBLE}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(new te(e.name,e.type,e.value))},e.name)})),i.a.createElement(je,{variableType:y.INT,onDataChanged:function(t){e.setState({operator2:JSON.stringify(new te(void 0,y.INT,t.value))},function(){e.props.onDataChanged(e.state)})},value:this.state.op2initialValue,hide:!this.state.isOp2Constant}),i.a.createElement(M.h,{control:i.a.createElement(M.b,{checked:this.state.isOp2Constant,onChange:this.handleBooleanChange("isOp2Constant"),value:"true",color:"primary"}),label:this.state.isOp2Constant?_.constant:_.variable})))}}]),t}(Ce),Fe=function(e){function t(e){var n;if(Object(c.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,variableType:a.getVariable().type,value:a.getVariable().value,isNull:"NULL"===a.getVariable().value,variable:a.getVariable()}}else n.state={variableName:"",variableType:"",value:"",isNull:!1,variable:null};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(M.l,{id:"variable-name-input",label:_.variableName,disabled:this.props.readonlyType,error:"variableName"===this.state.errorField,value:this.state.variableName,inputProps:{maxLength:C},onChange:this.handleStringChange("variableName",function(t){var n=K.validateVariableName(t,e.props.variables);e.setState({errorMessage:n,errorField:n?"variableName":""},function(){e.props.onDataChanged(e.state)})}),margin:"normal"}),i.a.createElement(M.l,{id:"data-type-selector",select:!0,disabled:this.props.readonlyType,label:_.dataType,value:this.state.variableType,onChange:this.handleStringChange("variableType",function(){e.setState({value:""})}),margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(M.j,{key:e,value:y[e]},y[e])})),i.a.createElement(je,{variableType:this.state.variableType,onDataChanged:function(t){e.setState({value:t.value,isNull:t.isNull},function(){e.props.onDataChanged(e.state)})},value:this.state.value,hide:""===this.state.variableType}))}}]),t}(Ce);Fe.defaultProps={readonlyType:!1};var xe=function(e){function t(e){var n;if(Object(c.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,variableType:a.getVariable().type,variable:a.getVariable()}}else n.state={variableName:"",variableType:"",variable:null};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(M.l,{id:"variable-name-input",label:_.variableName,disabled:this.props.readonlyType,error:"variableName"===this.state.errorField,value:this.state.variableName,inputProps:{maxLength:C},onChange:this.handleStringChange("variableName",function(t){var n=K.validateVariableName(t,e.props.variables);e.setState({errorMessage:n,errorField:n?"variableName":""},function(){e.props.onDataChanged(e.state)})}),margin:"normal"}),i.a.createElement(M.l,{id:"data-type-selector",select:!0,disabled:this.props.readonlyType,label:_.dataType,value:this.state.variableType,onChange:this.handleStringChange("variableType"),margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(M.j,{key:e,value:y[e]},y[e])})))}}]),t}(Ce);xe.defaultProps={readonlyType:!1};var De=function(e){function t(e){var n;if(Object(c.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variable:JSON.stringify(a.getVariable()),isConstant:void 0===a.getVariable().name,variableType:a.getVariable().type,initialValue:a.getVariable().value}}else n.state={variable:"",isConstant:!1,variableType:"",initialValue:""};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},i.a.createElement(M.l,{id:"variable-selector",select:!0,style:{flex:1,display:this.state.isConstant?"none":"flex"},label:_.variable,value:this.state.variable,onChange:this.handleStringChange("variable"),margin:"normal"},this.props.variables.map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(je,{variableType:y.STRING,onDataChanged:function(t){e.setState({variable:JSON.stringify(new te(void 0,y.STRING,t.value))},function(){e.props.onDataChanged(e.state)})},value:this.state.initialValue,hide:!this.state.isConstant}),i.a.createElement(M.h,{control:i.a.createElement(M.b,{checked:this.state.isConstant,onChange:this.handleBooleanChange("isConstant"),value:"true",color:"primary"}),label:this.state.isConstant?_.constant:_.variable})))}}]),t}(Ce),Ae=function(e){function t(e){var n;if(Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderConditionText=function(e){if(!e||!e.first||!e.second||!e.operation)return _.invalid;var t=JSON.parse(e.first),n=JSON.parse(e.second);return n?"".concat(t.name," ").concat(Q.booleanOperation(e.operation)," ").concat(n.name?n.name:n.value):t.name},void 0!==e.node){var a=e.node;n.state={conditions:a.conditionList.map(function(e){return{variableType:e.variableType,first:JSON.stringify(e.first),second:JSON.stringify(e.second),operation:e.operation,op2initialValue:e.second?e.second.value:"",isOp2Constant:e.second&&void 0===e.second.name}}),conditionType:a.conditionType,expanded:""}}else n.state={conditions:[{variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}],conditionType:T.AND,expanded:""};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(M.k,{id:"paper",style:{display:"flex",flex:1,padding:24,marginBottom:8}},i.a.createElement(M.l,{style:{display:"flex",flex:1,margin:0,color:"black"},id:"condition-type-selector",select:!0,label:_.conditionType,value:this.state.conditionType,onChange:this.handleStringChange("conditionType"),margin:"normal"},Object.keys(T).map(function(e){return i.a.createElement(M.j,{key:e,value:T[e]},T[e])}))),this.state.conditions.map(function(t,n){return i.a.createElement(M.e,{id:"paper",key:n,expanded:e.state.expanded===n,onChange:function(t,a){e.setState({expanded:a?n:-1})}},i.a.createElement(M.g,{expandIcon:0===n?i.a.createElement(Ne.a,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.state.conditions.push({variableType:"",first:"",second:"",operation:"",isOp2Constant:!1,op2initialValue:""}),e.props.onDataChanged(e.state),e.forceUpdate()}}):i.a.createElement(Te.a,{onClick:function(n){n.stopPropagation(),n.preventDefault(),e.state.conditions.splice(e.state.conditions.indexOf(t),1),e.props.onDataChanged(e.state),e.forceUpdate()}})},i.a.createElement(M.n,null,e.renderConditionText(t))),i.a.createElement(M.f,{style:{display:"flex",flexDirection:"column",flex:1}},i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.variableType,value:e.state.conditions[n].variableType,onChange:function(t){e.state.conditions[n].variableType=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(y).map(function(e){return i.a.createElement(M.j,{key:e,value:y[e]},y[e])})),i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.firstVariable,value:e.state.conditions[n].first,onChange:function(t){e.state.conditions[n].first=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},e.props.variables.filter(function(e){return e.type===t.variableType}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(M.l,{id:"data-type-selector",select:!0,style:{flex:1,display:t.isOp2Constant?"none":"flex"},label:_.secondVariable,value:e.state.conditions[n].second,onChange:function(t){e.state.conditions[n].second=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},e.props.variables.filter(function(e){return e.type===t.variableType}).map(function(e){return i.a.createElement(M.j,{key:e.name,value:JSON.stringify(e)},e.name)})),i.a.createElement(je,{variableType:e.state.conditions[n].variableType,onDataChanged:function(a){e.state.conditions[n].second=JSON.stringify(new te(void 0,t.variableType,a.value)),e.props.onDataChanged(e.state),e.forceUpdate()},value:t.op2initialValue,hide:!t.isOp2Constant}),i.a.createElement(M.h,{control:i.a.createElement(M.b,{checked:e.state.conditions[n].isOp2Constant,onChange:function(a){e.state.conditions[n].isOp2Constant=a.target.checked,e.state.conditions[n].second=JSON.stringify(new te(void 0,t.variableType,t.op2initialValue)),e.props.onDataChanged(e.state),e.forceUpdate()},value:"true",color:"primary"}),label:t.isOp2Constant?_.constant:_.variable})),i.a.createElement(M.l,{id:"data-type-selector",select:!0,label:_.operation,value:e.state.conditions[n].operation,onChange:function(t){e.state.conditions[n].operation=t.target.value,e.props.onDataChanged(e.state),e.forceUpdate()},margin:"normal"},Object.keys(w).map(function(e){return i.a.createElement(M.j,{key:e,value:w[e]},w[e])}))))}))}}]),t}(Ce),Me=function(e){function t(e){var n;if(Object(c.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e)),void 0!==e.node){var a=e.node;n.state={variableName:a.getVariable().name,minValue:a.minValue,maxValue:a.maxValue}}else n.state={variableName:"",minValue:0,maxValue:1};return n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"bodyContainer"},i.a.createElement(M.l,{id:"variable-name-input",label:_.variableName,disabled:this.props.readonlyType,error:"variableName"===this.state.errorField,value:this.state.variableName,inputProps:{maxLength:C},onChange:this.handleStringChange("variableName",function(t){var n=K.validateVariableName(t,e.props.variables);e.setState({errorMessage:n,errorField:n?"variableName":""},function(){e.props.onDataChanged(e.state)})}),margin:"normal"}),i.a.createElement(je,{variableType:y.DOUBLE,label:_.minValue,onDataChanged:function(t){e.setState({minValue:t.value},function(){e.props.onDataChanged(e.state)})},value:this.state.minValue}),i.a.createElement(je,{variableType:y.DOUBLE,label:_.maxValue,onDataChanged:function(t){e.setState({maxValue:t.value},function(){e.props.onDataChanged(e.state)})},value:this.state.maxValue}))}}]),t}(Ce);Me.defaultProps={readonlyType:!1};var Ve=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"create",value:function(e,t,n,a){switch(e){case I.WHILE:return i.a.createElement(Le,{variables:t,node:a,onDataChanged:n.bind(this)});case I.IF:return i.a.createElement(Ae,{variables:t,node:a,onDataChanged:n.bind(this)});case I.ARITHMETIC:return i.a.createElement(Se,{variables:t,node:a,onDataChanged:n.bind(this)});case I.ASSIGNMENT:return i.a.createElement(Fe,{variables:t,node:a,onDataChanged:n.bind(this)});case I.INPUT:return i.a.createElement(xe,{variables:t,node:a,onDataChanged:n.bind(this)});case I.OUTPUT:return i.a.createElement(De,{variables:t,node:a,onDataChanged:n.bind(this)});case I.RANDOM:return i.a.createElement(Me,{variables:t,node:a,onDataChanged:n.bind(this)});default:return i.a.createElement("div",null)}}},{key:"createReadonlyVariableType",value:function(e,t,n,a){switch(e){case I.WHILE:return i.a.createElement(Le,{variables:t,node:a,onDataChanged:n.bind(this)});case I.IF:return i.a.createElement(Ae,{variables:t,node:a,onDataChanged:n.bind(this)});case I.ARITHMETIC:return i.a.createElement(Se,{variables:t,node:a,onDataChanged:n.bind(this)});case I.ASSIGNMENT:return i.a.createElement(Fe,{readonlyType:!0,variables:t,node:a,onDataChanged:n.bind(this)});case I.INPUT:return i.a.createElement(xe,{readonlyType:!0,variables:t,node:a,onDataChanged:n.bind(this)});case I.OUTPUT:return i.a.createElement(De,{variables:t,node:a,onDataChanged:n.bind(this)});case I.RANDOM:return i.a.createElement(Me,{readonlyType:!0,variables:t,node:a,onDataChanged:n.bind(this)});default:return i.a.createElement("div",null)}}}]),e}(),Pe=function e(){Object(c.a)(this,e)},Re=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9?arguments[9]:void 0;Object(c.a)(this,e),this.type=void 0,this.id=void 0,this.assignmentFlowContent=void 0,this.inputFlowContent=void 0,this.outputFlowContent=void 0,this.arithmeticFlowContent=void 0,this.whileFlowContent=void 0,this.ifFlowContent=void 0,this.randomFlowContent=void 0,this.nextFlowId=void 0,this.type=t,this.id=n,this.assignmentFlowContent=a,this.inputFlowContent=i,this.outputFlowContent=o,this.arithmeticFlowContent=r,this.ifFlowContent=s,this.whileFlowContent=l,this.ifFlowContent=s,this.randomFlowContent=u,this.nextFlowId=d},_e=n(145),Ue=function e(t,n,a,i){Object(c.a)(this,e),this.functionName=void 0,this.parameters=void 0,this.returnType=void 0,this.codeLines=void 0,this.functionName=t,this.parameters=n,this.returnType=a,this.codeLines=i},Be=function e(t,n){Object(c.a)(this,e),this.name=void 0,this.type=void 0,this.name=t,this.type=n},He=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"initClass",value:function(e){}},{key:"finishClass",value:function(){}},{key:"initMain",value:function(){rt.getInstance().writeLineToMainFunction("fun main(args: Array<String>) {"),rt.getInstance().scopeCount++}},{key:"finishMain",value:function(){rt.getInstance().scopeCount--,rt.getInstance().writeLineToMainFunction("}"),rt.getInstance().writeLineToMainFunction("")}},{key:"writeFunctionSignature",value:function(e){var t="";void 0===e.returnType?t+="":t+=": "+e.returnType;var n="";e.parameters.forEach(function(t,a){n+="".concat(t.name,": ").concat(t.type),a!==e.parameters.length-1&&(n+=", ")}),rt.getInstance().writeLine("fun ".concat(e.functionName,"(").concat(n,")").concat(t)),rt.getInstance().appendToLastLine(" {"),rt.getInstance().scopeCount++,e.codeLines.forEach(function(e){rt.getInstance().writeLine(e)}),rt.getInstance().scopeCount--,rt.getInstance().writeLine("}"),rt.getInstance().writeLine("")}},{key:"writeArithmeticFunction",value:function(e){if(null!=e.content){var t=[],n=[];void 0!==e.content.operator1.name&&n.push(new Be(e.content.operator1.name,e.content.operator1.type)),void 0!==e.content.operator2.name&&e.content.operator1.name!==e.content.operator2.name&&n.push(new Be(e.content.operator2.name,e.content.operator2.type));var a="";switch(e.content.operation){case O.ADDITION:a="+";break;case O.SUBTRACTION:a="-";break;case O.MULTIPLICATION:a="*";break;case O.DIVISION:a="/"}var i="",o="";void 0!==e.content.operator1.name?i+=e.content.operator1.name:i+=e.content.operator1.value,void 0!==e.content.operator2.name?o+=e.content.operator2.name:o+=e.content.operator2.value,e.content.operation==O.ROOT?t.push("return Math.pow(".concat(i,", 1 / ").concat(o,")")):(e.content.variable.type,y.DOUBLE,t.push("return ".concat(i," ").concat(a," ").concat(o)));var r=new Ue(e.functionName(),n,e.content.variable.type,t);rt.getInstance().writeFunction(r)}}},{key:"writeArithmeticMain",value:function(e){if(null!=e.content){var t="";rt.getInstance().addVariable(e.content.variable.name)&&(t="var "),rt.getInstance().writeLineToMainFunction("".concat(t).concat(e.content.variable.name," = ").concat(e.functionInvocation())),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeAssignmentFunction",value:function(e){}},{key:"writeAssignmentMain",value:function(e){if(null!=e.content){var t="";switch(e.content.variable.type){case y.INT:case y.DOUBLE:t=e.content.variable.value.toString();break;case y.STRING:t='"'.concat(e.content.variable.value,'"');break;default:console.log("default...")}var n="";rt.getInstance().addVariable(e.content.variable.name)&&(n="var "),rt.getInstance().writeLineToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(t)),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeInputFunction",value:function(e){if(null!=e.content){var t=[];t.push('println("Please enter value for '.concat(e.content.variable.name,'")'));var n="";switch(e.content.variable.type){case y.INT:n="readLine()!!.toInt()";break;case y.STRING:n="readLine()!!";break;case y.BOOLEAN:n="readLine()!!.toBoolean()";break;case y.DOUBLE:n="readLine()!!.toDouble()"}t.push("return ".concat(n));var a=new Ue(e.functionName(),[],e.content.variable.type.toString(),t);rt.getInstance().writeFunction(a)}}},{key:"writeInputMain",value:function(e){if(null!=e.content){var t="";rt.getInstance().addVariable(e.content.variable.name)&&(t="var "),rt.getInstance().writeLineToMainFunction("".concat(t).concat(e.content.variable.name," = ").concat(e.functionInvocation())),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeOutputFunction",value:function(e){if(null!=e.content){var t=[],n=[];e.content.variable.name&&n.push(new Be(e.content.variable.name,e.content.variable.type.toString()));var a=new Ue(e.functionName(),n,void 0,t),i="";i=e.content.variable.name?'println("Value of '.concat(e.content.variable.name," is ${").concat(e.content.variable.name,'}")'):'println("'.concat(e.content.variable.value,'")'),t.push(i),rt.getInstance().writeFunction(a)}}},{key:"writeOutputMain",value:function(e){rt.getInstance().writeLineToMainFunction(e.functionInvocation()),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}},{key:"writeWhileFunction",value:function(e){}},{key:"writeWhileMain",value:function(e){if(null!=e.content){for(var t=e.content.scopeId,n="",a=0;a<e.content.conditions.length;a++){var i=e.content.conditions[a];if(n+=i.first.name,void 0!==i.second){switch(n+=" ",i.operation){case w.EQUALS:n+="==";break;case w.NOT_EQUALS:n+="!=";break;case w.GREATER_THAN:n+=">";break;case w.GREATER_THAN_OR_EQUALS:n+=">=";break;case w.LESS_THAN:n+="<";break;case w.LESS_THAN_OR_EQUALS:n+="<="}i.second.name?n+=" "+i.second.name:n+=" "+i.second.value}a!==e.content.conditions.length-1&&(n+=" ".concat(e.content.conditionType," "))}rt.getInstance().writeLineToMainFunction("while("+n+") {"),rt.getInstance().scopeCount++,null!=t&&(rt.getInstance().addToLoopStack(e.id),rt.getInstance().writeMainCodeFromFlow(t)),rt.getInstance().scopeCount--,rt.getInstance().writeLineToMainFunction("}"),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeIfFunction",value:function(e){}},{key:"writeIfMain",value:function(e){if(null!=e.content){for(var t="",n=0;n<e.content.conditions.length;n++){var a=e.content.conditions[n];if(t+=a.first.name,void 0!==a.second){switch(t+=" ",a.operation){case w.EQUALS:t+="==";break;case w.NOT_EQUALS:t+="!=";break;case w.GREATER_THAN:t+=">";break;case w.GREATER_THAN_OR_EQUALS:t+=">=";break;case w.LESS_THAN:t+="<";break;case w.LESS_THAN_OR_EQUALS:t+="<="}a.second.name?t+=" "+a.second.name:t+=" "+a.second.value}n!==e.content.conditions.length-1&&(t+=" ".concat(e.content.conditionType," "))}rt.getInstance().writeLineToMainFunction("if("+t+") {"),rt.getInstance().scopeCount++,null!=e.content.trueScopeId&&(rt.getInstance().addToLoopStack(e.id),rt.getInstance().writeMainCodeFromFlow(e.content.trueScopeId)),rt.getInstance().scopeCount--,null!=e.content.falseScopeId&&(rt.getInstance().writeLineToMainFunction("} else {"),rt.getInstance().scopeCount++,rt.getInstance().addToLoopStack(e.id),rt.getInstance().writeMainCodeFromFlow(e.content.falseScopeId),rt.getInstance().scopeCount--),rt.getInstance().writeLineToMainFunction("}"),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeRandomFunction",value:function(e){}},{key:"writeRandomMain",value:function(e){if(rt.getInstance().addGlobalVariable("val random = Random()"),rt.getInstance().addDependency("import java.util.Random"),null!=e.content){var t="";rt.getInstance().addVariable(e.content.variable.name)&&(t="var "),rt.getInstance().writeLineToMainFunction("".concat(t).concat(e.content.variable.name," = ").concat(e.content.min," + (").concat(e.content.max," - ").concat(e.content.min,") * random.nextDouble()")),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"addDependenciesAndGlobalVariables",value:function(e,t){e.add("");var n=0;e.forEach(function(e){rt.getInstance().writeLineToIndex(e,n),n++}),rt.getInstance().writeLineToIndex("",n),n++,t.forEach(function(e){rt.getInstance().writeLineToIndex(e,n),n++})}}]),e}(),Ge=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"convert",value:function(e,t){var n="";switch(+e){case g.JAVA:switch(t){case y.INT:n="int";break;case y.BOOLEAN:n="boolean";break;case y.STRING:n="String";break;case y.DOUBLE:n="double"}break;case g.KOTLIN:switch(t){case y.INT:n="Int";break;case y.BOOLEAN:n="Boolean";break;case y.STRING:n="String";break;case y.DOUBLE:n="Double"}}return n}}]),e}(),Je=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"initClass",value:function(e){rt.getInstance().writeLineToMainFunction("public class ".concat(e.className," {")),rt.getInstance().scopeCount++}},{key:"finishClass",value:function(){rt.getInstance().scopeCount--,rt.getInstance().writeLine("}"),rt.getInstance().writeLine("")}},{key:"initMain",value:function(){rt.getInstance().writeLineToMainFunction("public static void main(String args[]) {"),rt.getInstance().scopeCount++}},{key:"finishMain",value:function(){rt.getInstance().scopeCount--,rt.getInstance().writeLineToMainFunction("}"),rt.getInstance().writeLineToMainFunction("")}},{key:"writeFunctionSignature",value:function(e){var t="";void 0===e.returnType?t+="void":t+="".concat(e.returnType);var n="";e.parameters.forEach(function(t,a){n+="".concat(t.type," ").concat(t.name),a!==e.parameters.length-1&&(n+=", ")}),rt.getInstance().writeLine("private static ".concat(t," ").concat(e.functionName,"(").concat(n,") ")),rt.getInstance().appendToLastLine(" {"),rt.getInstance().scopeCount++,e.codeLines.forEach(function(e){rt.getInstance().writeLine(e)}),rt.getInstance().scopeCount--,rt.getInstance().writeLine("}"),rt.getInstance().writeLine("")}},{key:"writeArithmeticFunction",value:function(e){if(null!=e.content){var t=[],n=[];void 0!==e.content.operator1.name&&n.push(new Be(e.content.operator1.name,Ge.convert(g.JAVA,e.content.operator1.type))),void 0!==e.content.operator2.name&&e.content.operator1.name!==e.content.operator2.name&&n.push(new Be(e.content.operator2.name,Ge.convert(g.JAVA,e.content.operator2.type)));var a="";switch(e.content.operation){case O.ADDITION:a="+";break;case O.SUBTRACTION:a="-";break;case O.MULTIPLICATION:a="*";break;case O.DIVISION:a="/"}var i="",o="";void 0!==e.content.operator1.name?i+=e.content.operator1.name:i+=e.content.operator1.value,void 0!==e.content.operator2.name?o+=e.content.operator2.name:o+=e.content.operator2.value,e.content.operation==O.ROOT?t.push("return Math.pow(".concat(i,", 1 / ").concat(o,");")):t.push("return ".concat(i," ").concat(a," ").concat(o,";"));var r=new Ue(e.functionName(),n,Ge.convert(g.JAVA,e.content.variable.type),t);rt.getInstance().writeFunction(r)}}},{key:"writeArithmeticMain",value:function(e){if(null!=e.content){var t="";rt.getInstance().addVariable(e.content.variable.name)&&(t="".concat(Ge.convert(g.JAVA,e.content.variable.type)," ")),rt.getInstance().writeLineToMainFunction("".concat(t).concat(e.content.variable.name," = ").concat(e.functionInvocation(),";")),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeAssignmentFunction",value:function(e){}},{key:"writeAssignmentMain",value:function(e){if(null!=e.content){var t="";switch(e.content.variable.type){case y.DOUBLE:case y.INT:t=e.content.variable.value.toString();break;case y.STRING:t='"'.concat(e.content.variable.value,'"')}var n="";rt.getInstance().addVariable(e.content.variable.name)&&(n="".concat(Ge.convert(g.JAVA,e.content.variable.type)," ")),rt.getInstance().writeLineToMainFunction("".concat(n).concat(e.content.variable.name," = ").concat(t,";")),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeInputFunction",value:function(e){if(null!=e.content){rt.getInstance().addDependency("import java.util.Scanner;");var t=[];t.push('System.out.println("Please enter value for '.concat(e.content.variable.name,'");')),t.push("Scanner scanner = new Scanner(System.in);");var n=Ge.convert(g.JAVA,e.content.variable.type);switch(e.content.variable.type){case y.INT:t.push("".concat(n," input = scanner.nextInt();"));break;case y.DOUBLE:t.push("".concat(n," input = scanner.nextDouble();"));break;case y.STRING:t.push("".concat(n," input = scanner.nextLine();"))}t.push("scanner.close();"),t.push("return input;");var a=new Ue(e.functionName(),[],Ge.convert(g.JAVA,e.content.variable.type),t);rt.getInstance().writeFunction(a)}}},{key:"writeInputMain",value:function(e){if(null!=e.content){var t="";rt.getInstance().addVariable(e.content.variable.name)&&(t="".concat(Ge.convert(g.JAVA,e.content.variable.type)," ")),rt.getInstance().writeLineToMainFunction("".concat(t).concat(e.content.variable.name," = ").concat(e.functionInvocation(),";")),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeOutputFunction",value:function(e){if(null!=e.content){var t=[],n=[];e.content.variable.name&&n.push(new Be(e.content.variable.name,Ge.convert(g.JAVA,e.content.variable.type)));var a=new Ue(e.functionName(),n,void 0,t),i="";i=e.content.variable.name?'System.out.println("Value of '.concat(e.content.variable.name,' is " + ').concat(e.content.variable.name,");"):'System.out.println("'.concat(e.content.variable.value,'");'),t.push(i),rt.getInstance().writeFunction(a)}}},{key:"writeOutputMain",value:function(e){rt.getInstance().writeLineToMainFunction("".concat(e.functionInvocation(),";")),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}},{key:"writeWhileFunction",value:function(e){}},{key:"writeWhileMain",value:function(e){if(e.content){var t=e.content.scopeId,n="";e.content.conditions.forEach(function(e){if(n+=e.first.name,e.second){switch(n+=" ",e.operation){case w.EQUALS:n+="==";break;case w.NOT_EQUALS:n+="!=";break;case w.GREATER_THAN:n+=">";break;case w.GREATER_THAN_OR_EQUALS:n+=">=";break;case w.LESS_THAN:n+="<";break;case w.LESS_THAN_OR_EQUALS:n+="<="}e.second.name?n+=" "+e.second.name:n+=" "+e.second.value}}),rt.getInstance().writeLineToMainFunction("while("+n+") {"),rt.getInstance().scopeCount++,null!=t&&(rt.getInstance().addToLoopStack(e.id),rt.getInstance().writeMainCodeFromFlow(t)),rt.getInstance().scopeCount--,rt.getInstance().writeLineToMainFunction("}"),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeIfFunction",value:function(e){}},{key:"writeIfMain",value:function(e){if(null!=e.content){var t="";e.content.conditions.forEach(function(e){if(t+=e.first.name,void 0!==e.second){switch(t+=" ",e.operation){case w.EQUALS:t+="==";break;case w.NOT_EQUALS:t+="!=";break;case w.GREATER_THAN:t+=">";break;case w.GREATER_THAN_OR_EQUALS:t+=">=";break;case w.LESS_THAN:t+="<";break;case w.LESS_THAN_OR_EQUALS:t+="<="}e.second.name?t+=" "+e.second.name:t+=" "+e.second.value}}),rt.getInstance().writeLineToMainFunction("if("+t+") {"),rt.getInstance().scopeCount++,null!=e.content.trueScopeId&&(rt.getInstance().addToLoopStack(e.id),rt.getInstance().writeMainCodeFromFlow(e.content.trueScopeId)),rt.getInstance().scopeCount--,null!=e.content.falseScopeId&&(rt.getInstance().writeLineToMainFunction("} else {"),rt.getInstance().scopeCount++,rt.getInstance().addToLoopStack(e.id),rt.getInstance().writeMainCodeFromFlow(e.content.falseScopeId),rt.getInstance().scopeCount--),rt.getInstance().writeLineToMainFunction("}"),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"writeRandomFunction",value:function(e){}},{key:"writeRandomMain",value:function(e){if(rt.getInstance().addGlobalVariable("static Random random = new Random();"),rt.getInstance().addDependency("import java.util.Random;"),null!=e.content){var t="";rt.getInstance().addVariable(e.content.variable.name)&&(t="double "),rt.getInstance().writeLineToMainFunction("".concat(t).concat(e.content.variable.name," = ").concat(e.content.min," + (").concat(e.content.max," - ").concat(e.content.min,") * random.nextDouble();")),rt.getInstance().writeMainCodeFromFlow(e.nextFlow())}}},{key:"addDependenciesAndGlobalVariables",value:function(e,t){e.add("");var n=0;e.forEach(function(e){rt.getInstance().writeLineToIndex(e,n),n++}),rt.getInstance().writeLineToIndex("",n),n++,t.forEach(function(e){rt.getInstance().writeLineToIndex(e,n+1),n++})}}]),e}(),ze=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"createCodeStrategy",value:function(e){switch(+e){case g.JAVA:return new Je;case g.KOTLIN:default:return new He}}}]),e}(),We=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.type=void 0,this.nextFlowId=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){if(null==this.content)return"";var e="".concat(this.functionName(),"(");return void 0!==this.content.operator1.name&&(e+=this.content.operator1.name),void 0!==this.content.operator2.name&&this.content.operator1.name!==this.content.operator2.name&&(e+=", ".concat(this.content.operator2.name)),e+=")"}},{key:"functionName",value:function(){return"arithmeticFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Qe=function e(t,n,a,i){Object(c.a)(this,e),this.variable=void 0,this.operation=void 0,this.operator1=void 0,this.operator2=void 0,this.variable=t,this.operation=n,this.operator1=a,this.operator2=i},Ke=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"assignmentFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),qe=function e(t){Object(c.a)(this,e),this.variable=void 0,this.variable=t},Xe=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"inputFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Ye=function e(t){Object(c.a)(this,e),this.variable=void 0,this.variable=t},$e=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return null!=this.content?this.content.variable.name?"".concat(this.functionName(),"(").concat(this.content.variable.name,")"):"".concat(this.functionName(),"()"):""}},{key:"functionName",value:function(){return"outputFlow".concat(this.functionCallName)}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}},{key:"hasExternalDependencies",value:function(){return!1}}]),e}(),Ze=function e(t){Object(c.a)(this,e),this.variable=void 0,this.variable=t},et=function(){function e(t,n,a){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.functionCallName=""}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}}]),e}(),tt=function e(t){Object(c.a)(this,e),this.className=void 0,this.className=t},nt=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return"".concat(this.functionName(),"()")}},{key:"functionName",value:function(){return"randomFlow".concat(this.functionCallName)}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}}]),e}(),at=function e(t,n,a){Object(c.a)(this,e),this.variable=void 0,this.min=void 0,this.max=void 0,this.variable=t,this.min=n,this.max=a},it=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}}]),e}(),ot=function e(t,n,a,i){Object(c.a)(this,e),this.conditions=void 0,this.conditionType=void 0,this.trueScopeId=void 0,this.falseScopeId=void 0,this.conditions=t,this.conditionType=n,this.trueScopeId=a,this.falseScopeId=i},rt=function(){function e(){Object(c.a)(this,e),this.flowIncrementalId=0,this.flows=new Map,this.codes=[],this.scopeCount=0,this.mainFunctionLineIndex=0,this.spacing="\t",this.variableSet=new Set,this.globalVariableSet=new Set,this.dependencySet=new Set,this.loopStack=new _e.Stack,this.codeStrategy=new He,this.loopStack.push(e.TERMINATION_ID)}return Object(l.a)(e,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this)}}]),Object(l.a)(e,[{key:"reset",value:function(){this.flowIncrementalId=0,this.flows.clear(),this.variableSet.clear(),this.globalVariableSet.clear(),this.dependencySet.clear(),this.codes=[],this.scopeCount=0,this.mainFunctionLineIndex=0,this.loopStack=new _e.Stack,this.loopStack.push(e.TERMINATION_ID)}},{key:"init",value:function(e,t){var n=this;console.log(t),this.flows=t,this.codeStrategy=ze.createCodeStrategy(e),this.generateMain(),t.forEach(function(e){n.writeFunctionCodeFromFlow(e)}),this.codeStrategy.finishClass(),this.addDependenciesAndGlobalVariables()}},{key:"writeLineToIndex",value:function(e,t){this.codes.splice(t,0,e)}},{key:"writeLineToMainFunction",value:function(e){this.codes.splice(this.mainFunctionLineIndex,0,this.createSpacing()+e),this.mainFunctionLineIndex++}},{key:"writeLine",value:function(e){this.codes.push(this.createSpacing()+e)}},{key:"appendToLastLine",value:function(e){var t=this.codes.length-1,n=this.codes[t];n+=e,this.codes[t]=n}},{key:"generateMain",value:function(){var t=new tt("GeneratedCode");this.codeStrategy.initClass(t),this.codeStrategy.initMain(),void 0!==this.flows.get(e.INITIAL_ID)?this.writeMainCodeFromFlow(e.INITIAL_ID):console.log("No initial defined please define it with "+e.INITIAL_ID+"!"),this.codeStrategy.finishMain()}},{key:"writeFunction",value:function(e){this.codeStrategy.writeFunctionSignature(e)}},{key:"writeMainCodeFromFlow",value:function(e){if(!this.removeFromStackIfTopEquals(e)){var t=this.flows.get(e);void 0!==t&&(t instanceof We?this.codeStrategy.writeArithmeticMain(t):t instanceof Ke?this.codeStrategy.writeAssignmentMain(t):t instanceof Xe?this.codeStrategy.writeInputMain(t):t instanceof $e?this.codeStrategy.writeOutputMain(t):t instanceof ct?this.codeStrategy.writeWhileMain(t):t instanceof it?this.codeStrategy.writeIfMain(t):t instanceof nt?this.codeStrategy.writeRandomMain(t):t instanceof et&&this.writeMainCodeFromFlow(t.nextFlow()))}}},{key:"writeFunctionCodeFromFlow",value:function(e){e instanceof We?this.codeStrategy.writeArithmeticFunction(e):e instanceof Ke?this.codeStrategy.writeAssignmentFunction(e):e instanceof Xe?this.codeStrategy.writeInputFunction(e):e instanceof $e?this.codeStrategy.writeOutputFunction(e):e instanceof ct?this.codeStrategy.writeWhileFunction(e):e instanceof it?this.codeStrategy.writeIfFunction(e):e instanceof nt&&this.codeStrategy.writeRandomFunction(e)}},{key:"addVariable",value:function(e){return e=void 0===e?"":e,!this.variableSet.has(e)&&(this.variableSet.add(e),!0)}},{key:"addDependency",value:function(e){this.dependencySet.add(e)}},{key:"addGlobalVariable",value:function(e){this.globalVariableSet.add(e)}},{key:"addToLoopStack",value:function(e){this.loopStack.push(e)}},{key:"removeFromStackIfTopEquals",value:function(e){return this.loopStack.top===e&&(this.loopStack.pop(),!0)}},{key:"createSpacing",value:function(){for(var e="",t=0;t<this.scopeCount;t++)e+=this.spacing;return e}},{key:"addDependenciesAndGlobalVariables",value:function(){this.codeStrategy.addDependenciesAndGlobalVariables(this.dependencySet,this.globalVariableSet)}}]),e}();rt.INITIAL_ID="INITIAL_ID",rt.TERMINATION_ID="TERMINATION_ID",rt.instance=void 0;var ct=function(){function e(t,n,a,i){Object(c.a)(this,e),this.id=void 0,this.nextFlowId=void 0,this.type=void 0,this.content=void 0,this.functionCallName=void 0,this.id=t,this.nextFlowId=n,this.type=a,this.content=i,this.functionCallName=(rt.getInstance().flowIncrementalId++).toString()}return Object(l.a)(e,[{key:"functionInvocation",value:function(){return""}},{key:"functionName",value:function(){return""}},{key:"hasExternalDependencies",value:function(){return!1}},{key:"nextFlow",value:function(){return null!=this.nextFlowId?this.nextFlowId:rt.TERMINATION_ID}}]),e}(),lt=function e(t,n,a){Object(c.a)(this,e),this.conditions=void 0,this.conditionType=void 0,this.scopeId=void 0,this.conditions=t,this.conditionType=n,this.scopeId=a},st=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null,i=t.getScopeFlow(),o=i?i.getID():null;return new Re(I.WHILE,t.getID(),null,null,null,null,new lt(t.conditionList,t.conditionType,o),null,null,a)}}]),t}(Pe),ut=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Re(I.INPUT,t.getID(),null,new Ye(t.getVariable()),null,null,null,null,null,a)}}]),t}(Pe),dt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Re(I.OUTPUT,t.getID(),null,null,new Ze(t.getVariable()),null,null,null,null,a)}}]),t}(Pe),ht=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Re(I.ARITHMETIC,t.getID(),null,null,null,new Qe(t.getVariable(),t.getOperation(),t.getOperator1(),t.getOperator2()),null,null,null,a)}}]),t}(Pe),pt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Re(I.ASSIGNMENT,t.getID(),new qe(t.getVariable()),null,null,null,null,null,null,a)}}]),t}(Pe),vt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e.getNextFlow(),n=t?t.getID():null;return new Re(I.INITIAL,e.getID(),null,null,null,null,null,null,null,n)}}]),t}(Pe),ft=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null,i=t.getTrueScopeFlow(),o=i?i.getID():null,r=t.getFalseScopeFlow(),c=r?r.getID():null;return new Re(I.IF,t.getID(),null,null,null,null,null,new ot(t.conditionList,t.conditionType,o,c),null,a)}}]),t}(Pe),bt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generate",value:function(e){var t=e,n=t.getNextFlow(),a=n?n.getID():null;return new Re(I.RANDOM,t.getID(),null,null,null,null,null,null,new at(t.getVariable(),t.minValue,t.maxValue),a)}}]),t}(Pe),mt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"create",value:function(e){switch(e.flowType){case I.INITIAL:return(new vt).generate(e);case I.IF:return(new ft).generate(e);case I.WHILE:return(new st).generate(e);case I.FOR:return null;case I.INPUT:return(new ut).generate(e);case I.OUTPUT:return(new dt).generate(e);case I.ARITHMETIC:return(new ht).generate(e);case I.ASSIGNMENT:return(new pt).generate(e);case I.RANDOM:return(new bt).generate(e);default:return null}}}]),e}(),gt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"generate",value:function(e){var t=[];return this.generateFlowModel(e,t),t}},{key:"generateFlowModel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e&&!J.includes(t.map(function(e){return e.id}),e.getID())){switch(e.flowType){case I.WHILE:this.generateFlowModel(e.getScopeFlow(),t,e.getID());break;case I.IF:this.generateFlowModel(e.getTrueScopeFlow(),t,e.getID()),this.generateFlowModel(e.getFalseScopeFlow(),t,e.getID())}var a=mt.create(e);a&&t.push(a),this.generateFlowModel(e.getNextFlow(),t,n)}}}]),e}(),yt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={bodyData:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onBodyChanged",value:function(e){this.setState({bodyData:e})}},{key:"onSave",value:function(){null!=this.props.onSaveClick&&this.props.onSaveClick(this.state.bodyData)}},{key:"onDismiss",value:function(){null!=this.props.onDismissClick&&this.props.onDismissClick()}},{key:"render",value:function(){return i.a.createElement(M.c,Object.assign({"aria-labelledby":"simple-dialog-title"},this.props),i.a.createElement(M.d,{id:"simple-dialog-title"},"Set Properties"),i.a.createElement("div",{className:B.a.addNodeDialogBody},i.a.createElement(M.n,{color:"error"},this.state.bodyData&&this.state.bodyData.errorMessage?this.state.bodyData.errorMessage:""),Ve.create(this.props.type,this.props.variables,this.onBodyChanged.bind(this))),i.a.createElement("div",{className:B.a.addNodeDialogButtonContainer},i.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:this.onDismiss.bind(this)},_.dismiss),i.a.createElement(P.a,{variant:"contained",color:"primary",onClick:this.onSave.bind(this)},_.save)))}}]),t}(a.Component);yt.defaultProps={variables:[]};var Ot=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"generate",value:function(e,t){return rt.getInstance().reset(),rt.getInstance().init(e,this.convertToFlowObjects(t)),rt.getInstance().codes.join("\n")}},{key:"convertToFlowObjects",value:function(e){var t=new Map;return e.forEach(function(e){switch(e.type){case I.INITIAL:t.set(rt.INITIAL_ID,new et(rt.INITIAL_ID,e.nextFlowId,e.type));break;case I.ASSIGNMENT:t.set(e.id,new Ke(e.id,e.nextFlowId,e.type,e.assignmentFlowContent));break;case I.INPUT:t.set(e.id,new Xe(e.id,e.nextFlowId,e.type,e.inputFlowContent));break;case I.OUTPUT:t.set(e.id,new $e(e.id,e.nextFlowId,e.type,e.outputFlowContent));break;case I.ARITHMETIC:t.set(e.id,new We(e.id,e.nextFlowId,e.type,e.arithmeticFlowContent));break;case I.WHILE:t.set(e.id,new ct(e.id,e.nextFlowId,e.type,e.whileFlowContent));break;case I.IF:t.set(e.id,new it(e.id,e.nextFlowId,e.type,e.ifFlowContent));break;case I.RANDOM:t.set(e.id,new nt(e.id,e.nextFlowId,e.type,e.randomFlowContent))}}),t}}]),e}(),It=n(17),wt=n(146),Tt=n.n(wt),kt=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).cb=void 0,a.cb=n,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getNewInstance",value:function(e){return this.cb(e)}}]),t}(G.AbstractPortFactory),Nt=n(30),Et=n.n(Nt),Ct=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generatePort",value:function(e){return a.createElement(X,{model:e,key:e.id})}},{key:"render",value:function(){return a.createElement("div",Object.assign({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:Et.a.rectangleNodeTitle},a.createElement("div",{className:Et.a.rectangleNodeName},this.props.node.name)),a.createElement("div",{className:Et.a.rectangleNodePorts},a.createElement("div",{className:Et.a.rectangleNodeIn},J.map(this.props.node.getPortListByLocation(A.LEFT),this.generatePort.bind(this))),a.createElement("div",{className:Et.a.rectangleNodeOut},J.map(this.props.node.getPortListByLocation(A.RIGHT),this.generatePort.bind(this)))))}}]),t}(G.BaseWidget),jt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"base-flow"))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(Ct,{node:t})}},{key:"getNewInstance",value:function(e){return Ie.load(e)}}]),t}(G.AbstractNodeFactory),Lt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,"srd-default-node",e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generatePort",value:function(e){return a.createElement(X,{model:e,key:e.id})}},{key:"render",value:function(){return a.createElement("div",Object.assign({},this.getProps(),{style:{background:this.props.node.color}}),a.createElement("div",{className:Et.a.rectangleNodeTitle},a.createElement("div",{className:Et.a.rectangleNodeName},this.props.node.name)),a.createElement("div",{className:Et.a.rectangleNodeInfo},a.createElement("div",{className:Et.a.rectangleNodeName},this.props.node.info)),a.createElement("div",{className:Et.a.rectangleNodePorts},a.createElement("div",{className:Et.a.rectangleNodeIn},J.map(this.props.node.getPortListByLocation(A.LEFT),this.generatePort.bind(this))),a.createElement("div",{className:Et.a.rectangleNodeOut},J.map(this.props.node.getPortListByLocation(A.RIGHT),this.generatePort.bind(this)))))}}]),t}(G.BaseWidget),St=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,"base-info-flow"))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateReactWidget",value:function(e,t){return a.createElement(Lt,{node:t})}},{key:"getNewInstance",value:function(e){return Ie.load(e)}}]),t}(G.AbstractNodeFactory),Ft=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).activeModel=void 0,n.diagramEngine=void 0,n.initialNode=void 0,n.newProject=function(){n.diagramEngine=new G.DiagramEngine,n.diagramEngine.installDefaultFactories(),n.diagramEngine.registerNodeFactory(new jt),n.diagramEngine.registerNodeFactory(new St),n.diagramEngine.registerPortFactory(new kt("default",function(){return new Y(new $(q.IN,A.LEFT),"unknown")})),n.activeModel=new G.DiagramModel,n.diagramEngine.setDiagramModel(n.activeModel),n.initialNode=Ie.create(I.INITIAL,void 0),n.initialNode.addListener({selectionChanged:n.props.onSelectionChanged.bind(Object(It.a)(n)),entityRemoved:n.props.onEntityRemoved.bind(Object(It.a)(n))}),n.initialNode.x=.1*window.innerWidth,n.initialNode.y=.4*window.innerHeight,n.diagramEngine.getDiagramModel().addNode(n.initialNode)},n.saveProject=function(){var e=n.activeModel.serializeDiagram();return e.canvasPanel={variableList:n.props.variableList,initialNodeId:n.initialNode.getID()},e},n.loadProject=function(e,t){var a=JSON.parse(e),i=new G.DiagramModel;i.deSerializeDiagram(a,n.diagramEngine),J.forEach(i.getNodes(),function(e){e.addListener({selectionChanged:function(e){return n.props.onSelectionChanged(e)},entityRemoved:function(e){return n.props.onEntityRemoved(e)}}),e.addOnLinkChangedListener(n.props.onDiagramChanged),e instanceof ne&&e.updateInfo()}),n.diagramEngine.setDiagramModel(i),n.activeModel=i,n.initialNode=i.getNode(a.canvasPanel.initialNodeId),t(a.canvasPanel.variableList),n.forceUpdate()},n.addItem=function(e,t,a){var i=Ie.create(e,t);i&&(i.x=a.x,i.y=a.y,i.addOnLinkChangedListener(n.props.onDiagramChanged),i.addListener({selectionChanged:function(e){return n.props.onSelectionChanged(e)},entityRemoved:function(e){return n.props.onEntityRemoved(e)}}),n.diagramEngine.getDiagramModel().addNode(i),n.props.onItemAdded(i),n.forceUpdate())},n.diagramEngine=new G.DiagramEngine,n.activeModel=new G.DiagramModel,n.initialNode=Ie.create(I.INITIAL,void 0),n.newProject(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:Tt.a.diagramLayer,onDrop:function(t){return e.onDrop(t)},onDragOver:function(e){return e.preventDefault()}},i.a.createElement(G.DiagramWidget,{maxNumberPointsPerLink:0,allowLooseLinks:!1,className:Tt.a.srdDemoCanvas,diagramEngine:this.diagramEngine}))}},{key:"onDrop",value:function(e){var t=JSON.parse(e.dataTransfer.getData("storm-diagram-node"));if(Object.values(I).includes(t.type)){var n=this.diagramEngine.getRelativeMousePoint(e);this.props.onDrop(t.type,n)}}}]),t}(a.Component),xt=n(96),Dt=n.n(xt),At=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){n.props.onClickListener(e),n.setState({anchorEl:null})},n.handleFileMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.state={anchorEl:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(M.a,{position:"static"},i.a.createElement(M.m,{className:Dt.a.toolbar},i.a.createElement("div",{className:Dt.a.container},i.a.createElement(M.n,{className:Dt.a.clickable,variant:"overline","aria-owns":Boolean(this.state.anchorEl)?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleFileMenu,color:"inherit"},_.file),i.a.createElement(M.i,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.state.anchorEl),onClose:this.handleClose},i.a.createElement(M.j,{onClick:function(){return e.handleClick("new")}},_.new),i.a.createElement(M.j,{onClick:function(){return e.handleClick("save")}},_.save),i.a.createElement(M.j,{onClick:function(){return e.handleClick("load")}},_.load)))))}}]),t}(a.Component);At.defaultProps={onClickListener:function(){}};var Mt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).programmingLanguages=Object.keys(g).filter(function(e){return"number"!==typeof g[e]}),n.canvasPanel=Object(a.createRef)(),n.codeGenerator=new Ot,n.resetState=function(){n.setState({isModalOpen:!1,flowType:null,flowPosition:{x:0,y:0},variableList:[],properties:i.a.createElement("div",null),selectedItem:"",selectedLanguage:g.KOTLIN})},n.onHeaderMenuClickListener=function(e){switch(e){case"new":if(!n.canvasPanel.current)return;n.canvasPanel.current.newProject(),n.resetState(),n.onDiagramChanged();break;case"save":if(!n.canvasPanel.current)return;var t=JSON.stringify(n.canvasPanel.current.saveProject());W.save("FlowieSave.flwie",t);break;case"load":W.load(function(e){n.canvasPanel.current&&n.canvasPanel.current.loadProject(e,function(e){n.resetState(),n.setState({variableList:e}),n.onDiagramChanged()})},function(e){console.error(e)});break;default:return}},n.state={height:"1px",width:"1px",isModalOpen:!1,flowType:null,flowPosition:{x:0,y:0},generatedCode:n.codeGenerator.generate(g.KOTLIN,[]),variableList:[],properties:i.a.createElement("div",null),selectedItem:"",selectedLanguage:g.KOTLIN},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onModalSaveClick",value:function(e){this.onModalClose(),e&&this.canvasPanel.current&&this.state.flowType&&!e.errorMessage&&!e.errorField&&this.canvasPanel.current.addItem(this.state.flowType,e,this.state.flowPosition)}},{key:"onModalDismissClick",value:function(){this.onModalClose()}},{key:"onModalClose",value:function(){this.setState({isModalOpen:!1,flowType:null,flowPosition:{x:0,y:0}})}},{key:"onDiagramChanged",value:function(){if(this.canvasPanel.current){var e=gt.generate(this.canvasPanel.current.initialNode);console.log(e),this.setState({generatedCode:this.codeGenerator.generate(this.state.selectedLanguage,e)})}}},{key:"onCanvasDrop",value:function(e,t){this.setState({isModalOpen:!0,flowType:e,flowPosition:t})}},{key:"onItemAdded",value:function(e){e instanceof ae&&this.state.variableList.push(e.getVariable())}},{key:"onEntityRemoved",value:function(e){if(e.entity instanceof ae){var t=this.state.variableList.filter(function(t){return t.name!==e.entity.getVariable().name});this.setState({variableList:t})}e.entity.getID()===this.state.selectedItem&&this.setState({properties:i.a.createElement("div",null),selectedItem:""})}},{key:"onSelectionChanged",value:function(e){var t=this;if(this.canvasPanel.current&&e.entity instanceof Z){var n=this.canvasPanel.current.diagramEngine.diagramModel.getSelectedItems().filter(function(e){return e instanceof Z});n.length>1&&""!==this.state.selectedItem?this.setState({properties:i.a.createElement("div",null),selectedItem:""}):1===n.length&&e.isSelected?this.setState({properties:i.a.createElement("div",null)},function(){var n=Ve.createReadonlyVariableType(e.entity.flowType,t.state.variableList,function(n){if(!n.errorMessage){if(e.entity instanceof ae)for(var a=0;a<t.state.variableList.length;a++)if(t.state.variableList[a].name===e.entity.getVariable().name){t.state.variableList[a].name=n.variableName;break}e.entity.updateNode(n),t.onDiagramChanged()}},e.entity);t.setState({properties:n,selectedItem:e.entity.getID()})}):this.setState({properties:i.a.createElement("div",null),selectedItem:""})}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:p.a.App},i.a.createElement(yt,{onSaveClick:this.onModalSaveClick.bind(this),onDismissClick:this.onModalDismissClick.bind(this),onClose:this.onModalClose.bind(this),"aria-labelledby":"simple-dialog-title",variables:this.state.variableList,open:this.state.isModalOpen,type:this.state.flowType}),i.a.createElement(At,{onClickListener:function(t){return e.onHeaderMenuClickListener(t)}}),i.a.createElement(v.a,{orientation:"vertical"},i.a.createElement(v.b,{minSize:250},i.a.createElement(v.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(v.b,{className:"left-pane",flex:.35,minSize:200},i.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#1d1f21"}},i.a.createElement(D,null))),i.a.createElement(v.c,null),i.a.createElement(v.b,{className:"left-pane",minSize:200},i.a.createElement(m,null,Object.values(I).filter(function(e){return e!==I.INITIAL}).map(function(e){return i.a.createElement(k,{key:e,model:{type:e},name:e})}))))),i.a.createElement(v.c,null),i.a.createElement(v.b,{className:"middle-pane",flex:.55,minSize:250},i.a.createElement("div",{className:p.a.paneContent},i.a.createElement(Ft,{ref:this.canvasPanel,variableList:this.state.variableList,onItemAdded:this.onItemAdded.bind(this),onDiagramChanged:this.onDiagramChanged.bind(this),onDrop:this.onCanvasDrop.bind(this),onSelectionChanged:this.onSelectionChanged.bind(this),onEntityRemoved:this.onEntityRemoved.bind(this)}))),i.a.createElement(v.c,null),i.a.createElement(v.b,{minSize:250},i.a.createElement(v.a,{orientation:"horizontal",style:{height:"100vh"}},i.a.createElement(v.b,{className:"right-pane",flex:.5,minSize:200},i.a.createElement("div",{className:p.a.propertiesPanel},this.state.properties)),i.a.createElement(v.c,null),i.a.createElement(v.b,{className:"right-pane",minSize:100},i.a.createElement("div",{style:{display:"flex",height:"100%",width:"100%",flexDirection:"column"}},i.a.createElement(M.l,{id:"language-selector",select:!0,value:this.state.selectedLanguage,onChange:function(t){e.setState({selectedLanguage:t.target.value},function(){e.onDiagramChanged()})},className:p.a.languageSelector,margin:"none"},this.programmingLanguages.map(function(e){return i.a.createElement(M.j,{key:e,value:e},g[e])})),i.a.createElement("div",{style:{display:"flex",flex:1,height:"100%",width:"100%",flexDirection:"column"}},i.a.createElement(F,{code:this.state.generatedCode,language:this.state.selectedLanguage}))))))))}}]),t}(a.Component),Vt=n(509),Pt=n(510);n(503),n(504),n(505),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(Vt.a,{basename:"/Flowie"},i.a.createElement("div",null,i.a.createElement(Pt.a,{path:"/",component:Mt,exact:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,n){e.exports={App:"Editor_App__3tFom",paneContent:"Editor_paneContent__eMkRK",diagramLayer:"Editor_diagramLayer__3EbQu",srdDemoCanvas:"Editor_srdDemoCanvas__1q77O",propertiesPanel:"Editor_propertiesPanel__1GtXt",languageSelector:"Editor_languageSelector__3FCne",underline:"Editor_underline__2VhQO"}},92:function(e,t,n){e.exports={tray:"ShapePanel_tray__HYIa9",trayItem:"ShapePanel_trayItem__24yED"}},96:function(e,t,n){e.exports={container:"EditorHeader_container__31XiZ",toolbar:"EditorHeader_toolbar__3TX6K",clickable:"EditorHeader_clickable__3TmOl"}}},[[286,1,2]]]);
//# sourceMappingURL=main.9f149f08.chunk.js.map